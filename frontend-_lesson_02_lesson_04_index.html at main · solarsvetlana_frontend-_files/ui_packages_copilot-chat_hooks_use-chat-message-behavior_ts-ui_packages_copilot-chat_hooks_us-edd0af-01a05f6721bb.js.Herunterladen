"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["lazy-react-partial-actions-survey","lazy-react-partial-configure-mcp-server-partial","lazy-react-partial-single-sign-on-dropdown-partial","ui_packages_copilot-chat_hooks_use-chat-message-behavior_ts-ui_packages_copilot-chat_hooks_us-edd0af"],{79929:(e,t,n)=>{n.d(t,{A:()=>r});let r={messageContainer:"ChatMessage-module__messageContainer--A1rW_","message-action":"ChatMessage-module__message-action--gd8kA",user:"ChatMessage-module__user--x7t7S",ai:"ChatMessage-module__ai--NWwZ0",contentContainer:"ChatMessage-module__contentContainer--s3iSV",message:"ChatMessage-module__message--_amJV",messageContent:"ChatMessage-module__messageContent--cNCus",hasClientConfirmations:"ChatMessage-module__hasClientConfirmations--nYPDm",agentUnauthorizedAvatar:"ChatMessage-module__agentUnauthorizedAvatar--q02uE",skillExecutionText:"ChatMessage-module__skillExecutionText--Fl5HE",fileListItem:"ChatMessage-module__fileListItem--jEMb9",avatar:"ChatMessage-module__avatar--rn6Gb",clientConfirmationContainer:"ChatMessage-module__clientConfirmationContainer--bBSQw",confirmationStatusText:"ChatMessage-module__confirmationStatusText--LA2mj",messageContentWrapper:"ChatMessage-module__messageContentWrapper--Cuc5Y","snippet-clipboard-content":"ChatMessage-module__snippet-clipboard-content--OZiSB",messageActionsContainer:"ChatMessage-module__messageActionsContainer--E6h9A"}},10370:(e,t,n)=>{n.d(t,{A:()=>r});let r={container:"UserMessage-module__container--cAvvK",mention:"UserMessage-module__mention--JZHRf"}},34441:(e,t,n)=>{n.d(t,{A:()=>r});let r={Box:"SingleSignOnBanner-module__Box--iwIEO",Flash:"SingleSignOnBanner-module__Flash--XK1g3",Box_1:"SingleSignOnBanner-module__Box_1--VPBly",Octicon:"SingleSignOnBanner-module__Octicon--JXNw_",Box_2:"SingleSignOnBanner-module__Box_2--kq0MT",ForceWrap:"SingleSignOnBanner-module__ForceWrap--tZqOV",Paragraph:"SingleSignOnBanner-module__Paragraph--rpV0k",ProtectedOrgs_FullList:"SingleSignOnBanner-module__ProtectedOrgs_FullList--HTdZQ",ProtectedOrgs_Shortened:"SingleSignOnBanner-module__ProtectedOrgs_Shortened--MTXYo",ShieldLockIcon:"SingleSignOnBanner-module__ShieldLockIcon--TXlVP"}},38659:(e,t,n)=>{n.d(t,{v:()=>c});var r=n(21728),a=n(85788),i=n(4144),o=n(53207),s=n(31971),l=n(34901);function c(){let e=(0,r.c)(6),t=(0,o.qw)(),n=(0,l.A3)("activePlugin"),c=(0,a.zy)();if(s.W.improvedNavigation){let n;return e[0]!==c||e[1]!==t?(n=(0,i.B)(c,t),e[0]=c,e[1]=t,e[2]=n):n=e[2],n}{let r;return e[3]!==n||e[4]!==t?(r=n?t.find(e=>e.id===n):void 0,e[3]=n,e[4]=t,e[5]=r):r=e[5],r}}},39376:(e,t,n)=>{n.d(t,{p:()=>p});var r=n(52811),a=n(38007),i=n(96540),o=n(83880),s=n(22069),l=n(34901),c=n(47397),d=n(44435),u=n(88011),m=n(66889),h=n(38659);function p({excludeFeedback:e,inputRef:t,isLatestMessage:n,isStreaming:p,removeOutdatedContentPreviewItems:g}){let{message:f}=(0,o.V)(),y=(0,l.bP)("currentUserLogin","mode"),x=(0,u.tD)(),v=(0,c.b)(),b=(0,h.v)(),_=(0,s.Th)(f,y.currentUserLogin),C="Copilot"===_.name,S="user"===_.type,w=C||(0,s.yh)(_),j=C&&!!f.agentErrors?.length,N=!j&&!!C&&!!f.error&&f.error.isError,I=C&&!e&&(!n||!p)&&!N,T=(0,i.useRef)(null),k=f.interrupted,A=f.clientConfirmations&&f.clientConfirmations.length>0,R=N&&f.error?.retryable,[M,E]=(0,i.useState)([]),[L,P]=(0,i.useState)(void 0),F=(R||k)&&n,$=(0,i.useMemo)(()=>({openLinksInCurrentTab:"assistive"===y.mode,isStreaming:n&&p,extensions:b?.markdownExtensions?b.markdownExtensions.map(e=>e()):[]}),[y.mode,n,p,b?.markdownExtensions]),D=!N&&(I||w&&!!f.content&&!p)&&(!S||!f.confirmations)||S&&!n||N&&n,B=(0,i.useRef)(0);(0,i.useEffect)(()=>{let e=(f.skillExecutions??[]).find(e=>!M.some(t=>t.slug===e.slug&&t.statusMessage===e.statusMessage));if(e){let t=setTimeout(()=>{B.current=Date.now(),E([...M,e]),P(e)},Math.max(0,2e3-(Date.now()-B.current)));return()=>clearTimeout(t)}},[f.skillExecutions,M]),(0,i.useEffect)(()=>{n&&p&&(0,r.i)("Copilot is responding")},[n,p]),(0,i.useEffect)(()=>{n&&!p&&T.current&&(0,r.C)(T.current)},[n,p]);let O=(0,i.useCallback)(async(e,t,n)=>{if(n)n("accepted"===e.state);else{let n=x();await v.sendChatMessage({thread:(0,d.W)(n),content:`@${_.name} ${(0,m.Z)(e.state)} Confirmation: ${t}`,references:f.references??[],topic:n.currentTopic,context:n.context,confirmations:e,customInstructions:n.customInstructions,model:n.model})}},[x,v,_.name,f.references]),U=(0,i.useCallback)(()=>{window.setTimeout(()=>t?.current?.focus(),1)},[t]),z=(0,i.useCallback)(async()=>{let e=x(),t=(0,d.W)(e);t&&(g?.(),U(),(0,a.BI)("dotcom_chat.activate",{target:"RESPONSE_ACTION_RETRY",mode:e.mode}),await v.retryLastUnsuccessfulChatMessage(t))},[x,g,U,v]),q=(0,i.useCallback)(async e=>{let t=x(),n=(0,d.W)(t);n&&(g?.(),U(),(0,a.BI)("dotcom_chat.activate",{target:"RESPONSE_ACTION_RETRY_FOR_NEW_SUBTHREAD",mode:t.mode}),await v.retryUserChatMessage(n,f,e))},[x,v,f,g,U]),V=(0,i.useCallback)(async e=>{let t=x(),n=(0,d.W)(t);n&&(g?.(),await v.editUserChatMessage(n,f,e))},[x,v,f,g]);return{author:_,removeOutdatedContentPreviewItems:g,handleConfirmationAction:O,handleRetryErrorMessage:z,handleRetryCopilotResponse:q,handleEditUserMessage:V,hasClientConfirmations:A,isCopilot:C,isUser:S,isAI:w,isAgentError:j,isError:N,isInterrupted:k,myRef:T,rendererConfig:$,renderFeedback:I,shouldShowMessageActions:D,skillExecutionToUseForRespondingText:L,showRetryButton:F}}},84863:(e,t,n)=>{n.d(t,{Y:()=>d});var r=n(21728),a=n(96540),i=n(22069),o=n(74244),s=n(34901),l=n(47397),c=n(44435);function d(e){let t,n,d,u,m,h,p,g,f,y,x=(0,r.c)(26),v=(0,s.Pk)(),b=(0,l.b)(),{currentTopic:_,messages:C,selectedThreadID:S}=v;x[0]!==v?(t=(0,c.W)(v),x[0]=v,x[1]=t):t=x[1];let w=t,j=(0,a.useRef)(null),N=e||j;return x[2]!==b||x[3]!==C.length||x[4]!==w?(n=()=>{w&&C.length>0&&b.showTopicPicker(!1)},d=[w,C.length,b],x[2]=b,x[3]=C.length,x[4]=w,x[5]=n,x[6]=d):(n=x[5],d=x[6]),(0,a.useEffect)(n,d),x[7]!==_||x[8]!==S?(u=()=>{let e=_?(0,i.P)(_)?_.name:String(_.id):null;S&&e&&o.J.setSelectedTopic(S,e)},m=[S,_],x[7]=_,x[8]=S,x[9]=u,x[10]=m):(u=x[9],m=x[10]),(0,a.useEffect)(u,m),x[11]!==N?(h=()=>{let e=window.setTimeout(()=>{N.current?.focus()},1);return()=>{window.clearTimeout(e)}},p=[N],x[11]=N,x[12]=h,x[13]=p):(h=x[12],p=x[13]),(0,a.useEffect)(h,p),x[14]!==b||x[15]!==v.context?.[0]||x[16]!==v.currentRepository?(g=()=>{let e=v.context?.[0]??v.currentRepository;return e&&b.generateSuggestions(e),()=>{b.clearSuggestions()}},x[14]=b,x[15]=v.context?.[0],x[16]=v.currentRepository,x[17]=g):g=x[17],x[18]!==b||x[19]!==v.context||x[20]!==v.currentRepository||x[21]!==v.currentTopic||x[22]!==v.selectedThreadID?(f=[b,v.context,v.currentTopic,v.currentRepository,v.selectedThreadID],x[18]=b,x[19]=v.context,x[20]=v.currentRepository,x[21]=v.currentTopic,x[22]=v.selectedThreadID,x[23]=f):f=x[23],(0,a.useEffect)(g,f),x[24]!==N?(y={textAreaRef:N},x[24]=N,x[25]=y):y=x[25],y}},54005:(e,t,n)=>{n.d(t,{J:()=>i});var r=n(21728),a=n(96540);function i(e){let t,n,i,l=(0,r.c)(8),{onFilesDrop:c,fileAcceptanceFn:d,onRejectedFiles:u,targetElement:m}=e,[h,p]=(0,a.useState)(!1),g=(0,a.useRef)(0);return l[0]!==d||l[1]!==c||l[2]!==u||l[3]!==m?(t=()=>{if(!m)return;let e=e=>{s(e)&&(e.preventDefault(),e.stopPropagation(),e.dataTransfer?.types.includes("Files")&&(g.current=g.current+1,1===g.current&&p(!0)))},t=e=>{e.preventDefault(),e.stopPropagation(),g.current=g.current-1,g.current<=0&&(g.current=0,p(!1))},n=e=>{if(!s(e))return;e.preventDefault(),e.stopPropagation(),g.current=0,p(!1);let t=e.dataTransfer?.files;if(t&&0!==t.length)if(d){let e=Array.from(t),n=[],r=[];for(let t=0;t<e.length;t++){let a=e[t];d(a,t,e)?n.push(a):r.push(a)}if(r.length>0&&u&&u(r),n.length>0){let e=new DataTransfer;for(let t of n)e.items.add(t);c(e.files,r.length>0)}}else c(t,!1)};return m.addEventListener("dragover",o),m.addEventListener("dragenter",e),m.addEventListener("dragleave",t),m.addEventListener("drop",n),()=>{m.removeEventListener("dragover",o),m.removeEventListener("dragenter",e),m.removeEventListener("dragleave",t),m.removeEventListener("drop",n)}},n=[c,d,u,m],l[0]=d,l[1]=c,l[2]=u,l[3]=m,l[4]=t,l[5]=n):(t=l[4],n=l[5]),(0,a.useEffect)(t,n),l[6]!==h?(i={isDragging:h},l[6]=h,l[7]=i):i=l[7],i}function o(e){e.preventDefault(),e.stopPropagation()}function s(e){return e instanceof DragEvent}},59220:(e,t,n)=>{n.d(t,{a:()=>s});var r=n(96540),a=n(44669),i=n(13468),o=n(99377);function s(e){let{streamingMessage:t,isWaitingOnCopilot:n,messages:s,selectedThreadID:l,pendingFirstMessage:c}=e,d=(0,r.useMemo)(()=>{let e={id:o.Wp,role:"assistant",content:"",createdAt:"",threadID:l||"",references:[],clientSide:!0,messageIndex:-1},r=(0,i.B)(s,c);return n?[...r,t??e]:r},[l,s,c,n,t]);return{messages:d,groupedMessages:(0,a.A)(d)}}},5878:(e,t,n)=>{n.d(t,{g:()=>i});var r=n(21728),a=n(96540);function i(e){let t,n=(0,r.c)(2),[i,o]=(0,a.useState)(!1);return n[0]!==e.current?(t=()=>{let t=e.current,n=t?.lastElementChild;if(!n)return;let r=new IntersectionObserver(e=>{let[t]=e;return o(t?.isIntersecting??!0)},{root:t,threshold:1});return r.observe(n),()=>r.disconnect()},n[0]=e.current,n[1]=t):t=n[1],(0,a.useEffect)(t),i}},6612:(e,t,n)=>{n.d(t,{U:()=>d});var r=n(60439),a=n(40726),i=n(96540),o=n(18312),s=n(34901),l=n(47397),c=n(6901);function d(e,t,n,m,h=!1){let[p,g]=(0,i.useState)(),f=(0,i.useCallback)(()=>g(void 0),[]),{topRepositoriesCache:y,currentRepository:x}=(0,s.Pk)(),v=(0,l.b)(),[b,_]=(0,i.useState)([]),[C,S]=(0,i.useState)(!y&&"initial"),w=(0,i.useRef)(void 0),j=(0,o.useRelayEnvironment)(),N=m&&""!==m.trim();if(p&&!y&&!e&&!N){let e=u(p||[]),{ownerLogin:t,name:n}=x??{};x&&!e.find(e=>`${e.ownerLogin}/${e.name}`==`${t}/${n}`)&&e.splice(0,0,{databaseId:x.id,isInOrganization:"Organization"===x.ownerType,name:x.name,nwo:`${x.ownerLogin}/${x.name}`,ownerLogin:x.ownerLogin,ownerAvatarUrl:`/${x.ownerLogin}.png?s=40`}),setTimeout(()=>v.setTopRepositoryTopics(e),10),S(!1),g(void 0)}let I=(0,i.useCallback)(async()=>{try{let e=await (0,r.St)(j,{first:n,owner:N?m:void 0});g(e)}catch{}finally{S(!1)}},[N,m,j,g,n]);return((0,i.useEffect)(()=>{t&&!N&&I()},[I,N,t,m]),(0,i.useEffect)(()=>{let t=async e=>{S(!0);let{repositories:t}=await (0,r.vO)(j,{query:N?(0,c.rl)(m,e,h):(0,a.J)(e,{includeForks:h}),onStart:e=>{w.current?.unsubscribe(),w.current=e}});_(t.length?u(t):[]),S(!1)};e||N?t(e):y&&_(y)},[e,N,m,j,y,h]),(0,i.useEffect)(()=>{v.setTopRepositoryTopics(void 0)},[v,m]),!y||e||N)?{repositories:b,loading:C,resetTopRepoResults:f}:{repositories:y,loading:!1,resetTopRepoResults:f}}function u(e){return e.map(({owner:{login:e,avatarUrl:t},isInOrganization:n,name:r,databaseId:a})=>({databaseId:a??0,isInOrganization:n,name:r,nwo:`${e}/${r}`,ownerLogin:e,ownerAvatarUrl:t}))}},80597:(e,t,n)=>{n.d(t,{G:()=>c});var r=n(21728),a=n(55206),i=n(96540),o=n(34901),s=n(6901),l=n(44435);function c(){let e,t=(0,r.c)(1),n=(0,i.useRef)(null);t[0]===Symbol.for("react.memo_cache_sentinel")?(e=e=>{let t=(0,l.W)(e),r=(0,a.O)(t);return(0,s.Ym)(n.current,r)?n.current:(n.current=r,r)},t[0]=e):e=t[0];let c=(0,o.pn)(e);return(0,s.iI)()||c}},39818:(e,t,n)=>{n.d(t,{JE:()=>g,Z3:()=>h,bn:()=>m,kw:()=>f,qj:()=>p});var r=n(21728),a=n(97286),i=n(99837),o=n(96540),s=n(80597),l=n(22069),c=n(34901),d=n(47397),u=n(88011);let m="https://github.com/marketplace?type=apps&copilot_app=true",h="@",p=/^@(?<slug>\S+)$/;function g(e){let t,n,i,o,m,h,p=(0,r.c)(25),{agentsPath:g,model:f}=(0,c.bP)("agentsPath","model"),y=(0,u.tD)(),x=(0,d.b)(),v=!!(0,s.G)(),b=f?.hasLimitedCapabilities;p[0]!==y||p[1]!==v||p[2]!==b?(t=e=>{let{messages:t}=y();if(b||v)return{agents:[],showLimit:!1};let n=(0,l.Q7)(t)[0];return n?{agents:e.filter(e=>e.slug===n.name),showLimit:e.length>1}:{agents:e,showLimit:!1}},p[0]=y,p[1]=v,p[2]=b,p[3]=t):t=p[3];let _=t;p[4]!==g?(n=["copilot-chat","agents",g],p[4]=g,p[5]=n):n=p[5],p[6]!==g||p[7]!==x?(i=()=>g?x.fetchAgents(g):[],p[6]=g,p[7]=x,p[8]=i):i=p[8];let C=(void 0===e||e)&&!b&&!v;p[9]!==_||p[10]!==n||p[11]!==i||p[12]!==C?(o={queryKey:n,queryFn:i,select:_,enabled:C},p[9]=_,p[10]=n,p[11]=i,p[12]=C,p[13]=o):o=p[13];let{isLoading:S,data:w,refetch:j,isStale:N,isFetched:I}=(0,a.I)(o);p[14]!==w||p[15]!==I||p[16]!==N||p[17]!==j?(m=async()=>!I||N?(await j()).data:w,p[14]=w,p[15]=I,p[16]=N,p[17]=j,p[18]=m):m=p[18];let T=m,k=w?.agents,A=w?.showLimit??!1;return p[19]!==T||p[20]!==S||p[21]!==k||p[22]!==A||p[23]!==b?(h={loading:S,disabled:b,availableAgents:k,showLimit:A,imperativelyFetch:T},p[19]=T,p[20]=S,p[21]=k,p[22]=A,p[23]=b,p[24]=h):h=p[24],h}function f({inputOnChange:e,inputRef:t}){let n=(0,i.H)({inputRef:t,fallbackEventHandler:e});return(0,o.useCallback)((e="")=>{t.current?.value&&n(" ",[0,0]);let r=`${h}${e}`;n(r,[0,0],r.length)},[n,t])}},51295:(e,t,n)=>{n.d(t,{O:()=>r});function r(e,t){let n={};for(let r of e){let e=t(r);n[e]??(n[e]=[]),n[e].push(r)}return n}},33900:(e,t,n)=>{n.d(t,{Ld:()=>f,M8:()=>y,Tz:()=>C,W5:()=>m,cx:()=>g,r_:()=>_,vn:()=>b,xG:()=>h});var r=n(21728),a=n(26559),i=n(97665),o=n(40458),s=n(94747),l=n(97286),c=n(60039),d=n(96540),u=n(74244);n(34901),n(47397);let m={Unindexed:"not_indexed",Indexed:"indexed",Indexing:"indexing",PartiallyIndexed:"partially_indexed",Unknown:"unknown"},h={Requested:"requested",NotFound:"not_found",Unauthorized:"unauthorized",ServiceUnavailable:"service_unavailable",QuotaExhausted:"quota_exhausted",Forbidden:"forbidden",CanIndex:"ok",IndexingError:"indexing_error",RequestFailed:"request_failed",Unknown:"unknown"},p=[h.NotFound,h.Unauthorized,h.ServiceUnavailable,h.QuotaExhausted,h.Forbidden,h.RequestFailed],g=256,f=400;function y(e){var t,n;let a,l,c,d,u,g,f,y,b,_,C=(0,r.c)(22),S=(0,i.jE)();C[0]!==S||C[1]!==e?(a=()=>Promise.all(e.map(e=>S.invalidateQueries({queryKey:["copilot-chat","repos-indexing-state",e]}))),C[0]=S,C[1]=e,C[2]=a):a=C[2];let j=a;C[3]!==e?(l=e.map(v),C[3]=e,C[4]=l):l=C[4],C[5]!==l?(c={queries:l},C[5]=l,C[6]=c):c=C[6];let T=(0,o.E)(c);C[7]===Symbol.for("react.memo_cache_sentinel")?(d=["repos-indexing-state"],C[7]=d):d=C[7],C[8]!==e?(u=()=>w(e),C[8]=e,C[9]=u):u=C[9],C[10]!==j||C[11]!==u?(g={mutationKey:d,mutationFn:u,onSuccess:j},C[10]=j,C[11]=u,C[12]=g):g=C[12];let{mutate:k}=(0,s.n)(g);C[13]!==T?(f={requestStatus:0===(n=(t=T.map(x)).map(e=>e.requestStatus)).length?h.Unknown:n.some(e=>p.includes(e))?h.IndexingError:n.every(e=>e===h.CanIndex)?h.CanIndex:(n.every(e=>e===h.Unknown),h.Unknown),code:N(t.map(e=>e.code)),docs:N(t.map(e=>e.docs)),remainingRepoIndexTokens:t[0]?.remainingRepoIndexTokens},C[13]=T,C[14]=f):f=C[14];let A=f,R=A.code===m.Indexing&&A.requestStatus!==h.IndexingError;return C[15]!==j?(y=()=>void j(),C[15]=j,C[16]=y):y=C[16],I(y,1e4*!!R),C[17]!==k?(b=()=>k(),C[17]=k,C[18]=b):b=C[18],C[19]!==A||C[20]!==b?(_=[A,b],C[19]=A,C[20]=b,C[21]=_):_=C[21],_}function x(e){return e.data}function v(e){return{queryKey:["copilot-chat","repos-indexing-state",e],queryFn:()=>S(e),placeholderData:{requestStatus:h.Unknown,code:m.Unknown,docs:m.Unknown},staleTime:1/0}}function b(e){let t,n,a,o,c,d,u,p,g,f,y,x=(0,r.c)(23),v=(0,i.jE)();x[0]!==v||x[1]!==e?(t=()=>Promise.resolve(v.invalidateQueries({queryKey:["repo-indexing-state",e]})),x[0]=v,x[1]=e,x[2]=t):t=x[2];let b=t;x[3]!==e?(n=["copilot-chat","repo-indexing-state",e],a=()=>S(e),x[3]=e,x[4]=n,x[5]=a):(n=x[4],a=x[5]),x[6]===Symbol.for("react.memo_cache_sentinel")?(o={requestStatus:h.Unknown,code:m.Unknown,docs:m.Unknown},x[6]=o):o=x[6],x[7]!==n||x[8]!==a?(c={queryKey:n,queryFn:a,placeholderData:o,staleTime:1/0},x[7]=n,x[8]=a,x[9]=c):c=x[9];let _=(0,l.I)(c);x[10]===Symbol.for("react.memo_cache_sentinel")?(d=["repo-indexing-state"],x[10]=d):d=x[10],x[11]!==e?(u=()=>w([e]),x[11]=e,x[12]=u):u=x[12],x[13]!==b||x[14]!==u?(p={mutationKey:d,mutationFn:u,onSuccess:b},x[13]=b,x[14]=u,x[15]=p):p=x[15];let{mutate:C}=(0,s.n)(p),j=_.data,N=j.code===m.Indexing&&j.requestStatus!==h.IndexingError;return x[16]!==b?(g=()=>void b(),x[16]=b,x[17]=g):g=x[17],I(g,1e4*!!N),x[18]!==C?(f=()=>C(),x[18]=C,x[19]=f):f=x[19],x[20]!==j||x[21]!==f?(y=[j,f],x[20]=j,x[21]=f,x[22]=y):y=x[22],y}function _(e){let t,n=(0,r.c)(2);n[0]!==e?(t={queryKey:["copilot-chat","repos-indexing-state",e],queryFn:()=>j(e),staleTime:1/0},n[0]=e,n[1]=t):t=n[1];let a=(0,l.I)(t);return!a.isError&&!!a.data?.canChat}function C(){let e=u.J.getPanelHeight(),t=u.J.getPanelWidth(),n=(0,d.useRef)(null),r=(0,d.useRef)(e),a=(0,d.useRef)(e),i=(0,d.useRef)(null),o=(0,d.useRef)(t),s=(0,d.useRef)(t),[l,c]=(0,d.useState)(e),[m,h]=(0,d.useState)(t),p=(0,d.useRef)(0);(0,d.useEffect)(()=>{p.current=parseFloat(getComputedStyle(document.documentElement).fontSize)},[]);let y=e=>Math.min(Math.max(e,g),window.innerHeight-p.current),x=e=>Math.min(Math.max(e,f),window.innerWidth-2*p.current),v=(0,d.useCallback)(e=>{if(null!==n.current){let t=n.current-e.clientY,i=y(r.current+t);c(i),a.current=i}if(null!==i.current){let t=i.current-e.clientX,n=x(o.current+t);h(n),s.current=n}},[]),b=(0,d.useCallback)(()=>{window.removeEventListener("mousemove",v),window.removeEventListener("mouseup",b),null!==n.current&&(u.J.setPanelHeight(a.current),n.current=null),null!==i.current&&(u.J.setPanelWidth(s.current),i.current=null)},[v]),_=(0,d.useCallback)((e,t,a)=>{0===e.button&&(e.preventDefault(),a&&(n.current=e.clientY,r.current=l),t&&(i.current=e.clientX,o.current=m),window.addEventListener("mousemove",v),window.addEventListener("mouseup",b))},[l,m,v,b]),C=(0,d.useCallback)(e=>{if("ArrowUp"===e.key){let t=y(l+4);c(t),u.J.setPanelHeight(t),e.preventDefault()}else if("ArrowDown"===e.key){let t=y(l-4);c(t),u.J.setPanelHeight(t),e.preventDefault()}else if("ArrowRight"===e.key){let t=x(m-4);h(t),u.J.setPanelWidth(t),e.preventDefault()}else if("ArrowLeft"===e.key){let t=x(m+4);h(t),u.J.setPanelWidth(t),e.preventDefault()}},[l,m]);return{panelWidth:m,panelHeight:l,startResize:_,onResizerKeyDown:C}}async function S(e){let t=await fetch(`/search/check_indexing_status?nwo=${encodeURIComponent(e)}`,{headers:{Accept:"application/json",...(0,a.kt)()}});if(!t.ok)return{requestStatus:h.RequestFailed,code:m.Unknown,docs:m.Unknown};let n=await t.json();return{requestStatus:n.can_index,code:n.code_status,docs:n.docs_status}}async function w(e){let t=1===e.length?`nwo=${encodeURIComponent(e[0])}`:`nwos=${encodeURIComponent(JSON.stringify(e))}`;return(0,c.DI)(`/search/index_embeddings?${t}&index_code=true`,{method:"POST"})}async function j(e){let t=await fetch(`/github-copilot/docs/docsets/kb_indexed_repos?ids=${encodeURIComponent(JSON.stringify(e))}`,{headers:{Accept:"application/json",...(0,a.kt)()}});return t.ok?await t.json():{canChat:!1}}function N(e){return e.every(e=>e===m.Indexed)?m.Indexed:e.every(e=>e===m.Unindexed)?m.Unindexed:e.some(e=>e===m.Indexing)?m.Indexing:e.some(e=>e===m.Unindexed)?m.PartiallyIndexed:m.Unknown}function I(e,t){let n,a,i,o,s=(0,r.c)(6),l=(0,d.useRef)(void 0),c=(0,d.useRef)(e);return s[0]!==e?(n=()=>{c.current=e},a=[e],s[0]=e,s[1]=n,s[2]=a):(n=s[1],a=s[2]),(0,d.useEffect)(n,a),s[3]!==t?(i=()=>{if(t>0)return l.current=window.setInterval(()=>c.current(),t),()=>window.clearInterval(l.current)},o=[t],s[3]=t,s[4]=i,s[5]=o):(i=s[4],o=s[5]),(0,d.useEffect)(i,o),l}},22469:(e,t,n)=>{n.d(t,{s:()=>CopilotImageAttacher});var r=n(38007),a=n(22069),i=n(31971),o=n(53850),s=n(7324);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let c=["image/gif","image/jpeg","image/png","image/webp"];let CopilotImageAttacher=class CopilotImageAttacher{static getAllowedImageFileExtensions(e){return this.getFileExtensions(e).join(",")}static isTypeAllowed(e,t){return e=e.toLowerCase(),this.getMimeTypes(t).includes(e)}static getAllowedFiles(e,t){let[n,r]=e.reduce(([e,n],r)=>this.isTypeAllowed(r.type,t)?[[...e,r],n]:[e,[...n,r]],[[],[]]);return[n,r]}static getAttachmentLimit(){return i.W.attachMultipleImages?4:1}static getAttachmentSizeLimit(){return 3932160}static makeImageReference(e,t){let n=crypto.randomUUID(),r=new s.N(n,e,t);return{id:n,attachment:r,type:"image",name:e.name||"Image"}}static getFileExtensions(e){if(Array.isArray(e))return Array.from(new Set(e.flatMap(e=>this.getFileExtensions(e))));let t=this.getMimeTypes(e).map(e=>`.${e.split("/")[1]}`);return t.includes(".jpeg")&&t.push(".jpg"),t}static getMimeTypes(e){return Array.isArray(e)?Array.from(new Set(e.flatMap(e=>this.getMimeTypes(e)))):e.capabilities.limits.vision?e.capabilities.limits.vision.supported_media_types.filter(e=>c.includes(e)):[]}async addImageAttachments(e,t="unknown",n,s=!1){if(0===e.length)return[];let l=null,c=this.state.selectedThreadID,d=this.manager.getPendingThreadId(n),u=i.W.visionSkipThreadCreate;if(n&&!c&&d&&(c=d),!c&&!u)try{c=(l=await this.manager.createThread({customCopilotId:n,preventThreadSelection:s})).id}catch(t){let e="An error occurred creating the thread. Sending a single message should create a new thread.";throw t instanceof Error&&(e||(e=t.message)),this.manager.addAmbientError(e),Error(e)}let m=this.state.currentReferences.filter(e=>"image"===e.type).length,h=CopilotImageAttacher.getAttachmentLimit();if(m+e.length>h){let e=i.W.attachMultipleImages?`You can add up to ${h} image files per message.`:"Only one image can be uploaded at a time";return this.manager.addAmbientError(e),(0,o.d)("file_limit_reached"),[]}let p=[],g=[];for(let n of e){if(!CopilotImageAttacher.isTypeAllowed(n.type,this.state.model))return(0,o.d)("included_unsupported_file",{fileTypes:n.type,uploadType:t}),[];if(n.size>CopilotImageAttacher.getAttachmentSizeLimit())return this.manager.addAmbientError("Only images below 3.75MB are supported"),(0,o.d)("size_limit_exceeded",{size:n.size}),[];if(null==c&&!u)throw this.manager.addAmbientError("Please manually create a thread before uploading an image"),Error("ThreadID resolution for image attachment is not functioning properly");let e=CopilotImageAttacher.makeImageReference(n,c);if(this.state.model.id.startsWith("claude")&&this.state.model.capabilities.supports.vision){let t=await e.attachment.getDimensions();if(t.width&&t.height&&(t.width>8e3||t.height>8e3)){this.manager.addAmbientError("The image you uploaded exceeds the maximum allowed dimensions for Claude models. Please try again with another model."),(0,o.d)("dimension_limit_exceeded",{width:t.width,height:t.height});continue}}let r=(0,a.Vc)(n.name);this.manager.addReference(r,"image-attacher"),0===g.length&&this.manager.dispatch({type:"WAITING_ON_ATTACHMENT",loading:!0}),g.push({file:n,placeholder:r,reference:e})}return await Promise.all(g.map(async({file:e,placeholder:n,reference:a})=>{try{l&&await a.attachment.prefetch(),this.manager.setImageAttachmentUploaded(a.id,a.attachment),this.manager.replaceReference(n,a),(0,r.BI)("dotcom_chat.vision.image_added",{uploadType:t}),p.push(a)}catch(r){this.manager.removeReference(n);let t="An unexpected error occurred while reading the file";if("string"==typeof r)throw this.manager.addAmbientError(`An error occurred uploading the attachment ${e.name}`),(0,o.d)("ErrorString",{message:r}),Error(r);if(r instanceof Error)if((0,o.d)(r.name,{message:r.message}),"GenericServerError"===r.name&&r.message.includes("Error creating policy"))this.manager.addAmbientError(t);else throw this.manager.addAmbientError(t),r;else throw this.manager.addAmbientError(t),r}})).finally(()=>{this.manager.dispatch({type:"WAITING_ON_ATTACHMENT",loading:!1})}),s&&n&&l&&this.manager.setPendingThreadId(l.id,n),p}constructor(e,t){l(this,"state",void 0),l(this,"manager",void 0),this.state=e,this.manager=t}}},53850:(e,t,n)=>{n.d(t,{d:()=>a});var r=n(38007);function a(e,t){(0,r.BI)("dotcom_chat.vision.error",{type:e,...t})}},86571:(e,t,n)=>{n.d(t,{E:()=>CopilotTextAttacher,x:()=>s});var r=n(38007),a=n(22069),i=n(65011);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let s="application/x.clipboard",l=/^\s*`?([\w-_]{3,40}\.\w{1,10})`?\s*$/;let CopilotTextAttacher=class CopilotTextAttacher{static async isAttachable(e){if(e.size>CopilotTextAttacher.getAttachmentSizeLimit())return!1;let t=await e.text();return CopilotTextAttacher.isPlainText(t)}static getTextFileExtensions(){return CopilotTextAttacher.fileExtensionsCache??(CopilotTextAttacher.fileExtensionsCache=Object.values(i.r4).flatMap(e=>e.extensions??[]).filter(e=>"stl"!==e).join(","))}static getAttachmentSizeLimit(){return 512e3}static isPlainText(e){let t=Math.min(e.length,1e3),n=0,r=0;for(let a=0;a<t;a++){let t=e.charCodeAt(a);0===t?n++:t>127&&r++}let a=n/t,i=r/t;return a<=.1&&i<=.2}async makeReference(e,t){let n=await e.text(),r=e.name||(t?await t:await this.generateFileName(n,e.type));return this.makeReferenceSync(n,r)}makeReferenceSync(e,t){let n=t.split(".").pop();return(0,r.BI)("copilot.attach_pasted_file",{extension:n,characters:e.length}),{type:"thread-scoped-file",name:t,text:e,language:""}}async addAttachment(e,t,n){let r;if(e.size>CopilotTextAttacher.getAttachmentSizeLimit())return void this.manager.addAmbientError("Attached text files must be smaller than 500KB");let i=await e.text();if(!CopilotTextAttacher.isPlainText(i))return void this.manager.addAmbientError(`"${e.name}" has an unsupported file type. Please try again with a plain text file`);if(n)r=this.makeReferenceSync(i,n),this.manager.addReference(r,"text-attacher");else{let n=(0,a.Vc)(e.name);this.manager.addReference(n,"text-attacher"),this.manager.dispatch({type:"WAITING_ON_ATTACHMENT",loading:!0});try{r=await this.makeReference(e,t),this.manager.replaceReference(n,r)}catch{this.manager.addAmbientError("Failed to process file. Please try again."),this.manager.removeReference(n)}finally{this.manager.dispatch({type:"WAITING_ON_ATTACHMENT",loading:!1})}}return r}async generateFileName(e,t){let n=this.existingFileNames.size>0?`

Follow the naming formats used by these existing files: ${Array.from(this.existingFileNames).slice(0,5).join(", ")}`:"",a=await this.manager.service.getSimpleCompletion(`Return a suitable filename for the following file contents.
      Follow the file naming conventions of the language and do not include any special characters except for period, underscore or hyphens.
      Try to limit the name to 20 characters or less.
      You MUST include the file extension. Include only the filename in your response and nothing else.${n}

File contents:
\`\`\`
${e}
\`\`\`
`),i=a.ok?l.exec(a.payload)?.[1]:null;return i?(0,r.BI)("copilot.generate_pasted_file_name.success"):(0,r.BI)("copilot.generate_pasted_file_name.failure"),this.uniqueFileName(i??this.defaultFileName(t))}uniqueFileName(e){if(!this.existingFileNames.has(e))return e;let t=e.lastIndexOf("."),n=t>0&&t<e.length-1,r=n?e.substring(0,t):e,a=n?e.substring(t):"",i=2;for(;this.existingFileNames.has(`${r}${i}${a}`);)i++;return`${r}${i}${a}`}defaultFileName(e){return e===s?"pasted.txt":"untitled.txt"}constructor(e,t=new Set){o(this,"manager",void 0),o(this,"existingFileNames",void 0),this.manager=e,this.existingFileNames=t}};o(CopilotTextAttacher,"fileExtensionsCache",void 0)},26268:(e,t,n)=>{n.d(t,{Q:()=>o});let r=/^@(?<repo>[\w-.]+\/[\w-.]+)(?:\/(?<type>\w+)\/(?<id>.+))?$/,a=/^@(?<id>[a-zA-Z0-9_.-]+)$/,i={fromUrlType(e){switch(e){case"issues":return"issue";case"pull":return"pull-request";case"discussions":return"discussion";case"blob":case"tree":return"file";case void 0:return"repository"}},fromMentionType(e){switch(e){case"issues":return"issue";case"pull":return"pull-request";case"discussions":return"discussion";case"files":return"file";case void 0:return"repository"}}},o={fromUrl(e){let t;try{t=new URL(e)}catch{return}if(t.hostname!==window.location.hostname)return;let[,n,r,a,...o]=t.pathname.split("/"),s=o.join("/"),l=i.fromUrlType(a);if(n&&r&&l)return{repo:`${n}/${r}`,type:s?l:"repository",id:s}},stringify(e){switch(e.type){case"issue":return`@${e.repo}/issues/${e.id??""}`;case"pull-request":return`@${e.repo}/pull/${e.id??""}`;case"discussion":return`@${e.repo}/discussions/${e.id??""}`;case"repository":return`@${e.repo}`;case"file":return`@${e.repo}/files/${e.id??""}`;case"thread-scoped-file":return`@${e.id??""}`}},parse(e){let t=r.exec(e)?.groups;if(!t){let t=a.exec(e)?.groups;return t?{repo:"",type:"thread-scoped-file",id:t.id}:void 0}let n=i.fromMentionType(t.type);return n?{repo:t.repo,type:n,id:t.id}:void 0},isEqual:(e,t)=>o.stringify(e)===o.stringify(t),refersTo(e,t){let n=o.for(t);return null!==n&&o.isEqual(e,n)},for:e=>{switch(e.type){case"repository":return{type:"repository",repo:`${e.ownerLogin}/${e.name}`,reference:e};case"issue":return{type:"issue",repo:`${e.repository.owner}/${e.repository.name}`,id:e.number.toString(),reference:e};case"pull-request":return{type:"pull-request",repo:`${e.repository.ownerLogin}/${e.repository.name}`,id:e.number.toString(),reference:e};case"discussion":return{type:"discussion",repo:`${e.repository.owner}/${e.repository.name}`,id:e.number.toString(),reference:e};case"file":case"folder":return{type:"file",repo:`${e.repoOwner}/${e.repoName}`,id:e.path,reference:e};case"thread-scoped-file":return{type:"thread-scoped-file",repo:"",id:e.name,reference:e};default:return null}}}},66889:(e,t,n)=>{n.d(t,{Z:()=>r});function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}},36721:(e,t,n)=>{n.d(t,{U:()=>o});var r=n(39818),a=n(22069),i=n(26268);let o=function({references:e,agents:t}){this.parser=function(n){let o=n.split(/(\s+)/),s=[];for(let[n,l]of o.entries()){let o=0===n&&r.qj.exec(l)?.groups?.slug,c=o&&t.find(e=>e.slug===o);if(c){s.push({type:"agent-mention",value:l,data:{mentionedAgent:c}});continue}let d=i.Q.parse(l),u=d&&e?.find(e=>i.Q.refersTo(d,e));if(d){s.push({type:"reference-mention",value:l,data:{mentionedReferenceId:u&&(0,a.Vb)(u),referenceMention:d}});continue}let m=s.at(-1);m?.type==="text"?m.value+=l:s.push({type:"text",value:l})}return{type:"root",children:s}}}},13897:(e,t,n)=>{n.d(t,{O:()=>i,_:()=>o});var r=n(47970),a=n(39818);function i(e){let t=new Set;return(0,r.YR)(e,e=>{"reference-mention"===e.type&&void 0!==e.data.mentionedReferenceId&&t.add(e.data.mentionedReferenceId)}),t}function o(e){return a.qj.test(e.split(/\s/)[0]??"")}},68714:(e,t,n)=>{n.d(t,{$7:()=>d,AV:()=>f,Ao:()=>h,BV:()=>g,OW:()=>CopilotSpaceSSOError,Tx:()=>p,e9:()=>u,i9:()=>CopilotSpaceNotFoundError,jS:()=>m});var r=n(97665),a=n(94747),i=n(97286),o=n(29255),s=n(47397),l=n(96540),c=n(34901);let CopilotSpaceNotFoundError=class CopilotSpaceNotFoundError extends Error{constructor(e="Copilot Space not found"){super(e),this.name="CopilotSpaceNotFoundError"}};let CopilotSpaceSSOError=class CopilotSpaceSSOError extends Error{constructor(e,t="Copilot Space SSO error"){super(t),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"protectedOrganizations",void 0),this.protectedOrganizations=e,this.name="CopilotSpaceSSOError"}};function d(){let e=(0,r.jE)();return(0,a.n)({mutationFn:async e=>{let t=await (0,o.ee)(e);if(!t.ok)throw Error(t.error);return{status:t.status,ok:!0,payload:t.payload}},onSuccess:async()=>{await e.invalidateQueries({queryKey:o.O6})}})}function u(e){let t=(0,s.b)(),{data:n}=m(e,{throwOnError:!1});(0,l.useEffect)(()=>{n&&t.dispatch({type:"SET_CUSTOM_COPILOTS",customCopilots:n})},[n,t])}function m(e,t={}){return(0,i.I)({queryKey:o.O6,queryFn:o.CT,enabled:e,staleTime:3e5,throwOnError:t.throwOnError})}function h(e){return(0,i.I)({queryKey:(0,o.dp)(e),queryFn:async()=>{let t=await (0,o.Lr)(e);if(!t.ok){if(404===t.status)throw new CopilotSpaceNotFoundError;throw Error(t.error)}if(void 0===t.payload.id)throw new CopilotSpaceSSOError(t.payload.protectedOrganizations);return t.payload},enabled:!!e})}function p(e,t){return(0,i.I)({queryKey:["visibility-settings",e,t],queryFn:async()=>(0,o.A2)({owner:e,id:t}),enabled:""!==e&&-1!==t,staleTime:3e5})}function g(){return(0,c.A3)("customCopilotsEnabled")}function f(){let e=function(){let e=(0,c.A3)("customCopilots");return e?.length??0}(),[t,n]=(0,l.useState)(null),r=(0,l.useMemo)(()=>`New Space ${e+1}`,[e]);return(0,l.useEffect)(()=>{null===t&&n(r)},[r,t]),{name:t||"",setName:n,defaultName:r}}},88334:(e,t,n)=>{n.d(t,{I:()=>o});var r=n(34901),a=n(55206),i=n(68714);function o(){let{threads:e}=(0,r.Pk)(),t=Array.from(e.values()).sort((e,t)=>new Date(t.updatedAt).getTime()-new Date(e.updatedAt).getTime()).map(e=>(0,a.O)(e)).filter(e=>null!==e),n=(0,i.jS)(!0),{data:o}=n;if(void 0===o)return n;let s=new Set,l=[...t.map(e=>o.find(t=>e.id===t.id&&e.owner===t.owner)).filter(e=>{if(void 0===e)return!1;let t=`${e.owner}:${e.id}`;return!s.has(t)&&(s.add(t),!0)}),...[...o].sort((e,t)=>new Date(t.updatedAt).getTime()-new Date(e.updatedAt).getTime()).filter(e=>{let t=`${e.owner}:${e.id}`;return!s.has(t)})].slice(0,5);return{...n,data:l}}},24001:(e,t,n)=>{n.d(t,{C:()=>o});var r=n(7777),a=n(80597),i=n(96540);function o(){let e=(0,a.G)(),{selectedCopilotSpaceId:t,setSelectedCopilotSpaceId:n,selectedThreadId:o}=(0,r.O)(),s=!!o||!!e;(0,i.useEffect)(()=>{n(e||void 0)},[e,n]);let l=t||e,c=(0,i.useCallback)(e=>{s||n({id:e.id,owner:e.owner})},[n,s]),d=(0,i.useCallback)(()=>{s||n(void 0)},[n,s]);return{activeCopilotSpaceId:l,readOnly:s,handleSpaceSelect:c,clearSpaceSelection:d}}},93959:(e,t,n)=>{n.d(t,{$:()=>u});var r=n(47397),a=n(6901),i=n(29255),o=n(27851),s=n(97665),l=n(94747),c=n(60039),d=n(78191);let u=e=>{let t=(0,r.b)(),n=(0,s.jE)(),u=(0,o.G7)("copilot_spaces_upsert_reload_in_background"),{mutateAsync:m,...h}=(0,l.n)({onSuccess:async()=>{if(!u)return e&&await n.invalidateQueries({queryKey:(0,i.dp)(e)}),n.invalidateQueries({queryKey:i.O6});n.invalidateQueries({queryKey:i.O6}),e&&await n.invalidateQueries({queryKey:(0,i.dp)(e)})},mutationFn:async n=>{let r=e?(0,a.fn)(e):"/custom_copilots",i=e?"PUT":"POST",o={custom_copilot:{owner_id:n.ownerId,owner_type:n.ownerType,name:n.name,icon_type:n.iconType,icon_color:n.iconColor,description:n.description,general_instructions:n.generalInstructions,resources_attributes:n.resources?.map(e=>({id:e.databaseId,copilot_chat_attachment_id:e.copilotChatAttachmentId,resource_type:e.type,_destroy:e.markedForDestroy,metadata:(0,d.M)(e)})),visibility:n.visibility,base_role:n.baseRole}},s=await (0,c.lS)(r,{method:i,body:o}),l=await s.json();if(!s.ok)throw l.errorMessages;return t.dispatch({type:"SET_CUSTOM_COPILOT",customCopilot:l}),l}});return{upsertCopilotSpace:m,...h}}},29255:(e,t,n)=>{n.d(t,{A2:()=>m,CT:()=>c,Lr:()=>d,O6:()=>s,dp:()=>l,ee:()=>u});var r=n(22069),a=n(6901),i=n(60039);let o="/github-copilot/chat",s=["copilot-chat","custom-copilots"];function l(e){return e?["copilot-chat","custom-copilot",{id:e.id,owner:e.owner}]:["copilot-chat","custom-copilot",null]}async function c(){let e=await (0,i.lS)(`${o}/custom_copilots`);if(!e.ok)throw Error(`Failed to fetch spaces: ${r.nN[e.status]||r.DW}`);return await e.json()}async function d(e){if(!e||!e.owner)return{status:500,ok:!1,error:"unexpected null custom copilot id or missing owner"};let{owner:t,id:n}=e,a=`${o}/custom_copilots/${t}/${n}`,s=await (0,i.lS)(a);if(!s.ok)return{status:s.status,ok:!1,error:r.nN[s.status]||r.DW};let l=await s.json();return{status:s.status,ok:!0,payload:l}}async function u(e){let t=await (0,i.lS)((0,a.fn)(e),{method:"DELETE"});return t.ok?{status:t.status,ok:!0,payload:null}:t}async function m(e){let t=await (0,i.lS)(`${(0,a.fn)(e)}/settings/visibility`);if(!t.ok)throw Error("Error fetching visibility settings");try{let e=await t.json();return{memberCount:e.member_count&&"number"==typeof e.member_count?e.member_count:null}}catch(e){throw Error(`Error parsing visibility settings: ${e}`)}}},78191:(e,t,n)=>{n.d(t,{M:()=>r});function r(e){switch(e.type){case"repository":return{repository_id:e.repositoryId};case"github_file":return{repository_id:e.repositoryId,file_path:e.filePath};case"free_text":return{text:e.text,name:e.name};case"github_issue":case"github_pull_request":return{repository_id:e.repositoryId,number:e.number};case"uploaded_text_file":return{name:e.name};case"media_content":return{media_type:e.mediaType,name:e.name,url:e.url,height:e.height,width:e.width};default:throw Error("Unsupported resource")}}},7531:(e,t,n)=>{n.d(t,{Y:()=>r});function r(){let e={};return e.promise=new Promise((t,n)=>{e.resolve=t,e.reject=n}),e}},50423:(e,t,n)=>{n.d(t,{O:()=>p});var r=n(74848),a=n(60039),i=n(38621),o=n(9852),s=n(73451),l=n(9591),c=n(43371),d=n.n(c),u=n(96540);let m={dialogForm:"McpServerDialog-module__dialogForm--z433U",underline:"McpServerDialog-module__underline--chJUm",inputError:"McpServerDialog-module__inputError--q65kr",formField:"McpServerDialog-module__formField--YBGuW",hiddenSubmitButton:"McpServerDialog-module__hiddenSubmitButton--acJK9"},h=(0,r.jsx)("a",{href:"https://modelcontextprotocol.io/specification/2025-06-18/basic/authorization",target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"underline"},children:"MCP authorization specification"}),p=({isOpen:e,onClose:t,returnUrl:n,onServerAdded:c,returnFocusRef:p,showSettingsLink:g=!0})=>{let[f,y]=(0,u.useState)(""),[x,v]=(0,u.useState)(""),[b,_]=(0,u.useState)(null),C=(0,u.useCallback)(()=>{y(""),v(""),_(null),t()},[t]),S=()=>""!==x.trim(),w=async e=>{if(e&&e.preventDefault(),!S()){x.trim()||_("MCP server URL is required");return}try{if(_(null),!function(e){try{let t=new URL(e.trim(),window.location.origin),n=d()();return"https:"===t.protocol&&!!t.hostname&&/^[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(t.hostname)&&!n.test(e)}catch{return!1}}(x))return void _("Invalid HTTPS URL format");let e=new FormData;e.append("mcp_server_url",x.trim()),e.append("name",f.trim()),n&&e.append("return_url",n);let t=await (0,a.DI)("/copilot/mcp/servers",{method:"POST",body:e});if(!t.ok){let e="Failed to add MCP server";try{let n=await t.text();try{let t=JSON.parse(n);"unsupported_server_type"===t.error?e=(0,r.jsxs)(r.Fragment,{children:["This server does not conform to the ",h,"."]}):t.message&&(e=t.message)}catch{e=n.includes("well-known/oauth-authorization-server")||"Client setup failed"===n.trim()?(0,r.jsxs)(r.Fragment,{children:["This server does not conform to the ",h,"."]}):n||e}}catch{e="Failed to add MCP server"}_(e);return}let i=(await t.json()).redirect_url;i&&"string"==typeof i?(C(),c?.(),window.location.assign(i)):(C(),c?.())}catch(e){e instanceof Error?_(e.message):_("An unknown error occurred")}};return e?(0,r.jsx)(o.l,{title:"Add remote MCP",onClose:C,footerButtons:[{buttonType:"default",content:"Cancel",onClick:C},{buttonType:"primary",content:(0,r.jsxs)(r.Fragment,{children:["Connect to MCP",(0,r.jsx)("span",{style:{marginLeft:8},children:(0,r.jsx)(i.LinkExternalIcon,{size:16})})]}),onClick:()=>{w()}}],returnFocusRef:p,children:(0,r.jsxs)("form",{className:m.dialogForm,onSubmit:w,autoComplete:"on",children:[(0,r.jsxs)(s.A,{className:m.formField,children:[(0,r.jsx)(s.A.Label,{children:"Name"}),(0,r.jsx)(l.A,{name:"mcp-server-name",type:"text",value:f,onChange:e=>y(e.target.value),placeholder:"Enter a name for this MCP",autoComplete:"on",block:!0})]}),(0,r.jsxs)(s.A,{required:!0,className:m.formField,children:[(0,r.jsx)(s.A.Label,{children:"MCP server URL"}),(0,r.jsx)(l.A,{name:"mcp-url",type:"url",value:x,onChange:e=>{v(e.target.value),_(null)},placeholder:"https://mcp.example.com/sse",className:b?m.inputError:void 0,autoComplete:"on",block:!0}),b&&(0,r.jsx)(s.A.Validation,{variant:"error",children:b})]}),(0,r.jsx)("button",{type:"submit",className:m.hiddenSubmitButton,tabIndex:-1,children:"Submit"}),(0,r.jsxs)("p",{children:["MCP data will be processed by models coming from third-party providers. Always review the permissions required by the MCP and only connect to MCPs you know and trust.",g&&(0,r.jsxs)(r.Fragment,{children:[" ","You can revoke access for the MCP at any time in"," ",(0,r.jsx)("a",{href:"/settings",className:m.underline,children:"your settings"}),"."]})]})]})}):null};try{h.displayName||(h.displayName="MCP_SPEC_LINK")}catch{}try{p.displayName||(p.displayName="McpServerDialog")}catch{}},75718:(e,t,n)=>{n.d(t,{P:()=>c});var r=n(74848),a=n(21728),i=n(38911),o=n(96540),s=n(47397);let l={ambientErrorBanner:"AmbientErrorBanner-module__ambientErrorBanner--iXbHt",largeBorderRadius:"AmbientErrorBanner-module__largeBorderRadius--Qk23B",mediumBorderRadius:"AmbientErrorBanner-module__mediumBorderRadius--dREtI"};function c(e){let t,n,c,u,m,h,p=(0,a.c)(14),{ambientError:g,useLargerBorderRadius:f}=e,y=(0,s.b)(),[x,v]=(0,o.useState)(0),b=void 0!==f&&f?l.largeBorderRadius:l.mediumBorderRadius,_=(0,o.useRef)(null);p[0]!==g.message?(t=()=>{if(g.message){v(d);let e=setTimeout(()=>{_.current&&_.current.focus()},250);return()=>clearTimeout(e)}},p[0]=g.message,p[1]=t):t=p[1],p[2]!==g?(n=[g],p[2]=g,p[3]=n):n=p[3],(0,o.useEffect)(t,n);let C=`${l.ambientErrorBanner} ${b}`;return p[4]===Symbol.for("react.memo_cache_sentinel")?(c={outline:"none"},p[4]=c):c=p[4],p[5]!==g.message?(u=(0,r.jsx)("div",{ref:_,tabIndex:-1,style:c,children:g.message}),p[5]=g.message,p[6]=u):u=p[6],p[7]!==y?(m=()=>{y.dismissAmbientError()},p[7]=y,p[8]=m):m=p[8],p[9]!==x||p[10]!==C||p[11]!==u||p[12]!==m?(h=(0,r.jsx)(i.l,{"aria-atomic":"true",className:C,description:u,variant:"critical",title:"Error during copilot chat has occurred.",hideTitle:!0,onDismiss:m},x),p[9]=x,p[10]=C,p[11]=u,p[12]=m,p[13]=h):h=p[13],h}function d(e){return e+1}try{c.displayName||(c.displayName="AmbientErrorBanner")}catch{}},97785:(e,t,n)=>{n.d(t,{o:()=>d});var r=n(74848),a=n(21728),i=n(34164),o=n(96540);let s={chatImageAttachment:"ChatImage-module__chatImageAttachment--A31NV",squareView:"ChatImage-module__squareView--z0mEJ",fullView:"ChatImage-module__fullView--n3xkp",userAttachedImage:"ChatImage-module__userAttachedImage--fpKCB",overlay:"ChatImage-module__overlay--KqENn",overlayScreen:"ChatImage-module__overlayScreen--QlNhZ",expandIcon:"ChatImage-module__expandIcon--B0sBN"};function l(e){let t,n,i=(0,a.c)(5),{className:o,size:s}=e,l=s||14,c=s||14;return i[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,r.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M13.672 5.342a.8.8 0 0 0 .05-.295V.805a.75.75 0 0 0-.75-.75H8.73a.75.75 0 0 0 0 1.5h2.433L8.138 4.577A.75.75 0 0 0 9.2 5.638l3.024-3.023v2.432a.75.75 0 0 0 1.45.295M.328 8.657a.8.8 0 0 0-.05.295v4.243a.75.75 0 0 0 .75.75h4.243a.75.75 0 0 0 0-1.5H2.838l3.024-3.023A.75.75 0 1 0 4.8 8.362l-3.024 3.023V8.952a.75.75 0 0 0-1.45-.295",clipRule:"evenodd"}),i[0]=t):t=i[0],i[1]!==o||i[2]!==l||i[3]!==c?(n=(0,r.jsx)("svg",{className:o,xmlns:"http://www.w3.org/2000/svg",width:l,height:c,fill:"none",viewBox:"0 0 14 14",role:"presentation",children:t}),i[1]=o,i[2]=l,i[3]=c,i[4]=n):n=i[4],n}try{l.displayName||(l.displayName="ExpandIcon")}catch{}let c=e=>{let t,n,c,d,u,m,h,p,g,f=(0,a.c)(25),{src:y,alt:x,onClick:v,useOverlay:b,mode:_,squareView:C}=e,[S,w]=(0,o.useState)(!1),j=C?s.squareView:s.fullView,N="assistive"===_;f[0]!==j||f[1]!==N?(t=(0,i.$)(s.chatImageAttachment,j,{assistive:N}),f[0]=j,f[1]=N,f[2]=t):t=f[2];let I=C?s.squareView:s.fullView;return f[3]!==I?(n=(0,i.$)(s.userAttachedImage,I),f[3]=I,f[4]=n):n=f[4],f[5]!==x||f[6]!==y||f[7]!==n?(c=(0,r.jsx)("img",{className:n,src:y,alt:x}),f[5]=x,f[6]=y,f[7]=n,f[8]=c):c=f[8],f[9]!==S||f[10]!==C?(d=(0,i.$)(s.overlay,{hovered:S,[s.squareView]:C}),f[9]=S,f[10]=C,f[11]=d):d=f[11],f[12]===Symbol.for("react.memo_cache_sentinel")?(u=()=>w(!0),m=()=>w(!1),f[12]=u,f[13]=m):(u=f[12],m=f[13]),f[14]!==b?(h=b&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:s.overlayScreen}),(0,r.jsx)(l,{className:s.expandIcon,size:20})]}),f[14]=b,f[15]=h):h=f[15],f[16]!==v||f[17]!==y||f[18]!==h||f[19]!==d?(p=(0,r.jsx)("a",{href:y,className:d,onClick:v,onMouseEnter:u,onMouseLeave:m,"aria-label":"Open image thumbnail",target:"_blank",rel:"noreferrer",children:h}),f[16]=v,f[17]=y,f[18]=h,f[19]=d,f[20]=p):p=f[20],f[21]!==p||f[22]!==t||f[23]!==c?(g=(0,r.jsxs)("div",{className:t,children:[c,p]}),f[21]=p,f[22]=t,f[23]=c,f[24]=g):g=f[24],g},d=(0,o.memo)(c);try{c.displayName||(c.displayName="ChatImageUnmemoized")}catch{}try{d.displayName||(d.displayName="ChatImage")}catch{}},46458:(e,t,n)=>{n.d(t,{V:()=>ne});var r,a,i=n(74848),o=n(21728),s=n(38007),l=n(85788),c=n(10569),d=n(46309),u=n(63867),m=n(15385),h=n(96540),p=n(44446),g=n(31971),f=n(68714),y=n(88334),x=n(24001),v=n(22069),b=n(34164);let _={toggleButton:"ToggleButton-module__toggleButton--Is6Ni",selected:"ToggleButton-module__selected--U03b1",icon:"ToggleButton-module__icon--tnvqW",textContent:"ToggleButton-module__textContent--xvwFK"},C=(0,h.forwardRef)((e,t)=>{let n,r,a,s,l,c,d,u,m,h,p,g,f,y,x,v,C,S=(0,o.c)(35);S[0]!==e?({icon:r,isSelected:c,onClick:a,hasMenu:d,isMenuOpen:u,selectedItemLabel:l,children:n,...s}=e,S[0]=e,S[1]=n,S[2]=r,S[3]=a,S[4]=s,S[5]=l,S[6]=c,S[7]=d,S[8]=u):(n=S[1],r=S[2],a=S[3],s=S[4],l=S[5],c=S[6],d=S[7],u=S[8]);let w=void 0!==c&&c,j=void 0!==d&&d,N=void 0!==u&&u;S[9]!==s?(m=Object.keys(s).reduce((e,t)=>(t.startsWith("aria-")&&(e[t]=s[t]),e),{}),S[9]=s,S[10]=m):m=S[10];let I=m;S[11]!==j||S[12]!==N||S[13]!==w?(h=()=>j?{"aria-haspopup":"menu","aria-expanded":N}:{"aria-pressed":w},S[11]=j,S[12]=N,S[13]=w,S[14]=h):h=S[14];let T=h;S[15]!==T?(p=T(),S[15]=T,S[16]=p):p=S[16],S[17]!==I||S[18]!==p?(g={...I,...p},S[17]=I,S[18]=p,S[19]=g):g=S[19];let k=g,A=j&&l?l:n;S[20]!==a?(f=e=>{a&&a(e)},S[20]=a,S[21]=f):f=S[21];let R=f,M=w&&_.selected;return S[22]!==M?(y=(0,b.$)(_.toggleButton,M),S[22]=M,S[23]=y):y=S[23],S[24]!==r?(x=!!r&&(0,i.jsx)("span",{className:_.icon,children:r}),S[24]=r,S[25]=x):x=S[25],S[26]!==A?(v=(0,i.jsx)("span",{className:_.textContent,children:A}),S[26]=A,S[27]=v):v=S[27],S[28]!==k||S[29]!==R||S[30]!==t||S[31]!==y||S[32]!==x||S[33]!==v?(C=(0,i.jsxs)("button",{ref:t,type:"button",className:y,onClick:R,...k,children:[x,v]}),S[28]=k,S[29]=R,S[30]=t,S[31]=y,S[32]=x,S[33]=v,S[34]=C):C=S[34],C});C.displayName="ToggleButton";var S=n(1);function w(){let[e,t]=(0,h.useState)(!1),n=(0,l.Zp)(),{handleSpaceSelect:r,clearSpaceSelection:a,activeCopilotSpaceId:o,readOnly:b}=(0,x.C)(),_=(0,h.useRef)(null),w=(0,h.useRef)(null),[j,N]=(0,h.useState)(!1),I=()=>{g.W.spacesV3UI?N(!0):n(v.QT),(0,s.BI)("dotcom_chat.activate",{target:"SPACES_INPUT_CREATE_SPACE",mode:"immersive"})},T=e=>{o&&e.id===o.id&&e.owner===o.owner?a():(r({id:e.id,owner:e.owner}),(0,s.BI)("dotcom_chat.activate",{target:"SPACES_INPUT_SELECT_SPACE",space:`${e.owner}/${e.id}`})),t(!1)},{data:k=[],isLoading:A}=(0,y.I)(),{data:R=[],isLoading:M}=(0,f.jS)(!0),E=(0,f.BV)(),L=A||M;if((0,h.useEffect)(()=>{if(L&&e&&_.current)_.current.focus();else if(!L&&e&&w.current){let e=setTimeout(()=>{w.current?.focus()},0);return()=>clearTimeout(e)}},[L,e]),!E||b)return;let P=o?R.find(e=>e.id===o.id&&e.owner===o.owner):void 0,F=P?P.name:"Space",$="260px";return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(c.W,{open:e,onOpenChange:t,children:[(0,i.jsx)(c.W.Anchor,{children:(0,i.jsx)(C,{icon:(0,i.jsx)(p.I,{icon:"spaces"}),isSelected:!!P,onClick:()=>{},hasMenu:!0,"aria-label":"Select a copilot space for this conversation",isMenuOpen:e,selectedItemLabel:F,children:F})}),(0,i.jsx)(c.W.Overlay,{style:k.length>0?{width:$}:{},children:L?(0,i.jsxs)(d.B,{direction:"horizontal",align:"center",justify:"center",padding:"normal",style:{width:$},children:[(0,i.jsx)("div",{ref:_,role:"status",className:"sr-only",tabIndex:-1,children:"Loading spaces"}),(0,i.jsx)(u.A,{})]}):(0,i.jsx)(m.l,{selectionVariant:"single",role:"menu","aria-label":"Select a space",children:k.length>0?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(m.l.Group,{children:[(0,i.jsx)(m.l.GroupHeading,{"aria-label":"Recent spaces",children:"Recent"}),k.map((e,t)=>{let n=!!o&&e.id===o.id&&e.owner===o.owner;return(0,i.jsx)(m.l.Item,{ref:0===t?w:void 0,role:"menuitemradio",onSelect:()=>T(e),selected:n,"aria-checked":n,children:(0,i.jsx)("span",{children:e.name})},`${e.owner}, ${e.id}`)})]}),(0,i.jsx)(m.l.Divider,{}),(0,i.jsx)(m.l.Item,{onSelect:()=>{n(v.VR),(0,s.BI)("dotcom_chat.activate",{target:"SPACES_INPUT_VIEW_ALL_SPACES",mode:"immersive"})},children:" View all spaces"}),(0,i.jsx)(m.l.Divider,{}),(0,i.jsx)(m.l.Item,{onSelect:I,children:"Create a space"})]}):(0,i.jsx)(m.l.Item,{ref:w,onSelect:I,children:"Create your first space"})})})]}),j?(0,i.jsx)(S.D,{closeDialog:()=>{(0,s.BI)("dotcom_chat.activate",{target:"COPILOT_SPACE_CREATE_DIALOG_CLOSE",mode:"immersive"}),N(!1)}}):null]})}try{w.displayName||(w.displayName="SpacesSelect")}catch{}var j=n(98386),N=n(42080),I=n(99837),T=n(38621),k=n(65556),A=n(55847),R=n(94747),M=n(60039),E=n(7277),L=n(47970),P=n(34901),F=n(47397),$=n(26268),D=n(36721);let B=e=>{switch(e){case"issue":return"issue";case"pull-request":return"pull_request";case"discussion":return"discussion";case"thread-scoped-file":case"file":return"file"}},O=/^(?:https:\/\/)?(?:www\.)?(figma\.com\/.+)$/,U=class FigmaNotAuthorizedError extends Error{constructor(){super(),this.name="FigmaNotAuthorizedError"}};async function z(e){let t=await (0,M.lS)(`/copilot/immersive/figma-link?item_url=${e}`);if(!t.ok){if(403===t.status)throw new U;throw Error(`Failed to fetch Figma reference data (${t.status}: ${t.statusText})`)}return await t.json()}async function q(e){let{itemUrl:t}=e,n=await (0,M.lS)(`/copilot/chat-links?item_url=${t}`);if(!n.ok)throw Error(`Failed to fetch reference data (${n.status}: ${n.statusText})`);return await n.json()}var V=n(17515),H=n(74244),W=n(44435);let G=({manager:e})=>[{label:"Delete conversation",command:"delete",icon:T.TrashIcon,requiresParams:!1,action:async(t,n)=>{e.dispatch({type:"SLASH_COMMANDS_LOADING"});try{let t=(0,W.W)(n);if(!t)throw Error("Thread not found");await e.deleteThread(t),(0,s.BI)("dotcom_chat.activate",{target:"SLASH_COMMAND_DELETE_THREAD",mode:n.mode}),e.dispatch({type:"SLASH_COMMANDS_LOADED"})}catch{e.dispatch({type:"SLASH_COMMANDS_ERROR"})}}},{label:"Rename conversation",command:"rename",icon:T.PencilIcon,requiresParams:!0,action:async(t,n)=>{e.dispatch({type:"SLASH_COMMANDS_LOADING"});try{let r=(0,W.W)(n);if(!r)throw Error("Thread not found");await e.renameThread(r,t),(0,s.BI)("dotcom_chat.activate",{target:"SLASH_COMMAND_RENAME",mode:n.mode}),e.dispatch({type:"SLASH_COMMANDS_LOADED"})}catch{e.dispatch({type:"SLASH_COMMANDS_ERROR"})}}},{label:"Start a new conversation",command:"new",icon:T.PlusIcon,requiresParams:!1,action:async(t,n)=>{e.dispatch({type:"SLASH_COMMANDS_LOADING"});try{await e.selectThread(null),(0,s.BI)("dotcom_chat.activate",{target:"SLASH_COMMAND_NEW_THREAD",mode:n.mode}),e.dispatch({type:"SLASH_COMMANDS_LOADED"})}catch{e.dispatch({type:"SLASH_COMMANDS_ERROR"})}}}],K=async(e,t,n)=>{if((e[0]??"")!=="/")return!1;e=e.substring(1);let r=G({manager:n}).filter(t=>{let n=(e.split(" ",1)[0]??"").toLowerCase().trim();return t.command.toLowerCase().includes(n)});if(1!==r.length)return!1;let a=r[0],i=e.substring(a.command.length).trim();return await a.action(i,t),!0};var Z=n(67522);function Q(e,t,n){if("immersive"===e&&/^\/copilot(\/agents)?\/?$/.test(t)){let e=n.get("prompt");if(e)return e}}var J=n(54005),Y=n(91819),X=n(22469),ee=n(53850),et=n(86571),en=n(6901);let er=(e,t,n)=>e&&"immersive"===t&&!n;var ea=n(80597),ei=n(39818),eo=n(39459);function es(e){let t,n,r,a,l,d,u=(0,o.c)(24),{onSelectPanel:h,onSelectAgent:p}=e,{availableAgents:g,showLimit:f,disabled:y,loading:x}=(0,ei.JE)(),v=g&&g.length>0;if(x){let e;return u[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,i.jsxs)(m.l.Item,{disabled:!0,children:[(0,i.jsx)(m.l.LeadingVisual,{children:(0,i.jsx)(T.MentionIcon,{})}),"Extension"]}),u[0]=e):e=u[0],e}if(y){let e,t,n;return u[1]!==h?(e=()=>{(0,s.BI)("dotcom_chat.activate",{target:"ATTACHMENT_MENU_EXTENSION_NOT_SUPPORTED",mode:"immersive"}),h("agents-not-supported")},u[1]=h,u[2]=e):e=u[2],u[3]===Symbol.for("react.memo_cache_sentinel")?(t=(0,i.jsx)(m.l.LeadingVisual,{children:(0,i.jsx)(T.MentionIcon,{})}),u[3]=t):t=u[3],u[4]!==e?(n=(0,i.jsxs)(m.l.Item,{onSelect:e,children:[t,"Extension\u2026"]}),u[4]=e,u[5]=n):n=u[5],n}if(!v){let e,t,n;return u[6]!==h?(e=()=>{(0,s.BI)("dotcom_chat.activate",{target:"ATTACHMENT_MENU_EXTENSION_NOT_AVAILABLE",mode:"immersive"}),h("no-agents-available")},u[6]=h,u[7]=e):e=u[7],u[8]===Symbol.for("react.memo_cache_sentinel")?(t=(0,i.jsx)(m.l.LeadingVisual,{children:(0,i.jsx)(T.MentionIcon,{})}),u[8]=t):t=u[8],u[9]!==e?(n=(0,i.jsxs)(m.l.Item,{onSelect:e,children:[t,"Extension\u2026"]}),u[9]=e,u[10]=n):n=u[10],n}if(u[11]===Symbol.for("react.memo_cache_sentinel")?(t=(0,i.jsx)(c.W.Anchor,{children:(0,i.jsxs)(m.l.Item,{onSelect:ec,children:[(0,i.jsx)(m.l.LeadingVisual,{children:(0,i.jsx)(T.MentionIcon,{})}),"Extension"]})}),u[11]=t):t=u[11],u[12]!==g||u[13]!==p||u[14]!==f){let e;u[16]!==p||u[17]!==f?(e=e=>(0,i.jsxs)(m.l.Item,{onSelect:()=>{(0,s.BI)("dotcom_chat.activate",{target:"ATTACHMENT_MENU_EXTENSION_SELECTED",mode:"immersive"}),p(e)},children:[(0,i.jsx)(m.l.LeadingVisual,{children:(0,i.jsx)(eo.r,{src:e.avatarUrl})}),e.name,!f&&(0,i.jsxs)(m.l.Description,{variant:"inline",truncate:!0,children:[ei.Z3,e.slug]}),f&&(0,i.jsx)(m.l.Description,{variant:"block",children:"Start a new conversation to use other extensions."})]},e.slug),u[16]=p,u[17]=f,u[18]=e):e=u[18],n=g.map(e),u[12]=g,u[13]=p,u[14]=f,u[15]=n}else n=u[15];return u[19]===Symbol.for("react.memo_cache_sentinel")?(r=(0,i.jsx)(m.l.Divider,{}),u[19]=r):r=u[19],u[20]===Symbol.for("react.memo_cache_sentinel")?(a=(0,i.jsx)(m.l.LeadingVisual,{children:(0,i.jsx)(T.TelescopeIcon,{})}),u[20]=a):a=u[20],u[21]===Symbol.for("react.memo_cache_sentinel")?(l=(0,i.jsxs)(m.l.LinkItem,{href:ei.bn,onClick:el,children:[a,"Marketplace",(0,i.jsx)(m.l.TrailingVisual,{children:(0,i.jsx)(T.LinkExternalIcon,{})})]}),u[21]=l):l=u[21],u[22]!==n?(d=(0,i.jsxs)(c.W,{children:[t,(0,i.jsx)(c.W.Overlay,{width:"small",children:(0,i.jsxs)(m.l,{children:[n,r,l]})})]}),u[22]=n,u[23]=d):d=u[23],d}function el(){(0,s.BI)("dotcom_chat.activate",{target:"ATTACHMENT_MENU_EXTENSION_MARKETPLACE",mode:"immersive"})}function ec(){(0,s.BI)("dotcom_chat.activate",{target:"ATTACHMENT_MENU_EXTENSION",mode:"immersive"})}try{es.displayName||(es.displayName="AgentMenu")}catch{}var ed=n(34614),eu=n(9852);let em={AgentsDialogsMainContainer:"AgentsDialogs-module__AgentsDialogsMainContainer--II3RA",dialogContentWrapper:"AgentsDialogs-module__dialogContentWrapper--gIypm",dialogTitle:"AgentsDialogs-module__dialogTitle--sYvdl",dialogDescription:"AgentsDialogs-module__dialogDescription--ylOeG",documentationLinkContainer:"AgentsDialogs-module__documentationLinkContainer--wOVFY",AgentsDialogsAlternateContainer:"AgentsDialogs-module__AgentsDialogsAlternateContainer--mELnh",alertIconContainer:"AgentsDialogs-module__alertIconContainer--bChLB"};function eh(e){let t,n,r=(0,o.c)(4),{onClose:a,returnFocusRef:s}=e;return r[0]===Symbol.for("react.memo_cache_sentinel")?(t={narrow:"fullscreen",regular:"center"},r[0]=t):t=r[0],r[1]!==a||r[2]!==s?(n=(0,i.jsx)(eu.l,{width:"large",title:"Extensions",position:t,onClose:a,returnFocusRef:s,renderBody:ep}),r[1]=a,r[2]=s,r[3]=n):n=r[3],n}function ep(){return(0,i.jsx)("div",{className:em.AgentsDialogsMainContainer,children:(0,i.jsxs)("div",{className:em.dialogContentWrapper,children:[(0,i.jsx)(T.TelescopeIcon,{size:24}),(0,i.jsx)("h3",{className:em.dialogTitle,children:"Chat with your favorite tools and services"}),(0,i.jsx)("p",{className:em.dialogDescription,children:"Browse the marketplace to find extensions for the tools and services you rely on"}),(0,i.jsx)(A.Q,{as:"a",href:ei.bn,children:"Browse marketplace"}),(0,i.jsx)("div",{className:em.documentationLinkContainer,children:(0,i.jsx)(ed.A,{href:"https://gh.io/copilot-extensions-docs",children:"Documentation"})})]})})}function eg(e){let t,n,r,a=(0,o.c)(9),{onClose:s,returnFocusRef:l}=e,c=(0,F.b)(),d=(0,P.Pk)(),u=(0,f.BV)(),m=(0,Z.GF)(d.availableModels);return a[0]===Symbol.for("react.memo_cache_sentinel")?(t={narrow:"fullscreen",regular:"center"},a[0]=t):t=a[0],a[1]!==u||a[2]!==m||a[3]!==c?(n=()=>(0,i.jsx)("div",{className:em.AgentsDialogsAlternateContainer,children:(0,i.jsxs)("div",{className:em.dialogContentWrapper,children:[(0,i.jsx)("div",{className:em.alertIconContainer,children:(0,i.jsx)(T.AlertIcon,{size:24})}),(0,i.jsxs)("h3",{className:em.dialogTitle,children:[u?"Copilots and extensions":"Extensions"," aren't supported by this model"]}),(0,i.jsxs)("p",{className:em.dialogDescription,children:["Switch back to the ",m.displayName," model or start a new conversation"]}),(0,i.jsx)(A.Q,{onClick:()=>{c.selectThread(null),c.selectModel(m)},children:"New conversation"})]})}),a[1]=u,a[2]=m,a[3]=c,a[4]=n):n=a[4],a[5]!==s||a[6]!==l||a[7]!==n?(r=(0,i.jsx)(eu.l,{width:"large",title:"Extensions",position:t,onClose:s,returnFocusRef:l,renderBody:n}),a[5]=s,a[6]=l,a[7]=n,a[8]=r):r=a[8],r}try{eh.displayName||(eh.displayName="NoAgentsAvailableDialog")}catch{}try{eg.displayName||(eg.displayName="AgentsNotSupportedDialog")}catch{}var ef=n(85351),ey=n(87330),ex=n(90021),ev=n(84217),eb=n(75177),e_=n(3971),eC=n(58569),eS=n(53110),ew=n(40961);let ej={disabledForPreviewModelsPanel:"KnowledgeSelectPanel-module__disabledForPreviewModelsPanel--NqDvF",knowledgeBaseIcon:"KnowledgeSelectPanel-module__knowledgeBaseIcon--8UOiW",KnowledgeSelectPanelContainer:"KnowledgeSelectPanel-module__KnowledgeSelectPanelContainer--udKC7",panelHeader:"KnowledgeSelectPanel-module__panelHeader--qV2cs",headerContent:"KnowledgeSelectPanel-module__headerContent--V2v8A",panelTitle:"KnowledgeSelectPanel-module__panelTitle--g2jcs",emptyStateContainer:"KnowledgeSelectPanel-module__emptyStateContainer--dQbe2",emptyStateContent:"KnowledgeSelectPanel-module__emptyStateContent--flXvx",emptyStateMessage:"KnowledgeSelectPanel-module__emptyStateMessage--BOmgQ",emptyStateDescription:"KnowledgeSelectPanel-module__emptyStateDescription--o3g_H",emptyStateInstructions:"KnowledgeSelectPanel-module__emptyStateInstructions--ZqIt3",actionButtonsContainer:"KnowledgeSelectPanel-module__actionButtonsContainer--Ja6mV",createButton:"KnowledgeSelectPanel-module__createButton--qb36f",organizationsSection:"KnowledgeSelectPanel-module__organizationsSection--i6URP",sectionTitle:"KnowledgeSelectPanel-module__sectionTitle--pLzZE",organizationsList:"KnowledgeSelectPanel-module__organizationsList--WXZKk",organizationLink:"KnowledgeSelectPanel-module__organizationLink--RJw9M",organizationAvatar:"KnowledgeSelectPanel-module__organizationAvatar--PEHVf",organizationName:"KnowledgeSelectPanel-module__organizationName--NFqlr",ssoNotice:"KnowledgeSelectPanel-module__ssoNotice--aspbN"},eN=(0,h.forwardRef)(function(e,t){let n,r,a,s,l,c=(0,o.c)(12);c[0]!==e?({open:r,setOpen:a,...n}=e,c[0]=e,c[1]=n,c[2]=r,c[3]=a):(n=c[1],r=c[2],a=c[3]);let d=!!r||void 0;return c[4]!==r||c[5]!==a?(s=()=>a(!r),c[4]=r,c[5]=a,c[6]=s):s=c[6],c[7]!==n||c[8]!==t||c[9]!==d||c[10]!==s?(l=(0,i.jsx)(ey.K,{ref:t,"aria-expanded":d,"aria-haspopup":!0,"aria-label":"Attach knowledge base","aria-labelledby":void 0,icon:T.BookIcon,onClick:s,variant:"invisible",className:ej.knowledgeBaseIcon,...n}),c[7]=n,c[8]=t,c[9]=d,c[10]=s,c[11]=l):l=c[11],l});function eI({disabledForPreviewModelsProps:e,emptyKnowledgeBaseProps:t,open:n,onOpenChange:r,anchorRef:a}){let o=(0,P.Pk)(),s=(0,F.b)(),l=(0,ef.A)("localStorage"),{knowledgeBases:c}=o,[d,u]=(0,h.useState)([]),[m,p]=(0,h.useState)(!0),[g,f]=(0,h.useState)(""),y=(0,h.useRef)(null),x=l.getItem("lastUsedKnowledgeBaseId")||"",b=l.getItem("lastUsedKnowledgeBaseOrg")||"",{currentReferences:_}=o;(0,h.useEffect)(()=>{n||f("")},[n]);let C=(0,h.useMemo)(()=>""===g?c:c.filter(e=>e.name.toLowerCase().includes(g.toLowerCase())),[g,c]),S=(0,h.useMemo)(()=>C.reduce((e,t)=>{let n=e.find(e=>e.org===t.ownerLogin);return n?n.docsets.push(t):e.push({org:t.ownerLogin,docsets:[t]}),e},[]),[C]),[w,N]=(0,h.useState)(!1),I=m||"pending"===o.knowledgeBasesLoading.state,T=w||"error"===o.knowledgeBasesLoading.state,k=(0,h.useRef)(!1);(0,h.useEffect)(()=>{let e=async()=>{p(!0),await s.fetchKnowledgeBases();let e=await s.service.listAdministratedCopilotEnterpriseOrganizations();e.ok?u(e.payload||[]):N(!0),p(!1)};n&&!k.current&&(k.current=!0,e())},[n,s]);let A=eE(),R=e=>{let t=e.filter(e=>(0,v.P)(e)&&!_.some(t=>(0,v.P)(t)&&t.id===e.id));for(let t of _.filter(t=>(0,v.P)(t)&&!e.some(e=>e.id===t.id)))s.removeReference(t);for(let e of t)s.addReference((0,v.UU)(e),"docsetMenu")};if(o.model?.hasLimitedCapabilities)return(0,i.jsx)(eF,{open:n,setOpen:r,...e});if(!I&&0===c.length)return(0,i.jsx)(eT,{administratedCopilotEnterpriseOrganizations:d,persistentPanelStyles:{position:["fixed","fixed","absolute"],bottom:["60px","60px","0 !important"],"@media screen and (max-height: 480px)":{bottom:"0 !important"},top:"initial !important",left:["18px","18px","calc(50% - 360px) !important"],maxHeight:"100%"},open:n,setOpen:r,mode:o.mode,...t});let M=e=>{R(e.map(e=>c.find(t=>t.id===e.id)).filter(e=>void 0!==e))},E=C.sort((e,t)=>e.id===x?-1:+(t.id===x)).map(e=>({id:e.id,key:e.id,groupId:e.ownerLogin,text:e.name,description:e.description,disabled:!e.canChat,descriptionVariant:"block"})),L=[...S].sort((e,t)=>e.org===b?-1:+(t.org===b)).map(e=>({id:e.org,key:e.org,text:e.org,groupId:e.org,header:{title:e.org}})),$=c.filter(e=>_.some(t=>(0,v.P)(t)&&t.id===e.id));return(0,i.jsx)("div",{ref:y,...(0,j.G)("knowledge-select-panel"),children:(0,i.jsx)(ex.X,{title:"Select knowledge bases",subtitle:"Knowledge bases consolidate content from multiple repositories for an improved chat experience.",onCancel:()=>{(0,ew.flushSync)(()=>r(!1)),a.current?.focus()},open:n,renderAnchor:null,anchorRef:a,onOpenChange:r,loading:I,items:E,onFilterChange:f,groupMetadata:L,notice:null!==A?{text:A,variant:"info"}:void 0,message:T?{variant:"error",title:"Failed to load knowledge bases",body:"Try again later"}:0===S.length?{variant:"empty",title:`No knowledge bases found for \`${g}\``,body:"Try a different search term"}:void 0,...{selected:$,onSelectedChange:e=>M(e)},variant:"modal",overlayProps:{maxHeight:"xlarge"},width:"large"})})}function eT(e){let t,n,r,a,s,l,c,d,u,m,h,p,g,f,y,x,v,b,_,C,S,w,N,I,k=(0,o.c)(53),{administratedCopilotEnterpriseOrganizations:A,anchorRef:R,open:M,setOpen:E}=e,L=eE();k[0]!==R||k[1]!==M||k[2]!==E?(t=R?{anchorRef:R,renderAnchor:null}:{anchorRef:void 0,renderAnchor:e=>{let{...t}=e;return(0,i.jsx)(eN,{open:M,setOpen:E,...t})}},k[0]=R,k[1]=M,k[2]=E,k[3]=t):t=k[3];let P=t,F=A?.length===0;k[4]!==F?(n=F?{flexGrow:1,maxHeight:"100%",overflowY:"auto"}:{},k[4]=F,k[5]=n):n=k[5];let $=n;k[6]!==F?(r=F?{maxHeight:"100%"}:{},k[6]=F,k[7]=r):r=k[7];let D=r;k[8]!==F?(a=F?{height:"100%"}:{},k[8]=F,k[9]=a):a=k[9];let B=a;return k[10]!==E?(s=()=>E(!0),l=()=>E(!1),k[10]=E,k[11]=s,k[12]=l):(s=k[11],l=k[12]),k[13]===Symbol.for("react.memo_cache_sentinel")?(c={anchorSide:"outside-bottom",sx:{width:"min(100%, 350px)"}},k[13]=c):c=k[13],k[14]!==B?(d={...B},k[14]=B,k[15]=d):d=k[15],k[16]===Symbol.for("react.memo_cache_sentinel")?(u=(0,j.G)("empty-knowledge-base-picker"),k[16]=u):u=k[16],k[17]===Symbol.for("react.memo_cache_sentinel")?(m=(0,i.jsx)(ev.A,{id:"knowledge-base-dialog-title",as:"h4",className:ej.panelTitle,children:"Attach a knowledge base"}),k[17]=m):m=k[17],k[18]!==E?(h=(0,i.jsx)("div",{className:ej.panelHeader,children:(0,i.jsxs)("div",{className:ej.headerContent,children:[m,(0,i.jsx)(ey.K,{unsafeDisableTooltip:!0,"aria-label":"Close",icon:T.XIcon,variant:"invisible",onClick:()=>E(!1)})]})}),k[18]=E,k[19]=h):h=k[19],k[20]!==$?(p={...$},k[20]=$,k[21]=p):p=k[21],k[22]===Symbol.for("react.memo_cache_sentinel")?(g=(0,i.jsx)(eS.A,{icon:T.BookIcon,size:"medium",className:ej.knowledgeBaseIcon}),k[22]=g):g=k[22],k[23]!==D?(f={...D},k[23]=D,k[24]=f):f=k[24],k[25]===Symbol.for("react.memo_cache_sentinel")?(y=(0,i.jsx)("span",{className:ej.emptyStateMessage,children:"You don't have any knowledge bases"}),k[25]=y):y=k[25],k[26]===Symbol.for("react.memo_cache_sentinel")?(x=(0,i.jsx)("p",{children:"Knowledge bases consolidate content from multiple repositories for an improved chat experience."}),k[26]=x):x=k[26],k[27]!==F?(v=F&&(0,i.jsx)("p",{className:ej.emptyStateInstructions,...(0,j.G)("ask-admin-for-knowledge-base"),children:"Speak with an organization owner about creating a knowledge base for your organization."}),k[27]=F,k[28]=v):v=k[28],k[29]!==v?(b=(0,i.jsxs)("div",{className:ej.emptyStateDescription,children:[x,v]}),k[29]=v,k[30]=b):b=k[30],k[31]!==A?(_=A.length>0&&(0,i.jsx)(ek,{administratedCopilotEnterpriseOrganizations:A}),k[31]=A,k[32]=_):_=k[32],k[33]!==f||k[34]!==b||k[35]!==_?(C=(0,i.jsxs)(eb.A,{sx:f,className:ej.emptyStateContent,children:[y,b,_]}),k[33]=f,k[34]=b,k[35]=_,k[36]=C):C=k[36],k[37]!==p||k[38]!==C?(S=(0,i.jsxs)(eb.A,{sx:p,className:ej.emptyStateContainer,children:[g,C]}),k[37]=p,k[38]=C,k[39]=S):S=k[39],k[40]!==L?(w=L&&(0,i.jsx)("div",{className:ej.actionButtonsContainer,children:(0,i.jsx)(eM,{message:L})}),k[40]=L,k[41]=w):w=k[41],k[42]!==h||k[43]!==S||k[44]!==w||k[45]!==d?(N=(0,i.jsxs)(eb.A,{role:"dialog","aria-labelledby":"knowledge-base-dialog-title",sx:d,className:ej.KnowledgeSelectPanelContainer,...u,children:[h,S,w]}),k[42]=h,k[43]=S,k[44]=w,k[45]=d,k[46]=N):N=k[46],k[47]!==P||k[48]!==M||k[49]!==N||k[50]!==s||k[51]!==l?(I=(0,i.jsx)(e_.T,{open:M,onOpen:s,onClose:l,overlayProps:c,...P,children:N}),k[47]=P,k[48]=M,k[49]=N,k[50]=s,k[51]=l,k[52]=I):I=k[52],I}function ek(e){let t=(0,o.c)(11),{administratedCopilotEnterpriseOrganizations:n}=e;if(1===n.length){let e,r,a;return t[0]!==n[0]?(e=eP(n[0]),t[0]=n[0],t[1]=e):e=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(r=(0,j.G)("create-knowledge-base-button"),t[2]=r):r=t[2],t[3]!==e?(a=(0,i.jsx)(A.Q,{as:"a",href:e,className:ej.createButton,...r,children:"Create a knowledge base"}),t[3]=e,t[4]=a):a=t[4],a}{let e,r,a,o;return t[5]===Symbol.for("react.memo_cache_sentinel")?(e=(0,j.G)("create-knowledge-base-dropdown"),r=(0,i.jsx)(ev.A,{as:"h3",className:ej.sectionTitle,children:"Create a knowledge base for an organization"}),t[5]=e,t[6]=r):(e=t[5],r=t[6]),t[7]!==n?(a=n.map(eA),t[7]=n,t[8]=a):a=t[8],t[9]!==a?(o=(0,i.jsxs)("div",{className:ej.organizationsSection,...e,children:[r,(0,i.jsx)(m.l,{className:ej.organizationsList,children:a})]}),t[9]=a,t[10]=o):o=t[10],o}}function eA(e){return(0,i.jsx)(eR,{org:e},e.id)}function eR(e){let t,n,r,a,s=(0,o.c)(11),{org:l}=e;return s[0]!==l?(t=eP(l),s[0]=l,s[1]=t):t=s[1],s[2]!==l.avatarUrl||s[3]!==l.login?(n=(0,i.jsx)(eo.r,{square:!0,src:l.avatarUrl,alt:l.login,"aria-hidden":"true",className:ej.organizationAvatar}),s[2]=l.avatarUrl,s[3]=l.login,s[4]=n):n=s[4],s[5]!==l.login?(r=(0,i.jsx)(eC.A,{inline:!0,title:l.login,className:ej.organizationName,children:l.login}),s[5]=l.login,s[6]=r):r=s[6],s[7]!==t||s[8]!==n||s[9]!==r?(a=(0,i.jsx)(m.l.Item,{children:(0,i.jsxs)(ed.A,{href:t,className:ej.organizationLink,children:[n,r]})}),s[7]=t,s[8]=n,s[9]=r,s[10]=a):a=s[10],a}function eM(e){let t,n=(0,o.c)(2),{message:r}=e;return r?(n[0]!==r?(t=(0,i.jsx)("div",{"data-testid":"knowledge-select-panel-sso",className:ej.ssoNotice,children:r}),n[0]=r,n[1]=t):t=n[1],t):null}function eE(){let e=(0,P.Pk)(),t=e.ssoOrganizations.map(eL);for(let n of e.knowledgeBases)for(let e of n.protectedOrganizations)t.includes(e)||t.push(e);if(!t||0===t.length)return null;{if(1===t.length)return`Single sign-on to see content from ${t[0]}.`;if(2===t.length)return`Single sign-on to see content from ${t[0]} and ${t[1]}.`;let e=t.length-2;return`Single sign-on to see content from ${t[0]}, ${t[1]}, and ${e} organization${e>1?"s":""}`}}function eL(e){return e.login}function eP(e){return`/organizations/${e.login}/settings/copilot/chat_settings/new`}function eF(e){let t,n,r,a,s,l=(0,o.c)(13),{anchorRef:c,open:d,setOpen:u}=e;l[0]!==c||l[1]!==d||l[2]!==u?(t=c?{anchorRef:c,renderAnchor:null}:{anchorRef:void 0,renderAnchor:e=>{let{...t}=e;return(0,i.jsx)(eN,{open:d,setOpen:u,...t})}},l[0]=c,l[1]=d,l[2]=u,l[3]=t):t=l[3];let m=t;return l[4]!==u?(n=()=>u(!0),r=()=>u(!1),l[4]=u,l[5]=n,l[6]=r):(n=l[5],r=l[6]),l[7]===Symbol.for("react.memo_cache_sentinel")?(a=(0,i.jsxs)("div",{className:(0,b.$)("m-3 d-flex flex-column flex-items-center text-center",ej.disabledForPreviewModelsPanel),children:[(0,i.jsx)(T.AlertIcon,{className:"fgColor-attention mb-3"}),(0,i.jsx)("h3",{className:"h5 mb-2",children:"Knowledge bases aren't supported by this model"}),(0,i.jsx)("span",{className:"text-small fgColor-muted",children:"Switch back to the GPT-4o model or start a new conversation"})]}),l[7]=a):a=l[7],l[8]!==m||l[9]!==d||l[10]!==n||l[11]!==r?(s=(0,i.jsx)(e_.T,{open:d,onOpen:n,onClose:r,...m,children:a}),l[8]=m,l[9]=d,l[10]=n,l[11]=r,l[12]=s):s=l[12],s}try{eN.displayName||(eN.displayName="KBIconButton")}catch{}try{(r=KBIconButtonInner).displayName||(r.displayName="KBIconButtonInner")}catch{}try{eI.displayName||(eI.displayName="KnowledgeSelectPanel")}catch{}try{eT.displayName||(eT.displayName="EmptyKnowledgeBase")}catch{}try{ek.displayName||(ek.displayName="CreateKnowledgeBaseButton")}catch{}try{eR.displayName||(eR.displayName="CreateKnowledgeBaseActionRow")}catch{}try{eM.displayName||(eM.displayName="SSOFooter")}catch{}try{eF.displayName||(eF.displayName="DisabledForPreviewModels")}catch{}var e$=n(42342),eD=n(70170),eB=n(83978),eO=n(97286);async function eU(e,t,n,r){return new Promise((a,i)=>{if(!window.Worker)return void setTimeout(()=>a(e.filter(e=>e.includes(t))));let o=new Worker(n);o.addEventListener("message",e=>a(e.data.list)),o.addEventListener("error",e=>i(Error(`Worker error: ${e.message}`))),r.addEventListener("abort",()=>{o.terminate(),i(Error("Worker aborted"))}),o.postMessage({baseList:e,query:t})})}function ez(e,t){let n,r,a,i=(0,o.c)(9),{findFileWorkerPath:s}=(0,P.Pk)();i[0]!==e||i[1]!==t||i[2]!==s?(n=["copilot-worker-filter",s,e,t],r=async n=>{let{signal:r}=n;return e?0===t.length?e:eU(e,t,s,r):[]},i[0]=e,i[1]=t,i[2]=s,i[3]=n,i[4]=r):(n=i[3],r=i[4]);let l=null!==e;return i[5]!==n||i[6]!==r||i[7]!==l?(a={queryKey:n,queryFn:r,enabled:l,staleTime:1/0,gcTime:1e4,networkMode:"always",retry:!1,placeholderData:eq},i[5]=n,i[6]=r,i[7]=l,i[8]=a):a=i[8],(0,eO.I)(a)}function eq(e){return e}function eV(e,t){let n,r,a,i=(0,o.c)(11),s=void 0===t||t,l=(0,F.b)(),c=null!==e;return i[0]!==s||i[1]!==e?(n=["copilot-repository-files",e,s],i[0]=s,i[1]=e,i[2]=n):n=i[2],i[3]!==s||i[4]!==l||i[5]!==e?(r=async()=>{if(!e)return{};let t=await l.service.listRepoFiles(e,s);if(!t.ok)throw Error("Failed to fetch files for repository");return t.payload},i[3]=s,i[4]=l,i[5]=e,i[6]=r):r=i[6],i[7]!==c||i[8]!==n||i[9]!==r?(a={enabled:c,queryKey:n,queryFn:r,staleTime:3e5},i[7]=c,i[8]=n,i[9]=r,i[10]=a):a=i[10],(0,eO.I)(a)}function eH(e,t){let n,r,a,i=(0,o.c)(11),s=(0,F.b)(),l=null!==e&&t.length>0;return i[0]!==e||i[1]!==t?(n=["copilot-repository-symbols",e,t],i[0]=e,i[1]=t,i[2]=n):n=i[2],i[3]!==s||i[4]!==e||i[5]!==t?(r=async()=>{if(!e)return[];let n=await s.service.querySymbols(e,t);if(!n.ok)throw Error("Failed to fetch symbols for repository");return n.payload.filter(eW)},i[3]=s,i[4]=e,i[5]=t,i[6]=r):r=i[6],i[7]!==l||i[8]!==n||i[9]!==r?(a={enabled:l,queryKey:n,queryFn:r},i[7]=l,i[8]=n,i[9]=r,i[10]=a):a=i[10],(0,eO.I)(a)}function eW(e){return!!e.symbol}var eG=n(51295),eK=n(39546);let eZ={chooseRepoInstructionPanel:"ReferencesSelectPanel-module__chooseRepoInstructionPanel--ZB4TR",chooseRepoTitle:"ReferencesSelectPanel-module__chooseRepoTitle--WR2cM",chooseRepoSubtitle:"ReferencesSelectPanel-module__chooseRepoSubtitle--D5U0G",selectPanelContainer:"ReferencesSelectPanel-module__selectPanelContainer--pXThH",ActionList:"ReferencesSelectPanel-module__ActionList--_r6z2",referenceListItem:"ReferencesSelectPanel-module__referenceListItem--E4oD7",referenceItemText:"ReferencesSelectPanel-module__referenceItemText--SSG5P"};var eQ=n(69359);let eJ="Search",eY=e=>{let t=e.includes("files"),n=e.includes("folders"),r=e.includes("symbols");return t&&n&&r?"Select files, folders, and symbols":t&&n?"Select files and folders":t&&r?"Select files and symbols":n&&r?"Select folders and symbols":t?"Select files":n?"Select folders":r?"Select symbols":"Select references"},eX=(e,t)=>{let n=t.includes("files"),r=t.includes("folders"),a=t.includes("symbols"),i="references";return n&&r&&a?i="files, folders, and symbols":n&&r?i="files and folders":n&&a?i="files and symbols":r&&a?i="folders and symbols":n?i="files":r?i="folders":a&&(i="symbols"),`Choose ${i} from ${e} to chat about. Use fewer references for more accurate responses.`},e0=e=>{let t=e.includes("files"),n=e.includes("folders"),r=e.includes("symbols");return t&&n&&r?"Fetching files, folders, and symbols\u2026":t&&n?"Fetching files and folders\u2026":t&&r?"Fetching files and symbols\u2026":n&&r?"Fetching folders and symbols\u2026":t?"Fetching files\u2026":n?"Fetching folders\u2026":r?"Fetching symbols\u2026":"Fetching references\u2026"},e1=e=>{let t=e.includes("files"),n=e.includes("folders"),r=e.includes("symbols"),a="References";return t&&n&&r?a="Files, folders, and symbols":t&&n?a="Files and folders":t&&r?a="Files and symbols":n&&r?a="Folders and symbols":t?a="Files":n?a="Folders":r&&(a="Symbols"),a},e2=e=>{let t=e.includes("files"),n=e.includes("folders"),r=e.includes("symbols");return t&&n&&r?"Choose a repository to browse for files, folders, and symbols.":t&&n?"Choose a repository to browse for files and folders.":t&&r?"Choose a repository to browse for files and symbols.":n&&r?"Choose a repository to browse for folders and symbols.":t?"Choose a repository to browse for files.":n?"Choose a repository to browse for folders.":r?"Choose a repository to browse for symbols.":"Choose a repository to browse for references."},e5=e=>{let t=e.includes("files"),n=e.includes("folders"),r=e.includes("symbols");return t&&n&&r?"No files, folders, or symbols found":t&&n?"No files or folders found":t&&r?"No files or symbols found":n&&r?"No folders or symbols found":t?"No files found":n?"No folders found":r?"No symbols found":"No references found"},e3=e=>{let t,n,r,a,s,l,c,d,u,m,p,g=(0,o.c)(34);g[0]!==e?({open:r,onOpenChange:n,cancelReturnFocusRef:t,submitReturnFocusRef:s,...a}=e,g[0]=e,g[1]=t,g[2]=n,g[3]=r,g[4]=a,g[5]=s):(t=g[1],n=g[2],r=g[3],a=g[4],s=g[5]);let f=(0,F.b)(),[y,x]=(0,h.useState)();g[6]===Symbol.for("react.memo_cache_sentinel")?(l=()=>x(void 0),g[6]=l):l=g[6],g[7]!==r?(c=[r],g[7]=r,g[8]=c):c=g[8],(0,h.useEffect)(l,c);let v=(0,P.pn)(ta);g[9]!==v?(d=new Set(v.filter(ti).map(to)),g[9]=v,g[10]=d):d=g[10];let b=d,[_,C]=(0,h.useState)(),S=(0,h.useRef)(!1);g[11]!==f.service?(u=async e=>{C(void 0),S.current=!0;let t=await f.service.fetchRepo(e);t.ok?x(t.payload):C("Error: failed to load repository details. Please try again."),S.current=!1},g[11]=f.service,g[12]=u):u=g[12];let w=u,j=a.supportedReferenceTypes??e4;g[13]!==j?(m=e2(j),g[13]=j,g[14]=m):m=g[14];let N=m;if(!y){let e,a,o;return g[15]!==n?(e=e=>{S.current||n(e)},g[15]=n,g[16]=e):e=g[16],g[17]===Symbol.for("react.memo_cache_sentinel")?(a=new Set,g[17]=a):a=g[17],g[18]!==t||g[19]!==N||g[20]!==w||g[21]!==r||g[22]!==b||g[23]!==_||g[24]!==s||g[25]!==e?(o=(0,i.jsx)(eQ.X1,{selectionVariant:"instant",open:r,onOpenChange:e,selectedRepoIds:a,onSelectRepo:w,cancelReturnFocusRef:t,submitReturnFocusRef:s,description:N,featuredRepoIds:b,error:_}),g[18]=t,g[19]=N,g[20]=w,g[21]=r,g[22]=b,g[23]=_,g[24]=s,g[25]=e,g[26]=o):o=g[26],o}return g[27]!==t||g[28]!==n||g[29]!==r||g[30]!==a||g[31]!==y||g[32]!==s?(p=(0,i.jsx)(e6,{...a,open:r,onOpenChange:n,sourceRepository:y,cancelReturnFocusRef:t,submitReturnFocusRef:s}),g[27]=t,g[28]=n,g[29]=r,g[30]=a,g[31]=y,g[32]=s,g[33]=p):p=g[33],p},e4=["files","folders","symbols"],e6=e=>{let t,n,r,a,s,l,c,d,u,p,g,f,y,x=(0,o.c)(40),{renderAnchor:b,anchorRef:_,open:C,onOpenChange:S,submitReturnFocusRef:w,cancelReturnFocusRef:j,sourceRepository:N,supportedReferenceTypes:I}=e,T=void 0===I?e4:I,[k,A]=(0,h.useState)("");x[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,eD.s)(A,250),x[0]=t):t=x[0];let R=(0,h.useRef)(t);x[1]!==C?(n=()=>{C||A("")},r=[C],x[1]=C,x[2]=n,x[3]=r):(n=x[2],r=x[3]),(0,h.useEffect)(n,r);let{initialLoading:M,filterLoading:E,selected:L,unselected:$,toggleSelection:D}=function(e,t,n,r=e4){let a=(0,P.Pk)(),i=(0,F.b)(),s=function(e,t,n,r){let a,i,s,l,c,d=(0,o.c)(16),u=void 0===r?e4:r;d[0]!==u?(a=u.includes("folders"),d[0]=u,d[1]=a):a=d[1];let m=a,h=u.includes("symbols");d[2]!==u?(i=u.includes("files"),d[2]=u,d[3]=i):i=d[3];let p=i,g=n?t:null,f=eV(g,m),y=ez(f.data?.paths??null,e),x=ez(f.data?.directories??null,e),v=eH(h?g:null,e);d[4]!==v.data?(s=v.data?.map(tr)??null,d[4]=v.data,d[5]=s):s=d[5];let b=ez(s,e);if(d[6]!==x||d[7]!==y.data||d[8]!==b.data||d[9]!==p||d[10]!==m){let e=p?y.data?.slice(0,7).map(tn)??[]:[];l=[...e,...m?x.data?.slice(0,7).map(tt)??[]:[],...b.data?.slice(0,7).map(te)??[]],d[6]=x,d[7]=y.data,d[8]=b.data,d[9]=p,d[10]=m,d[11]=l}else l=d[11];let _=l,C=null===y.data&&null===x.data&&null===v.data,S=f.isFetching||y.isFetching||x.isFetching||v.isFetching||b.isFetching;return d[12]!==S||d[13]!==C||d[14]!==_?(c={items:_,filterLoading:S,initialLoading:C},d[12]=S,d[13]=C,d[14]=_,d[15]=c):c=d[15],c}(t,n,e,r),l=r.includes("symbols"),c=eH(e&&l?n:null,t).data,[d,u,m]=(0,h.useMemo)(()=>{let e=new Set,t=new Set,r=new Set;for(let i of a.currentReferences)"file"===i.type&&i.repoOwner===n?.ownerLogin&&i.repoName===n?.name?e.add(i.path):"folder"===i.type&&i.repoOwner===n?.ownerLogin&&i.repoName===n?.name?t.add(i.path):"symbol"===i.type&&"suggestionSymbol"===i.kind&&i.suggestionDefinitions?.some(e=>e.repoOwner===n?.ownerLogin&&e.repoName===n?.name)&&r.add(i.name);return[e,t,r]},[a.currentReferences,n?.ownerLogin,n?.name]),{selected:p=[],unselected:g=[]}=(0,eG.O)(s.items,e=>{switch(e.type){case"file":return d.has(e.text)?"selected":"unselected";case"folder":return u.has(e.text)?"selected":"unselected";case"symbol":return m.has(e.text)?"selected":"unselected"}}),f=(0,h.useCallback)(e=>{let t;if(!n)return;switch(e.type){case"file":t=(0,v.Od)(e.text,n);break;case"folder":t=(0,v.OC)(e.text,n);break;case"symbol":{let r=c?.find(t=>(0,v.Sm)(t)===e.text);if(!r)return;t=(0,v.Qt)(r,n)}}let r=(0,v.Vb)(t),o=a.currentReferences.find(e=>r===(0,v.Vb)(e));o?i.removeReference(o):i.addReference(t,"references-menu")},[i,n,a.currentReferences,c]);return{...s,selected:p,unselected:g,toggleSelection:f}}(C,k,N,T),B=L.length+$.length,O=`${N.ownerLogin}/${N.name}`;return x[4]!==b?(a=b?.({}),x[4]=b,x[5]=a):a=x[5],x[6]!==T?(s=eY(T),x[6]=T,x[7]=s):s=x[7],x[8]!==O||x[9]!==T?(l=eX(O,T),x[8]=O,x[9]=T,x[10]=l):l=x[10],x[11]!==S||x[12]!==w.current?(c=()=>{(0,ew.flushSync)(()=>S(!1)),w.current?.focus()},x[11]=S,x[12]=w.current,x[13]=c):c=x[13],x[14]!==j.current||x[15]!==S?(d=()=>{(0,ew.flushSync)(()=>S(!1)),j.current?.focus()},x[14]=j.current,x[15]=S,x[16]=d):d=x[16],x[17]===Symbol.for("react.memo_cache_sentinel")?(u=e=>R.current(e.target.value),x[17]=u):u=x[17],x[18]!==E?(p=(0,i.jsx)(eB.X.Header,{children:(0,i.jsx)(eB.X.SearchInput,{loading:E,onChange:u,placeholder:eJ,"aria-label":eJ})}),x[18]=E,x[19]=p):p=x[19],x[20]!==E||x[21]!==M||x[22]!==L||x[23]!==T||x[24]!==D||x[25]!==B||x[26]!==$?(g=(0,i.jsx)(m.l,{className:eZ.ActionList,children:M?(0,i.jsx)(eB.X.Loading,{children:e0(T)}):0!==B||E?(0,i.jsxs)(i.Fragment,{children:[L.map(e=>(0,i.jsx)(e9,{item:e,selected:!0,toggleSelection:D},e8(e))),L.length>0&&$.length>0&&(0,i.jsx)(m.l.Divider,{}),$.map(e=>(0,i.jsx)(e9,{item:e,selected:!1,toggleSelection:D},e8(e)))]}):(0,i.jsx)("div",{children:(0,i.jsx)(eK.O,{delay:500,children:(0,i.jsx)(eB.X.Message,{variant:"empty",title:e5(T),children:"Try a different search term"})})})}),x[20]=E,x[21]=M,x[22]=L,x[23]=T,x[24]=D,x[25]=B,x[26]=$,x[27]=g):g=x[27],x[28]!==_||x[29]!==C||x[30]!==p||x[31]!==g||x[32]!==s||x[33]!==l||x[34]!==c||x[35]!==d?(f=(0,i.jsxs)(eB.X,{anchorRef:_,title:s,description:l,onCancel:c,onSubmit:d,open:C,selectionVariant:"multiple",variant:"modal",width:"large",maxHeight:"xlarge",children:[p,g]}),x[28]=_,x[29]=C,x[30]=p,x[31]=g,x[32]=s,x[33]=l,x[34]=c,x[35]=d,x[36]=f):f=x[36],x[37]!==f||x[38]!==a?(y=(0,i.jsxs)("div",{className:eZ.selectPanelContainer,children:[a,f]}),x[37]=f,x[38]=a,x[39]=y):y=x[39],y};function e7(e){let t,n,r,a,s,l=(0,o.c)(11),{open:c,setOpen:d,renderAnchor:u}=e;return l[0]!==d?(t=()=>d(!0),n=()=>d(!1),l[0]=d,l[1]=t,l[2]=n):(t=l[1],n=l[2]),l[3]!==u?(r=e=>u?.(e)??(0,i.jsx)(i.Fragment,{}),l[3]=u,l[4]=r):r=l[4],l[5]===Symbol.for("react.memo_cache_sentinel")?(a=(0,i.jsxs)("div",{className:eZ.chooseRepoInstructionPanel,children:[(0,i.jsx)(T.PaperclipIcon,{}),(0,i.jsx)("h3",{className:eZ.chooseRepoTitle,children:"Attach a repository first"}),(0,i.jsx)("p",{className:eZ.chooseRepoSubtitle,children:"To pick attachments, attach a repository where the files are stored."})]}),l[5]=a):a=l[5],l[6]!==c||l[7]!==t||l[8]!==n||l[9]!==r?(s=(0,i.jsx)(e_.T,{open:c,onOpen:t,onClose:n,renderAnchor:r,children:a}),l[6]=c,l[7]=t,l[8]=n,l[9]=r,l[10]=s):s=l[10],s}let e8=e=>`${e.type}#${e.text}`;function e9(e){let t,n,r,a,s,l=(0,o.c)(15),{toggleSelection:c,selected:d,item:u}=e;return l[0]!==u||l[1]!==c?(t=()=>{c(u),setTimeout(()=>{document.getElementById(e8(u))?.focus()})},l[0]=u,l[1]=c,l[2]=t):t=l[2],l[3]!==u?(n=e8(u),l[3]=u,l[4]=n):n=l[4],l[5]!==u.type?(r=(0,i.jsx)(m.l.LeadingVisual,{children:"symbol"===u.type?(0,i.jsx)(T.CodeSquareIcon,{}):"folder"===u.type?(0,i.jsx)(T.FileDirectoryFillIcon,{}):(0,i.jsx)(T.FileIcon,{})}),l[5]=u.type,l[6]=r):r=l[6],l[7]!==u.text?(a=(0,i.jsx)("div",{className:eZ.referenceItemText,children:u.text}),l[7]=u.text,l[8]=a):a=l[8],l[9]!==d||l[10]!==t||l[11]!==n||l[12]!==r||l[13]!==a?(s=(0,i.jsxs)(m.l.Item,{onSelect:t,selected:d,id:n,className:eZ.referenceListItem,children:[r,a]}),l[9]=d,l[10]=t,l[11]=n,l[12]=r,l[13]=a,l[14]=s):s=l[14],s}function te(e){return{type:"symbol",text:e}}function tt(e){return{type:"folder",text:e}}function tn(e){return{type:"file",text:e}}function tr(e){return(0,v.Sm)(e)}try{(a=e=>{let t,n,r,a,s=(0,o.c)(12);s[0]!==e?({open:n,onOpenChange:t,...r}=e,s[0]=e,s[1]=t,s[2]=n,s[3]=r):(t=s[1],n=s[2],r=s[3]);let{currentTopic:l}=(0,P.Pk)();if(!(0,v.Z6)(l)){let e;return s[4]!==t||s[5]!==n?(e=(0,i.jsx)(e7,{open:n,setOpen:t}),s[4]=t,s[5]=n,s[6]=e):e=s[6],e}return s[7]!==l||s[8]!==t||s[9]!==n||s[10]!==r?(a=(0,i.jsx)(e6,{...r,open:n,onOpenChange:t,sourceRepository:l}),s[7]=l,s[8]=t,s[9]=n,s[10]=r,s[11]=a):a=s[11],a}).displayName||(a.displayName="TopicReferencesSelectPanel")}catch{}try{e3.displayName||(e3.displayName="MultistepReferencesSelectPanel")}catch{}try{e6.displayName||(e6.displayName="ReferencesSelectPanel")}catch{}try{e7.displayName||(e7.displayName="ChooseRepositoryInstruction")}catch{}try{e9.displayName||(e9.displayName="ReferenceListItem")}catch{}function ta(e){return e.currentReferences}function ti(e){return"repository"===e.type}function to(e){return e.id}let ts=(0,h.memo)(e=>{let t,n,r,a,l,d,u,p,f,y,x,b,_,C,S,w,N,I,k,A,R,M,E,L,$,D=(0,o.c)(91);D[0]!==e?({panel:n,onPanelChange:a,anchorRef:t,...r}=e,D[0]=e,D[1]=t,D[2]=n,D[3]=r,D[4]=a):(t=D[1],n=D[2],r=D[3],a=D[4]);let{inputRef:B}=r,O=(0,F.b)(),U=(0,P.Pk)(),{supportedAttachmentTypes:z,supportedReferenceTypes:q}=function(){let e=(0,P.Pk)(),t=null!==(0,ea.G)(),n=["upload"],r=e.renderKnowledgeBases&&(e.currentTopic&&(0,v.Z6)(e.currentTopic)||!e.currentTopic);return t||n.push("repositories"),n.push("references"),r&&!t&&n.push("knowledge-bases"),t||n.push("agents"),{supportedAttachmentTypes:n,supportedReferenceTypes:t?["files"]:["files","folders","symbols"]}}(),{model:V}=(0,P.bP)("model"),H=g.W.attachImagesImmersive&&"immersive"===U.mode&&!!V.capabilities.supports.vision||!1,W=(0,ei.kw)(r),G=(0,h.useRef)(null),K=(0,ea.G)(),Z=(0,en.FQ)(!0),Q=!!(K&&Z);D[5]!==K||D[6]!==H||D[7]!==O||D[8]!==V||D[9]!==Q||D[10]!==U||D[11]!==z?(l=z.includes("upload")&&(0,i.jsx)("input",{id:"image-uploader",...(0,j.G)("image-uploader"),hidden:!0,ref:G,type:"file",accept:[H?X.s.getAllowedImageFileExtensions(V):"",et.E.getTextFileExtensions()].join(","),multiple:!0,onChange:e=>{if(!e.target.files)return;let[t,n]=X.s.getAllowedFiles([...e.target.files],V),r=[];for(let e of(H?new X.s(U,O).addImageAttachments(t,"menu",K,Q):r.push(...t),n))new et.E(O).addAttachment(e);for(let e of r)(0,s.BI)("dotcom_chat.upload_unsupported_file",{name:e.name,type:e.type,size:e.size});e.currentTarget.value=""}}),D[5]=K,D[6]=H,D[7]=O,D[8]=V,D[9]=Q,D[10]=U,D[11]=z,D[12]=l):l=D[12];let J="attachment-types"===n;D[13]!==a?(d=e=>a(t=>e&&null===t?"attachment-types":e||"attachment-types"!==t?t:null),D[13]=a,D[14]=d):d=D[14];let Y="assistive"===U.mode?e$.E5:void 0;D[15]!==a||D[16]!==U.mode||D[17]!==z?(u=z.includes("repositories")&&(0,i.jsxs)(m.l.Item,{onSelect:()=>{(0,s.BI)("dotcom_chat.activate",{target:"ATTACHMENT_MENU_REPOSITORIES",mode:U.mode}),a("repositories")},children:[(0,i.jsx)(m.l.LeadingVisual,{children:(0,i.jsx)(T.RepoIcon,{})}),"Repositories\u2026"]}),D[15]=a,D[16]=U.mode,D[17]=z,D[18]=u):u=D[18],D[19]!==a||D[20]!==U.mode?(p=()=>{(0,s.BI)("dotcom_chat.activate",{target:"ATTACHMENT_MENU_REFERENCES",mode:U.mode}),a("references")},D[19]=a,D[20]=U.mode,D[21]=p):p=D[21];let ee=z.includes("references")?void 0:"First attach a repository";D[22]===Symbol.for("react.memo_cache_sentinel")?(f=(0,i.jsx)(m.l.LeadingVisual,{children:(0,i.jsx)(T.FileCodeIcon,{})}),D[22]=f):f=D[22],D[23]!==q?(y=e1(q),D[23]=q,D[24]=y):y=D[24],D[25]!==p||D[26]!==ee||D[27]!==y?(x=(0,i.jsxs)(m.l.Item,{onSelect:p,inactiveText:ee,children:[f,y,"\u2026"]}),D[25]=p,D[26]=ee,D[27]=y,D[28]=x):x=D[28],D[29]!==a||D[30]!==U.mode||D[31]!==z?(b=z.includes("knowledge-bases")&&(0,i.jsxs)(m.l.Item,{onSelect:()=>{(0,s.BI)("dotcom_chat.activate",{target:"ATTACHMENT_MENU_KNOWLEDGE_BASES",mode:U.mode}),a("knowledge-bases")},children:[(0,i.jsx)(m.l.LeadingVisual,{children:(0,i.jsx)(T.BookIcon,{})}),(0,i.jsx)("span",{...(0,j.G)("knowledge-bases-action-list-item"),children:"Knowledge bases\u2026"})]}),D[29]=a,D[30]=U.mode,D[31]=z,D[32]=b):b=D[32],D[33]!==a||D[34]!==U.mode||D[35]!==z?(_=z.includes("upload")&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(m.l.Divider,{}),(0,i.jsxs)(m.l.Item,{onSelect:()=>{(0,s.BI)("dotcom_chat.activate",{target:"ATTACHMENT_MENU_IMAGES",mode:U.mode}),a(null),G.current?.click()},children:[(0,i.jsx)(m.l.LeadingVisual,{children:(0,i.jsx)(T.UploadIcon,{})}),"Upload from computer"]})]}),D[33]=a,D[34]=U.mode,D[35]=z,D[36]=_):_=D[36],D[37]!==W||D[38]!==a||D[39]!==z?(C=z.includes("agents")&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(m.l.Divider,{}),(0,i.jsx)(es,{onSelectPanel:e=>a(e),onSelectAgent:e=>setTimeout(()=>W(e.slug))})]}),D[37]=W,D[38]=a,D[39]=z,D[40]=C):C=D[40],D[41]!==x||D[42]!==b||D[43]!==_||D[44]!==C||D[45]!==u?(S=(0,i.jsxs)(m.l,{children:[u,x,b,_,C]}),D[41]=x,D[42]=b,D[43]=_,D[44]=C,D[45]=u,D[46]=S):S=D[46],D[47]!==S||D[48]!==Y?(w=(0,i.jsx)(c.W.Overlay,{width:"small",side:"outside-top",align:"start",portalContainerName:Y,children:S}),D[47]=S,D[48]=Y,D[49]=w):w=D[49],D[50]!==t||D[51]!==w||D[52]!==J||D[53]!==d?(N=(0,i.jsx)(c.W,{anchorRef:t,open:J,onOpenChange:d,children:w}),D[50]=t,D[51]=w,D[52]=J,D[53]=d,D[54]=N):N=D[54];let er="references"===n;D[55]!==a?(I=e=>a(e?"references":null),D[55]=a,D[56]=I):I=D[56],D[57]!==t||D[58]!==B||D[59]!==q||D[60]!==er||D[61]!==I?(k=(0,i.jsx)(e3,{open:er,onOpenChange:I,submitReturnFocusRef:B,cancelReturnFocusRef:t,supportedReferenceTypes:q}),D[57]=t,D[58]=B,D[59]=q,D[60]=er,D[61]=I,D[62]=k):k=D[62];let eo="repositories"===n;return D[63]!==a?(A=e=>a(e?"repositories":null),D[63]=a,D[64]=A):A=D[64],D[65]!==t||D[66]!==B||D[67]!==eo||D[68]!==A?(R=(0,i.jsx)(eQ.FZ,{open:eo,onOpenChange:A,submitReturnFocusRef:B,cancelReturnFocusRef:t}),D[65]=t,D[66]=B,D[67]=eo,D[68]=A,D[69]=R):R=D[69],D[70]!==t||D[71]!==n||D[72]!==a||D[73]!==z?(M=z.includes("knowledge-bases")&&(0,i.jsx)(eI,{disabledForPreviewModelsProps:{anchorRef:t},emptyKnowledgeBaseProps:{anchorRef:t},open:"knowledge-bases"===n,onOpenChange:e=>a(e?"knowledge-bases":null),anchorRef:t}),D[70]=t,D[71]=n,D[72]=a,D[73]=z,D[74]=M):M=D[74],D[75]!==t||D[76]!==n||D[77]!==a?(E="no-agents-available"===n&&(0,i.jsx)(eh,{onClose:()=>a(null),returnFocusRef:t}),D[75]=t,D[76]=n,D[77]=a,D[78]=E):E=D[78],D[79]!==t||D[80]!==n||D[81]!==a?(L="agents-not-supported"===n&&(0,i.jsx)(eg,{onClose:()=>a(null),returnFocusRef:t}),D[79]=t,D[80]=n,D[81]=a,D[82]=L):L=D[82],D[83]!==l||D[84]!==N||D[85]!==k||D[86]!==R||D[87]!==M||D[88]!==E||D[89]!==L?($=(0,i.jsxs)("div",{children:[l,N,k,R,M,E,L]}),D[83]=l,D[84]=N,D[85]=k,D[86]=R,D[87]=M,D[88]=E,D[89]=L,D[90]=$):$=D[90],$});ts.displayName="AttachmentMenu";var tl=n(90051);let tc={agents:"Extensions",repositories:"Repositories",files:"Files and folders",issues:"Issues",pulls:"Pull requests",discussions:"Discussions"},td=[{name:tc.agents,icon:T.StackIcon,value:"agents",where:"start"},{name:tc.repositories,icon:T.RepoIcon,value:"repositories",where:"anywhere"},{name:tc.files,icon:T.FileIcon,value:"repositories:files",where:"anywhere"},{name:tc.issues,icon:T.IssueOpenedIcon,value:"repositories:issues",where:"anywhere"},{name:tc.pulls,icon:T.GitPullRequestIcon,value:"repositories:pulls",where:"anywhere"},{name:tc.discussions,icon:T.CommentDiscussionIcon,value:"repositories:discussions",where:"anywhere"}],tu={is:e=>td.some(t=>t.value===e)};function tm(e){let t,n,r,a,s,l=(0,o.c)(12);return l[0]!==e?({agent:t,...n}=e,l[0]=e,l[1]=t,l[2]=n):(t=l[1],n=l[2]),l[3]!==t.avatarUrl?(r=(0,i.jsx)(m.l.LeadingVisual,{children:(0,i.jsx)(eo.r,{src:t.avatarUrl})}),l[3]=t.avatarUrl,l[4]=r):r=l[4],l[5]!==t.slug?(a=(0,i.jsxs)(m.l.Description,{variant:"inline",truncate:!0,children:[ei.Z3,t.slug]}),l[5]=t.slug,l[6]=a):a=l[6],l[7]!==t.name||l[8]!==n||l[9]!==r||l[10]!==a?(s=(0,i.jsxs)(m.l.Item,{...n,children:[r,t.name,a]}),l[7]=t.name,l[8]=n,l[9]=r,l[10]=a,l[11]=s):s=l[11],s}try{tm.displayName||(tm.displayName="AgentSuggestion")}catch{}function th(e){let t,n,r,a,s,l,c,d,u=(0,o.c)(20);u[0]!==e?({leadingVisual:t,...n}=e,u[0]=e,u[1]=t,u[2]=n):(t=u[1],n=u[2]);let p=(0,h.useId)(),g=(0,h.useId)();return u[3]!==g||u[4]!==p?(r=(0,b.$)(p,g),u[3]=g,u[4]=p,u[5]=r):r=u[5],u[6]!==t?(a=void 0!==t&&(0,i.jsx)(m.l.LeadingVisual,{children:t}),u[6]=t,u[7]=a):a=u[7],u[8]!==p||u[9]!==n.children?(s=(0,i.jsx)("span",{id:p,children:n.children}),u[8]=p,u[9]=n.children,u[10]=s):s=u[10],u[11]!==g?(l=(0,i.jsx)("span",{className:"d-none","aria-hidden":!0,id:g,children:"Opens in new tab."}),u[11]=g,u[12]=l):l=u[12],u[13]===Symbol.for("react.memo_cache_sentinel")?(c=(0,i.jsx)(m.l.TrailingVisual,{children:(0,i.jsx)(T.LinkExternalIcon,{})}),u[13]=c):c=u[13],u[14]!==n||u[15]!==r||u[16]!==a||u[17]!==s||u[18]!==l?(d=(0,i.jsxs)(m.l.Item,{...n,"aria-labelledby":r,children:[a,s,l,c]}),u[14]=n,u[15]=r,u[16]=a,u[17]=s,u[18]=l,u[19]=d):d=u[19],d}try{th.displayName||(th.displayName="LinkSuggestion")}catch{}function tp(e){return{value:`@${e.slug}`,render:t=>(0,i.jsx)(tm,{agent:e,...t})}}function tg(e){let t,n,r,a,s,l=(0,o.c)(9);return l[0]!==e?({leadingVisual:t,...n}=e,l[0]=e,l[1]=t,l[2]=n):(t=l[1],n=l[2]),l[3]!==t?(r=void 0!==t&&(0,i.jsx)(m.l.LeadingVisual,{children:t}),l[3]=t,l[4]=r):r=l[4],l[5]===Symbol.for("react.memo_cache_sentinel")?(a=(0,i.jsx)(m.l.TrailingVisual,{children:(0,i.jsx)(T.ArrowRightIcon,{})}),l[5]=a):a=l[5],l[6]!==n||l[7]!==r?(s=(0,i.jsxs)(m.l.Item,{"aria-haspopup":!0,...n,children:[r,n.children,a]}),l[6]=n,l[7]=r,l[8]=s):s=l[8],s}try{tg.displayName||(tg.displayName="MultistepSuggestion")}catch{}function tf(e){let t,n,r,a,s=(0,o.c)(9);s[0]!==e?({category:n,...t}=e,s[0]=e,s[1]=t,s[2]=n):(t=s[1],n=s[2]);let{name:l,icon:c}=n;return s[3]!==c?(r=(0,i.jsx)(c,{}),s[3]=c,s[4]=r):r=s[4],s[5]!==l||s[6]!==t||s[7]!==r?(a=(0,i.jsx)(tg,{leadingVisual:r,...t,children:l}),s[5]=l,s[6]=t,s[7]=r,s[8]=a):a=s[8],a}try{tf.displayName||(tf.displayName="CategorySuggestion")}catch{}let ty={asyncSuggestion:"shared-module__asyncSuggestion--lDyxK",stale:"shared-module__stale--IEVWo"};function tx(e){let t,n,r,a,s,l,c,d,u,h,p,g=(0,o.c)(25);g[0]!==e?({discussion:n,stale:a,className:t,...r}=e,g[0]=e,g[1]=t,g[2]=n,g[3]=r,g[4]=a):(t=g[1],n=g[2],r=g[3],a=g[4]);let f=a&&ty.stale;return g[5]!==t||g[6]!==f?(s=(0,b.$)(ty.asyncSuggestion,f,t),g[5]=t,g[6]=f,g[7]=s):s=g[7],g[8]!==n.state?(l="open"===n.state&&(0,i.jsx)(T.CommentDiscussionIcon,{className:"fgColor-open"}),g[8]=n.state,g[9]=l):l=g[9],g[10]!==n.state?(c="closed"===n.state&&(0,i.jsx)(T.DiscussionClosedIcon,{className:"fgColor-muted"}),g[10]=n.state,g[11]=c):c=g[11],g[12]!==l||g[13]!==c?(d=(0,i.jsxs)(m.l.LeadingVisual,{children:[l,c]}),g[12]=l,g[13]=c,g[14]=d):d=g[14],g[15]!==n.title?(u=(0,i.jsx)(eC.A,{title:n.title,maxWidth:350,children:n.title}),g[15]=n.title,g[16]=u):u=g[16],g[17]!==n.number?(h=(0,i.jsxs)(m.l.Description,{children:["#",n.number]}),g[17]=n.number,g[18]=h):h=g[18],g[19]!==r||g[20]!==s||g[21]!==d||g[22]!==u||g[23]!==h?(p=(0,i.jsxs)(m.l.Item,{...r,className:s,children:[d,u,h]}),g[19]=r,g[20]=s,g[21]=d,g[22]=u,g[23]=h,g[24]=p):p=g[24],p}try{tx.displayName||(tx.displayName="DiscussionSuggestion")}catch{}function tv(e){let t,n,r,a,s,l,c,d,u,h,p,g,f,y,x,v=(0,o.c)(35);if(v[0]!==e?({type:s,path:n,stale:a,className:t,...r}=e,v[0]=e,v[1]=t,v[2]=n,v[3]=r,v[4]=a,v[5]=s):(t=v[1],n=v[2],r=v[3],a=v[4],s=v[5]),v[6]!==t||v[7]!==n||v[8]!==r||v[9]!==a||v[10]!==s){let e=n.split("/"),o=e.pop();c=m.l.Item,h=r;let y=a&&ty.stale;v[19]!==t||v[20]!==y?(p=(0,b.$)(ty.asyncSuggestion,y,t),v[19]=t,v[20]=y,v[21]=p):p=v[21],v[22]!==s?(g=(0,i.jsx)(m.l.LeadingVisual,{children:"folder"===s?(0,i.jsx)(T.FileDirectoryFillIcon,{}):(0,i.jsx)(T.FileIcon,{})}),v[22]=s,v[23]=g):g=v[23],f=o,l=m.l.Description,d="inline",u=e.join("/"),v[6]=t,v[7]=n,v[8]=r,v[9]=a,v[10]=s,v[11]=l,v[12]=c,v[13]=d,v[14]=u,v[15]=h,v[16]=p,v[17]=g,v[18]=f}else l=v[11],c=v[12],d=v[13],u=v[14],h=v[15],p=v[16],g=v[17],f=v[18];return v[24]!==l||v[25]!==d||v[26]!==u?(y=(0,i.jsxs)(l,{variant:d,children:[u,"/"]}),v[24]=l,v[25]=d,v[26]=u,v[27]=y):y=v[27],v[28]!==c||v[29]!==h||v[30]!==p||v[31]!==g||v[32]!==f||v[33]!==y?(x=(0,i.jsxs)(c,{...h,className:p,children:[g,f,y]}),v[28]=c,v[29]=h,v[30]=p,v[31]=g,v[32]=f,v[33]=y,v[34]=x):x=v[34],x}try{tv.displayName||(tv.displayName="FileSuggestion")}catch{}function tb(e){let t,n,r,a,s,l,c,d,u,h,p,g,f=(0,o.c)(28);f[0]!==e?({issue:n,stale:a,className:t,...r}=e,f[0]=e,f[1]=t,f[2]=n,f[3]=r,f[4]=a):(t=f[1],n=f[2],r=f[3],a=f[4]);let y=a&&ty.stale;return f[5]!==t||f[6]!==y?(s=(0,b.$)(ty.asyncSuggestion,y,t),f[5]=t,f[6]=y,f[7]=s):s=f[7],f[8]!==n.state?(l="draft"===n.state&&(0,i.jsx)(T.IssueDraftIcon,{className:"fgColor-neutral"}),f[8]=n.state,f[9]=l):l=f[9],f[10]!==n.state?(c="open"===n.state&&(0,i.jsx)(T.IssueOpenedIcon,{className:"fgColor-open"}),f[10]=n.state,f[11]=c):c=f[11],f[12]!==n.state?(d="closed"===n.state&&(0,i.jsx)(T.IssueClosedIcon,{className:"fgColor-done"}),f[12]=n.state,f[13]=d):d=f[13],f[14]!==l||f[15]!==c||f[16]!==d?(u=(0,i.jsxs)(m.l.LeadingVisual,{children:[l,c,d]}),f[14]=l,f[15]=c,f[16]=d,f[17]=u):u=f[17],f[18]!==n.title?(h=(0,i.jsx)(eC.A,{title:n.title,maxWidth:350,children:n.title}),f[18]=n.title,f[19]=h):h=f[19],f[20]!==n.number?(p=(0,i.jsxs)(m.l.Description,{children:["#",n.number]}),f[20]=n.number,f[21]=p):p=f[21],f[22]!==r||f[23]!==s||f[24]!==u||f[25]!==h||f[26]!==p?(g=(0,i.jsxs)(m.l.Item,{...r,className:s,children:[u,h,p]}),f[22]=r,f[23]=s,f[24]=u,f[25]=h,f[26]=p,f[27]=g):g=f[27],g}try{tb.displayName||(tb.displayName="IssueSuggestion")}catch{}function t_(e){let t,n,r,a,s,l,c,d,u,h,p,g,f=(0,o.c)(28);f[0]!==e?({pullRequest:r,stale:a,className:t,...n}=e,f[0]=e,f[1]=t,f[2]=n,f[3]=r,f[4]=a):(t=f[1],n=f[2],r=f[3],a=f[4]);let y=a&&ty.stale;return f[5]!==t||f[6]!==y?(s=(0,b.$)(ty.asyncSuggestion,y,t),f[5]=t,f[6]=y,f[7]=s):s=f[7],f[8]!==r.state?(l="draft"===r.state&&(0,i.jsx)(T.GitPullRequestDraftIcon,{className:"fgColor-neutral"}),f[8]=r.state,f[9]=l):l=f[9],f[10]!==r.state?(c="open"===r.state&&(0,i.jsx)(T.GitPullRequestIcon,{className:"fgColor-open"}),f[10]=r.state,f[11]=c):c=f[11],f[12]!==r.state?(d="closed"===r.state&&(0,i.jsx)(T.GitPullRequestClosedIcon,{className:"fgColor-done"}),f[12]=r.state,f[13]=d):d=f[13],f[14]!==l||f[15]!==c||f[16]!==d?(u=(0,i.jsxs)(m.l.LeadingVisual,{children:[l,c,d]}),f[14]=l,f[15]=c,f[16]=d,f[17]=u):u=f[17],f[18]!==r.title?(h=(0,i.jsx)(eC.A,{title:r.title,maxWidth:350,children:r.title}),f[18]=r.title,f[19]=h):h=f[19],f[20]!==r.number?(p=(0,i.jsxs)(m.l.Description,{children:["#",r.number]}),f[20]=r.number,f[21]=p):p=f[21],f[22]!==n||f[23]!==s||f[24]!==u||f[25]!==h||f[26]!==p?(g=(0,i.jsxs)(m.l.Item,{...n,className:s,children:[u,h,p]}),f[22]=n,f[23]=s,f[24]=u,f[25]=h,f[26]=p,f[27]=g):g=f[27],g}try{t_.displayName||(t_.displayName="PullRequestSuggestion")}catch{}function tC(e){let t,n,r,a,s,l,c,d,u=(0,o.c)(18);u[0]!==e?({repository:a,isMultistep:n,stale:s,className:t,...r}=e,u[0]=e,u[1]=t,u[2]=n,u[3]=r,u[4]=a,u[5]=s):(t=u[1],n=u[2],r=u[3],a=u[4],s=u[5]);let h=s&&ty.stale;u[6]!==t||u[7]!==h?(l=(0,b.$)(ty.asyncSuggestion,h,t),u[6]=t,u[7]=h,u[8]=l):l=u[8];let p=l;u[9]!==a.isInOrganization||u[10]!==a.ownerAvatarUrl?(c=a.ownerAvatarUrl?(0,i.jsx)(eo.r,{src:a.ownerAvatarUrl,alt:"",size:16,square:a.isInOrganization}):(0,i.jsx)(T.RepoIcon,{}),u[9]=a.isInOrganization,u[10]=a.ownerAvatarUrl,u[11]=c):c=u[11];let g=c;return u[12]!==g||u[13]!==p||u[14]!==n||u[15]!==r||u[16]!==a.nwo?(d=n?(0,i.jsx)(tg,{...r,className:p,leadingVisual:g,children:a.nwo},a.nwo):(0,i.jsxs)(m.l.Item,{...r,className:p,children:[(0,i.jsx)(m.l.LeadingVisual,{children:g}),a.nwo]},a.nwo),u[12]=g,u[13]=p,u[14]=n,u[15]=r,u[16]=a.nwo,u[17]=d):d=u[17],d}try{tC.displayName||(tC.displayName="RepositorySuggestion")}catch{}function tS(e){return{value:null,key:e.value,render:t=>(0,i.jsx)(tf,{category:e,...t})}}function tw(e){return null!==e}function tj(e){let t,n,r=(0,o.c)(3),[a,i]=(0,h.useState)(null);return(null===a&&null!==e||null!==a&&null===e)&&i(e),r[0]!==e?(t=()=>{let t=setTimeout(()=>i(e),200);return()=>clearTimeout(t)},n=[e],r[0]=e,r[1]=t,r[2]=n):(t=r[1],n=r[2]),(0,h.useEffect)(t,n),a}function tN(e){return e}function tI(e){return e}function tT(e){return e}var tk=n(6612);function tA(e){let t,n,r,a,s=(0,o.c)(9);return s[0]!==e?({org:t,...n}=e,s[0]=e,s[1]=t,s[2]=n):(t=s[1],n=s[2]),s[3]!==t.avatarUrl?(r=(0,i.jsx)(eo.r,{square:!0,src:t.avatarUrl}),s[3]=t.avatarUrl,s[4]=r):r=s[4],s[5]!==t.login||s[6]!==n||s[7]!==r?(a=(0,i.jsx)(th,{leadingVisual:r,...n,children:t.login}),s[5]=t.login,s[6]=n,s[7]=r,s[8]=a):a=s[8],a}function tR(e){let t,n,r,a=(0,o.c)(7);return a[0]!==e?({orgs:t,...n}=e,a[0]=e,a[1]=t,a[2]=n):(t=a[1],n=a[2]),a[3]!==t[0]?.login||a[4]!==t.length||a[5]!==n?(r=1===t.length?(0,i.jsxs)(th,{leadingVisual:(0,i.jsx)(T.ShieldLockIcon,{}),...n,children:["Single sign-on to ",(0,i.jsx)("strong",{children:t[0]?.login})," for more"]}):(0,i.jsx)(tg,{leadingVisual:(0,i.jsx)(T.ShieldLockIcon,{}),...n,children:"Single sign-on for more"}),a[3]=t[0]?.login,a[4]=t.length,a[5]=n,a[6]=r):r=a[6],r}try{tA.displayName||(tA.displayName="SSOOrgSuggestion")}catch{}try{tR.displayName||(tR.displayName="SSOPromptSuggestion")}catch{}let tM=e=>`/orgs/${encodeURIComponent(e.login)}/sso?return_to=${encodeURIComponent(location.href)}`;function tE(e){return{value:null,key:`open-link:${tM(e)}`,render:t=>(0,i.jsx)(tA,{org:e,...t})}}let tL=e=>(t,n)=>e.has(t.databaseId)&&!e.has(n.databaseId)?-1:e.has(n.databaseId)&&!e.has(t.databaseId)?1:0,tP=[{triggerChar:"@",insertSpaceOnCommit:!0,keepTriggerCharOnCommit:!1,multiWord:!0}];function tF(e){let t,n,r,a,l,c,d,u,p,g,f=(0,o.c)(25),{children:y,onSelectReference:x,onShowAgentsDialog:v}=e,{mode:b}=(0,P.Pk)(),[_,C]=(0,h.useState)(t$);f[0]===Symbol.for("react.memo_cache_sentinel")?(t=()=>C(!0),n=[],f[0]=t,f[1]=n):(t=f[0],n=f[1]),(0,h.useEffect)(t,n);let[S,w]=(0,h.useState)(null),{suggestions:j,stale:N}=function(e){let t=(0,o.c)(7),n=function(e){let t,n=(0,o.c)(3),{currentReferences:r}=(0,P.Pk)();e:{let a;if(!e){t=null;break e}if(n[0]!==r||n[1]!==e){let t=e.filter.toLowerCase(),o=e=>e.toLowerCase().includes(t)&&e.toLowerCase()!==t,s=r.map(e=>{let t=$.Q.for(e);switch(t?.type){case void 0:break;case"repository":{let e=`${t.reference.ownerLogin}/${t.reference.name}`;if(!o(e))return null;return{value:$.Q.stringify(t),render:n=>(0,i.jsx)(tC,{repository:{databaseId:t.reference.id,isInOrganization:"Organization"===t.reference.ownerType,name:t.reference.name,nwo:e,ownerLogin:t.reference.ownerLogin},...n})}}case"issue":{let e=t.reference.title??"";if(!o(e))return null;return{value:$.Q.stringify(t),render:n=>(0,i.jsx)(tb,{issue:{number:t.reference.number,state:t.reference.state??"",title:e},...n})}}case"pull-request":{let e=t.reference.title??"";if(!o(e))return null;return{value:$.Q.stringify(t),render:n=>(0,i.jsx)(t_,{pullRequest:{number:t.reference.number,state:t.reference.state??"",title:e},...n})}}case"discussion":{let e=t.reference.title??"";if(!o(e))return null;return{value:$.Q.stringify(t),render:n=>(0,i.jsx)(tx,{discussion:{number:t.reference.number,state:t.reference.state,title:e},...n})}}case"file":{let e=t.reference.path;if(!o(e))return null;return{value:$.Q.stringify(t),render:n=>(0,i.jsx)(tv,{type:"folder"===t.reference.type?"folder":"file",path:e,...n})}}}return null}).filter(tw),l=td.filter(n=>n.name.toLowerCase().includes(t)&&function(e,t){switch(e){case"start":return 0===t.index;case"anywhere":return!0}}(n.where,e)).map(tS);if(l.length>0){let e=s.at(-1);if(e&&"object"==typeof e){let t=e.render;e.render=e=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t,{...e}),(0,i.jsx)(m.l.Divider,{})]})}}a=s.concat(l),n[0]=r,n[1]=e,n[2]=a}else a=n[2];t=a}return t}(e?.category==="categories"?e:null),r=function(e){let t,n=(0,o.c)(4),{availableAgents:r,loading:a,showLimit:s,disabled:l}=(0,ei.JE)(null!==e);e:{let o;if(l||!e){t=null;break e}if(a&&!r){t="loading";break e}n[0]!==r||n[1]!==e||n[2]!==s?(o=r?.filter(t=>e?.category==="agents"&&t.name.toLowerCase().includes(e.filter.toLowerCase())).map(tp).concat({value:null,key:`open-link:${ei.bn}`,render:e=>(0,i.jsxs)(i.Fragment,{children:[r.length>0&&(0,i.jsx)(m.l.Divider,{}),(0,i.jsx)(th,{leadingVisual:(0,i.jsx)(T.TelescopeIcon,{}),...e,inactiveText:s?"Start a new conversation to use other extensions.":void 0,children:"Marketplace"})]})})??null,n[0]=r,n[1]=e,n[2]=s,n[3]=o):o=n[3],t=o}return t}(e?.category==="agents"?e:null),a=function(e){let{currentReferences:t}=(0,P.Pk)(),n=tj(e),r=e!==n,{repositories:a,loading:o}=(0,tk.U)(n?.filter??"",null!==n),s=(0,h.useMemo)(()=>new Set(t.filter(e=>"repository"===e.type).map(e=>e.id)),[t]),{ssoOrganizations:l}=(0,P.Pk)();return{suggestions:(0,h.useMemo)(()=>{if(!n)return null;if("initial"===o)return"loading";let e=void 0!==n.nextCategory,t=a.toSorted(tL(s)).slice(0,5).map(t=>({value:e?null:$.Q.stringify({type:"repository",repo:t.nwo}),key:t.nwo,render:n=>(0,i.jsx)(tC,{repository:t,isMultistep:e,stale:!!o||r,...n})}))??[];return l.length>0&&t.push({value:null,key:1===l.length?`open-link:${tM(l[0])}`:"sso-orgs",render:e=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(m.l.Divider,{}),(0,i.jsx)(tR,{orgs:l,...e})]})}),t},[a,o,n,s,l,r]),stale:!0===o}}(e?.category==="repositories"?e:null),s=function(e){let t,n,r,a,s,l=(0,o.c)(18),{service:c}=(0,F.b)(),d=tj(e),u=e!==d,m=null!==d,h=d?.repository,p=d?.filter;l[0]!==h||l[1]!==p?(t=["copilot-autocomplete-issues",h,p],l[0]=h,l[1]=p,l[2]=t):t=l[2],l[3]!==d||l[4]!==c?(n=async()=>c.fetchAutocompleteIssues(d.repository,d.filter),l[3]=d,l[4]=c,l[5]=n):n=l[5],l[6]!==m||l[7]!==t||l[8]!==n?(r={enabled:m,queryKey:t,queryFn:n,placeholderData:tI},l[6]=m,l[7]=t,l[8]=n,l[9]=r):r=l[9];let g=(0,eO.I)(r);e:{let e;if(!d){a=null;break e}if(g.isLoading){a="loading";break e}l[10]!==d||l[11]!==u||l[12]!==g.data||l[13]!==g.isPlaceholderData?(e=g.data?.map(e=>({value:$.Q.stringify({type:"issue",repo:d.repository,id:e.number.toString()}),key:e.number.toString(),render:t=>(0,i.jsx)(tb,{...t,issue:e,stale:g.isPlaceholderData||u})}))??null,l[10]=d,l[11]=u,l[12]=g.data,l[13]=g.isPlaceholderData,l[14]=e):e=l[14],a=e}let f=a;return l[15]!==g.isPlaceholderData||l[16]!==f?(s={suggestions:f,stale:g.isPlaceholderData},l[15]=g.isPlaceholderData,l[16]=f,l[17]=s):s=l[17],s}(e?.category==="issues"?e:null),l=function(e){let t,n,r,a,s,l=(0,o.c)(18),{service:c}=(0,F.b)(),d=tj(e),u=e!==d,m=null!==d,h=d?.repository,p=d?.filter;l[0]!==h||l[1]!==p?(t=["copilot-autocomplete-pulls",h,p],l[0]=h,l[1]=p,l[2]=t):t=l[2],l[3]!==d||l[4]!==c?(n=async()=>c.fetchAutocompletePullRequests(d.repository,d.filter),l[3]=d,l[4]=c,l[5]=n):n=l[5],l[6]!==m||l[7]!==t||l[8]!==n?(r={enabled:m,queryKey:t,queryFn:n,placeholderData:tT},l[6]=m,l[7]=t,l[8]=n,l[9]=r):r=l[9];let g=(0,eO.I)(r);e:{let e;if(!d){a=null;break e}if(g.isLoading){a="loading";break e}l[10]!==d||l[11]!==u||l[12]!==g.data||l[13]!==g.isPlaceholderData?(e=g.data?.map(e=>({value:$.Q.stringify({type:"pull-request",repo:d.repository,id:e.number.toString()}),key:e.number.toString(),render:t=>(0,i.jsx)(t_,{...t,pullRequest:e,stale:g.isPlaceholderData||u})}))??null,l[10]=d,l[11]=u,l[12]=g.data,l[13]=g.isPlaceholderData,l[14]=e):e=l[14],a=e}let f=a;return l[15]!==g.isPlaceholderData||l[16]!==f?(s={suggestions:f,stale:g.isPlaceholderData},l[15]=g.isPlaceholderData,l[16]=f,l[17]=s):s=l[17],s}(e?.category==="pulls"?e:null),c=function(e){let t,n,r,a,s,l=(0,o.c)(18),{service:c}=(0,F.b)(),d=tj(e),u=e!==d,m=null!==d,h=d?.repository,p=d?.filter;l[0]!==h||l[1]!==p?(t=["copilot-autocomplete-discussions",h,p],l[0]=h,l[1]=p,l[2]=t):t=l[2],l[3]!==d||l[4]!==c?(n=async()=>c.fetchAutocompleteDiscussions(d.repository,d.filter),l[3]=d,l[4]=c,l[5]=n):n=l[5],l[6]!==m||l[7]!==t||l[8]!==n?(r={enabled:m,queryKey:t,queryFn:n,placeholderData:tN},l[6]=m,l[7]=t,l[8]=n,l[9]=r):r=l[9];let g=(0,eO.I)(r);e:{let e;if(!d){a=null;break e}if(g.isLoading){a="loading";break e}l[10]!==d||l[11]!==g.data||l[12]!==g.isPlaceholderData||l[13]!==u?(e=g.data?.map(e=>({value:$.Q.stringify({type:"discussion",repo:d.repository,id:e.number.toString()}),key:e.number.toString(),render:t=>(0,i.jsx)(tx,{...t,discussion:e,stale:g.isPlaceholderData||u})}))??null,l[10]=d,l[11]=g.data,l[12]=g.isPlaceholderData,l[13]=u,l[14]=e):e=l[14],a=e}let f=a;return l[15]!==g.isPlaceholderData||l[16]!==f?(s={suggestions:f,stale:g.isPlaceholderData},l[15]=g.isPlaceholderData,l[16]=f,l[17]=s):s=l[17],s}(e?.category==="discussions"?e:null),d=function(e){let t,n,r,a,s,l,c,d,u,m=(0,o.c)(23),h=(0,F.b)(),p=null!==e,g=e?.repository;m[0]!==g?(t=["copilot-repository",g],m[0]=g,m[1]=t):t=m[1],m[2]!==h||m[3]!==e?.repository?(n=async()=>{if(!e?.repository)return null;let t=await h.service.fetchRepo(e?.repository);if(!t.ok)throw Error("Failed to fetch repository");return t.payload},m[2]=h,m[3]=e?.repository,m[4]=n):n=m[4],m[5]!==p||m[6]!==t||m[7]!==n?(r={enabled:p,queryKey:t,queryFn:n,staleTime:3e5},m[5]=p,m[6]=t,m[7]=n,m[8]=r):r=m[8];let f=(0,eO.I)(r),y=eV(f.data??null);y.data?.directories,m[9]!==y.data?.directories?(s=y.data?.directories??[],m[9]=y.data?.directories,m[10]=s):s=m[10],m[11]!==s?(l=new Set(s),m[11]=s,m[12]=l):l=m[12],a=l,m[13]!==y.data?(c=y.data?(y.data.paths??[]).concat(y.data.directories??[]):null,m[13]=y.data,m[14]=c):c=m[14];let x=ez(c,e?.filter??"");e:{let t;if(!e){d=null;break e}if(f.isLoading||y.isLoading||x.isLoading){d="loading";break e}m[15]!==a||m[16]!==x.data||m[17]!==x.isPlaceholderData||m[18]!==e?(t=[...x.data?.slice(0,5).map(t=>({value:$.Q.stringify({repo:e.repository,type:"file",id:t}),key:t,render:e=>(0,i.jsx)(tv,{...e,path:t,type:a.has(t)?"folder":"file",stale:x.isPlaceholderData})}))??[]],m[15]=a,m[16]=x.data,m[17]=x.isPlaceholderData,m[18]=e,m[19]=t):t=m[19];let n=t;d=n.length>0?n:null}let v=d;return m[20]!==f.isPlaceholderData||m[21]!==v?(u={suggestions:v,stale:f.isPlaceholderData},m[20]=f.isPlaceholderData,m[21]=v,m[22]=u):u=m[22],u}(e?.category==="files"?e:null),u=function(e){let t,n=(0,o.c)(5),{ssoOrganizations:r}=(0,P.Pk)();e:{let a;if(!e){t=null;break e}if(n[0]!==e||n[1]!==r){let t;n[3]!==e?(t=t=>t.login.toLowerCase().includes(e.filter.toLowerCase()),n[3]=e,n[4]=t):t=n[4],a=r.filter(t).slice(0,10).map(tE),n[0]=e,n[1]=r,n[2]=a}else a=n[2];t=a}return t}(e?.category==="sso-orgs"?e:null);switch(e?.category){case void 0:{let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e={suggestions:null,stale:!1},t[0]=e):e=t[0],e}case"categories":{let e;return t[1]!==n?(e={suggestions:n,stale:!1},t[1]=n,t[2]=e):e=t[2],e}case"repositories":return a;case"issues":return s;case"agents":{let e;return t[3]!==r?(e={suggestions:r,stale:!1},t[3]=r,t[4]=e):e=t[4],e}case"discussions":return c;case"pulls":return l;case"files":return d;case"sso-orgs":{let e;return t[5]!==u?(e={suggestions:u,stale:!1},t[5]=u,t[6]=e):e=t[6],e}}}(S);if(f[2]!==v||f[3]!==S?(r={query:S,onShowAgentsDialog:v},f[2]=v,f[3]=S,f[4]=r):r=f[4],!function(e){let t,n,r=(0,o.c)(12),{query:a,onShowAgentsDialog:i}=e,s=a?.category==="agents",{availableAgents:l,loading:c,disabled:d}=(0,ei.JE)(s);r[0]!==s||r[1]!==l?.length||r[2]!==d||r[3]!==c||r[4]!==i?(t=()=>{s&&!c&&(d?i("agents-not-supported"):l?.length||i("no-agents-available"))},r[0]=s,r[1]=l?.length,r[2]=d,r[3]=c,r[4]=i,r[5]=t):t=r[5],r[6]!==s||r[7]!==l||r[8]!==d||r[9]!==c||r[10]!==i?(n=[s,c,l,d,i],r[6]=s,r[7]=l,r[8]=d,r[9]=c,r[10]=i,r[11]=n):n=r[11],(0,h.useEffect)(t,n)}(r),!_){let e;return f[5]!==y?(e=(0,i.jsx)("div",{children:y}),f[5]=y,f[6]=e):e=f[6],e}f[7]!==b||f[8]!==x||f[9]!==S?(a=e=>{let{suggestion:t}=e,n="string"==typeof t?t:t.value;(0,s.BI)("dotcom_chat.activate",{target:"AUTOCOMPLETE_ITEM_SELECTED",mode:b,suggestion:n});let r=null!==n&&S?.category!=="agents"?$.Q.parse(n):void 0;if(r&&x(r),"object"!=typeof t||null!==t.value)return;let a=/^open-link:(.+)$/.exec(t.key);if(a){w(null),window.open(a[1],"_blank");return}switch(S?.category){case"categories":tu.is(t.key)&&w(function(e){switch(e){case"repositories":return{category:"repositories",filter:""};case"agents":return{category:"agents",filter:""};case"repositories:discussions":return{category:"repositories",filter:"",nextCategory:"discussions"};case"repositories:issues":return{category:"repositories",filter:"",nextCategory:"issues"};case"repositories:pulls":return{category:"repositories",filter:"",nextCategory:"pulls"};case"repositories:files":return{category:"repositories",filter:"",nextCategory:"files"}}}(t.key));break;case"repositories":"sso-orgs"===t.key?w({category:"sso-orgs",filter:""}):S.nextCategory&&w({category:S.nextCategory,filter:"",repository:t.key})}},f[7]=b,f[8]=x,f[9]=S,f[10]=a):a=f[10];let I=a;f[11]===Symbol.for("react.memo_cache_sentinel")?(l=e=>w(t=>t?{...t,filter:e.query}:{category:"categories",filter:e.query,index:(e.target.selectionStart??0)-(e.query.length+e.trigger.triggerChar.length)}),f[11]=l):l=f[11];let k=l;f[12]===Symbol.for("react.memo_cache_sentinel")?(c=()=>w(null),f[12]=c):c=f[12];let A=c;return f[13]!==S?(d=S&&function(e){switch(e.category){case"categories":return null;case"repositories":switch(e.nextCategory){case"discussions":case"issues":case"pulls":case"files":return`${tc[e.nextCategory]} \u{203A}`;default:return"Repositories \u203A"}case"agents":return tc[e.category];case"discussions":case"issues":case"pulls":case"files":return`${tc[e.category]} \u{203A} ${e.repository} \u{203A}`;case"sso-orgs":return"Single sign-on"}}(S)||void 0,f[13]=S,f[14]=d):d=f[14],f[15]!==y||f[16]!==I||f[17]!==j||f[18]!==d?(u=(0,i.jsx)(tl.a,{fullWidth:!0,suggestions:j,triggers:tP,tabInsertsSuggestions:!1,onHideSuggestions:A,onShowSuggestions:k,onSelectSuggestion:I,suggestionsPlacement:"above",title:d,asMenu:!0,children:y}),f[15]=y,f[16]=I,f[17]=j,f[18]=d,f[19]=u):u=f[19],f[20]!==N?(p=N&&(0,i.jsx)("span",{role:"status","aria-live":"polite",className:"sr-only",children:"Loading"}),f[20]=N,f[21]=p):p=f[21],f[22]!==u||f[23]!==p?(g=(0,i.jsxs)(i.Fragment,{children:[u,p]}),f[22]=u,f[23]=p,f[24]=g):g=f[24],g}function t$(){return"undefined"!=typeof document}try{tF.displayName||(tF.displayName="ChatInputAutocomplete")}catch{}let tD={container:"ChatInput-module__container--NFzCy",input:"ChatInput-module__input--iApWs",containerShadow:"ChatInput-module__containerShadow--RGfgY",clicked:"ChatInput-module__clicked--hHA9l",attachments:"ChatInput-module__attachments--a9G6d",inputContainer:"ChatInput-module__inputContainer--BcExV",inputPreview:"ChatInput-module__inputPreview--f_0H3",toolbar:"ChatInput-module__toolbar--ZtCiG",toolbarLeft:"ChatInput-module__toolbarLeft--cjV2H",toolbarRight:"ChatInput-module__toolbarRight--PiQJn",containerSmall:"ChatInput-module__containerSmall--PJkO5",CommandIconButton:"ChatInput-module__CommandIconButton--eueFJ"};var tB=n(13897),tO=n(10370);let tU=(0,h.forwardRef)(function(e,t){let n,r,a,s,l,c=(0,o.c)(14),{text:d}=e;c[0]!==d?(n=(0,tB._)(d),c[0]=d,c[1]=n):n=c[1];let{availableAgents:u}=(0,ei.JE)(n);c[2]!==u?(r=void 0===u?[]:u,c[2]=u,c[3]=r):r=c[3];let m=r,{currentReferences:p}=(0,P.Pk)(),g=(0,F.b)(),f=(0,E.l)().use(D.U,{references:p,agents:m}).parse(d),y=(0,tB.O)(f),x=(0,h.useRef)(y);c[4]!==p||c[5]!==g||c[6]!==y?(a=function(){for(let e of x.current)if(!y.has(e)){let t=p.find(t=>(0,v.Vb)(t)===e);t&&g.removeReference(t)}x.current=y},c[4]=p,c[5]=g,c[6]=y,c[7]=a):a=c[7],(0,h.useEffect)(a),c[8]===Symbol.for("react.memo_cache_sentinel")?(s=(0,j.G)("copilot-chat-input-textarea-preview"),c[8]=s):s=c[8];let b=f.children.map(tz);return c[9]!==t||c[10]!==b||c[11]!==s||c[12]!==tD.inputPreview?(l=(0,i.jsx)("div",{id:"copilot-chat-textarea-preview",...s,"aria-hidden":!0,className:tD.inputPreview,ref:t,role:"presentation",children:b}),c[9]=t,c[10]=b,c[11]=s,c[12]=tD.inputPreview,c[13]=l):l=c[13],l});try{tU.displayName||(tU.displayName="ChatInputPreview")}catch{}function tz(e,t){switch(e.type){case"text":return e.value;case"reference-mention":return void 0!==e.data.mentionedReferenceId?(0,i.jsx)("span",{className:tO.A.mention,...(0,j.G)("input-preview-ref"),children:e.value},t):e.value;case"agent-mention":return(0,i.jsx)("span",{className:tO.A.mention,children:e.value},t)}}var tq=n(69676),tV=n(82678),tH=n(5878),tW=n(33900);let tG={container:"ChatInputReferences-module__container--kZx3r",attachmentsList:"ChatInputReferences-module__attachmentsList--c0Z3e",scrolledToEnd:"ChatInputReferences-module__scrolledToEnd--qEVr3",loading:"ChatInputReferences-module__loading--G1S4m",divider:"ChatInputReferences-module__divider--m7eF_",menuButton:"ChatInputReferences-module__menuButton--R82CM",functionLoading:"ChatInputReferences-module__functionLoading--_Tp1T",convertToFileButton:"ChatInputReferences-module__convertToFileButton--JUfME",hoveringDismissConvertToFile:"ChatInputReferences-module__hoveringDismissConvertToFile--BVZ5r",convertToFileButtonContent:"ChatInputReferences-module__convertToFileButtonContent--pQ4zi"};var tK=n(53655);let tZ=(0,h.memo)(e=>{let t,n,r,a,s,l,d,p,g,f,y,x,_,C,S,w,N,I=(0,o.c)(45),{className:k,isLoading:R,returnFocusRef:M,tokenSize:E,onSelectReference:L,getReferenceVersion:$,showConvertToFileText:D,onConvertToFile:B,onConvertToFileDismiss:O}=e,U=void 0===E?"medium":E,{currentReferences:z}=(0,P.Pk)(),q=(0,F.b)(),H=(0,h.useRef)(null),W=(0,tH.g)(H),[G,K]=(0,h.useState)(!1);I[0]!==z?(n=(0,v.rT)(z),I[0]=z,I[1]=n):n=I[1],t=n;let Z=(0,h.useRef)(null);I[2]===Symbol.for("react.memo_cache_sentinel")?(r={containerRef:Z,focusableElementFilter:tJ,bindKeys:tq.z0.ArrowHorizontal|tq.z0.HomeAndEnd,focusInStrategy:"previous",focusOutBehavior:"stop"},I[2]=r):r=I[2],I[3]!==t?(a=[t],I[3]=t,I[4]=a):a=I[4],(0,tV.G)(r,a),I[5]===Symbol.for("react.memo_cache_sentinel")?(s=[],I[5]=s):s=I[5];let Q=(0,h.useRef)(s),J=(e,t)=>{let n=Q.current[t+1]??Q.current[t-1]??M.current;n?.focus(),q.removeReference(e)};I[6]!==q||I[7]!==M?(l=()=>{setTimeout(()=>M.current?.focus()),q.clearCurrentReferences()},I[6]=q,I[7]=M,I[8]=l):l=I[8];let Y=l,X=(0,h.useRef)(t);I[9]!==t?(d=()=>{if(X.current.length<t.length){let e=t.find(e=>!X.current.find(t=>(0,v.x_)(t,e))),n=e?t.indexOf(e):-1;Q?.current?.[n]?.scrollIntoView({behavior:"smooth",inline:"end"})}X.current=t},p=[t],I[9]=t,I[10]=d,I[11]=p):(d=I[10],p=I[11]),(0,V.N)(d,p),I[12]!==O?(g=()=>{K(!1),O?.()},I[12]=O,I[13]=g):g=I[13];let ee=g,et=(0,h.useId)();I[14]!==ee||I[15]!==D?(f=e=>{("Delete"===e.key||"Backspace"===e.key)&&(e.preventDefault(),e.stopPropagation(),D&&ee())},I[14]=ee,I[15]=D,I[16]=f):f=I[16];let en=f;if(0===t.length&&!R&&!D)return null;I[17]!==k?(y=(0,b.$)(k,tG.container),I[17]=k,I[18]=y):y=I[18];let er=W&&tG.scrolledToEnd,ea=R&&tG.loading;I[19]!==er||I[20]!==ea?(x=(0,b.$)(tG.attachmentsList,er,ea),I[19]=er,I[20]=ea,I[21]=x):x=I[21],I[22]!==et||I[23]!==ee||I[24]!==G||I[25]!==B||I[26]!==en||I[27]!==D||I[28]!==U?(_=D&&(0,i.jsx)(A.Q,{onClick:B,leadingVisual:T.FileIcon,className:(0,b.$)(tG.convertToFileButton,G&&tG.hoveringDismissConvertToFile),"aria-describedby":et,onKeyDown:en,children:(0,i.jsxs)("div",{className:tG.convertToFileButtonContent,children:["Convert to file",(0,i.jsx)(tK.lh,{size:U,onRemove:ee,descriptionId:et,onMouseOver:()=>K(!0),onMouseLeave:()=>K(!1)})]})}),I[22]=et,I[23]=ee,I[24]=G,I[25]=B,I[26]=en,I[27]=D,I[28]=U,I[29]=_):_=I[29];let ei=t.map((e,t)=>"repository"===e.type?(0,i.jsx)(tQ,{reference:e,ref:e=>{Q.current[t]=e},"data-index":t,size:U,onRemove:()=>J(e,t),onClick:L,getReferenceVersion:$},(0,v.Vb)(e)):(0,i.jsx)(tK.BR,{reference:e,ref:e=>{Q.current[t]=e},"data-index":t,size:U,onRemove:()=>J(e,t),onClick:L,getReferenceVersion:$},(0,v.Vb)(e)));return I[30]!==R?(C=R&&(0,i.jsxs)("div",{className:tG.functionLoading,...(0,j.G)("loading-indicator"),children:[(0,i.jsx)(u.A,{size:"small"}),"Retrieving\u2026"]}),I[30]=R,I[31]=C):C=I[31],I[32]!==x||I[33]!==_||I[34]!==ei||I[35]!==C?(S=(0,i.jsxs)("div",{className:x,ref:H,children:[_,ei,C]}),I[32]=x,I[33]=_,I[34]=ei,I[35]=C,I[36]=S):S=I[36],I[37]!==Y||I[38]!==t.length||I[39]!==U?(w=t.length>0&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:tG.divider}),(0,i.jsxs)(c.W,{children:[(0,i.jsx)(c.W.Anchor,{children:(0,i.jsx)(ey.K,{icon:T.KebabHorizontalIcon,"aria-label":"Attachments options",variant:"invisible",tooltipDirection:"n",className:tG.menuButton,size:U})}),(0,i.jsx)(c.W.Overlay,{width:"small",children:(0,i.jsx)(m.l,{children:(0,i.jsxs)(m.l.Item,{onSelect:Y,children:[(0,i.jsx)(m.l.LeadingVisual,{children:(0,i.jsx)(T.TrashIcon,{})}),"Remove attachments"]})})})]})]}),I[37]=Y,I[38]=t.length,I[39]=U,I[40]=w):w=I[40],I[41]!==y||I[42]!==S||I[43]!==w?(N=(0,i.jsxs)("div",{role:"toolbar","aria-label":"Attachments",className:y,ref:Z,children:[S,w]}),I[41]=y,I[42]=S,I[43]=w,I[44]=N):N=I[44],N});tZ.displayName="ChatInputReferences";let tQ=(0,h.forwardRef)(function(e,t){let n,r,a,s=(0,o.c)(8),l=e.reference,c=(0,P.pn)(tY),d=`${l.ownerLogin}/${l.name}`,[u,m]=(0,tW.vn)(d),p=(0,h.useRef)(!1),g=u.code===tW.W5.Unindexed||u.docs===tW.W5.Unindexed;return s[0]!==c||s[1]!==g||s[2]!==m?(n=function(){!p.current&&g&&c&&(p.current=!0,m())},r=[c,g,m],s[0]=c,s[1]=g,s[2]=m,s[3]=n,s[4]=r):(n=s[3],r=s[4]),(0,h.useEffect)(n,r),s[5]!==e||s[6]!==t?(a=(0,i.jsx)(tK.BR,{ref:t,...e}),s[5]=e,s[6]=t,s[7]=a):a=s[7],a});try{tQ.displayName||(tQ.displayName="RepoReferenceToken")}catch{}try{tQ.displayName||(tQ.displayName="RepoReferenceToken")}catch{}function tJ(e){return!e.hasAttribute("aria-hidden")}function tY(e){return e.model&&!e.model.hasLimitedCapabilities}var tX=n(50423),t0=n(9591),t1=n(55864),t2=n(32647);let t5={container:"McpToolsManager-module__container--cYWPI",header:"McpToolsManager-module__header--Oajnd",headerTitle:"McpToolsManager-module__headerTitle--gw2Fr",searchInput:"McpToolsManager-module__searchInput--EnBEo",contentArea:"McpToolsManager-module__contentArea--QjXge",loadingContainer:"McpToolsManager-module__loadingContainer--BSyl_",emptyState:"McpToolsManager-module__emptyState--nZxUC",emptyStateTitle:"McpToolsManager-module__emptyStateTitle--AaZZo",emptyStateDescription:"McpToolsManager-module__emptyStateDescription--xBhZh",footer:"McpToolsManager-module__footer--dAl5m",serverName:"McpToolsManager-module__serverName--cs_KC"},t3=({anchorRef:e,open:t,onOpenChange:n,onSelectionChange:r})=>{let[a,o]=(0,h.useState)(!1),[s,l]=(0,h.useState)([]),[c,d]=(0,h.useState)(!1),[m,p]=(0,h.useState)(null),[g,f]=(0,h.useState)(()=>new Set),[y,x]=(0,h.useState)(""),v=e=>{f(t=>{let n=new Set(t);return n.has(e)?n.delete(e):n.add(e),n})},b=(0,h.useCallback)(()=>{let e=[];for(let t of s)g.has(t.id)&&e.push({serverId:t.id,serverText:t.text});return e},[s,g]);h.useEffect(()=>{let e=b();r?.(e)},[g,s,b,r]),(0,h.useEffect)(()=>{t&&_()},[t]);let _=async()=>{d(!0),p(null);try{let e=await fetch("/copilot/mcp/servers.json",{headers:{Accept:"application/json"}});if(!e.ok)throw Error(`HTTP ${e.status}: ${e.statusText}`);let t=await e.json();l(t.servers)}catch(e){p(e instanceof Error?e.message:"Failed to load MCP servers")}finally{d(!1)}};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e_.T,{open:t,onOpen:()=>n(!0),onClose:()=>n(!1),anchorRef:e,renderAnchor:()=>(0,i.jsx)(i.Fragment,{}),width:"medium",children:(0,i.jsxs)("div",{className:t5.container,children:[(0,i.jsxs)("div",{className:t5.header,children:[(0,i.jsx)("div",{className:t5.headerTitle,children:"MCP servers"}),(0,i.jsx)(t0.A,{placeholder:"Search by provider",value:y,onChange:e=>x(e.target.value),className:t5.searchInput,leadingVisual:T.SearchIcon})]}),(0,i.jsx)("div",{className:t5.contentArea,children:c?(0,i.jsx)("div",{className:t5.loadingContainer,children:(0,i.jsx)(u.A,{})}):m?(0,i.jsxs)(t2.E,{children:[(0,i.jsx)(t2.E.Visual,{children:"\u26A0\uFE0F"}),(0,i.jsx)(t2.E.Heading,{children:"Error loading tools"})]}):0===s.length?(0,i.jsxs)("div",{className:t5.emptyState,children:[(0,i.jsx)(T.ToolsIcon,{size:24}),(0,i.jsx)("div",{className:t5.emptyStateTitle,children:"You don't have any MCP tools configured"}),(0,i.jsx)("div",{className:t5.emptyStateDescription,children:"Add one to connect models to files, APIs, databases, and more."})]}):(0,i.jsx)(t1.G,{"aria-label":"MCP server selection","aria-multiselectable":"true",children:s.filter(e=>e.text.toLowerCase().includes(y.toLowerCase())).map(e=>{let t=g.has(e.id);return(0,i.jsxs)(t1.G.Item,{id:e.id,onSelect:()=>v(e.id),current:t,"aria-selected":t,children:[(0,i.jsx)(t1.G.LeadingVisual,{children:(0,i.jsx)("span",{className:t5.serverName,children:e.display_name||e.text})}),(0,i.jsx)(t1.G.SubTree,{children:(0,i.jsx)(t1.G.Item,{id:`${e.id}-tool-progress`,children:"Tool list in progress"})})]},e.id)})})}),(0,i.jsx)("div",{className:t5.footer,children:(0,i.jsx)(A.Q,{variant:"default",leadingVisual:T.PlusIcon,onClick:()=>{o(!0)},block:!0,children:"New tool"})})]})},"mcp-tool-manager"),(0,i.jsx)(tX.O,{isOpen:a,onClose:()=>{o(!1)},onServerAdded:()=>{t&&_()}})]})};try{t3.displayName||(t3.displayName="McpToolsManager")}catch{}let t4=()=>{let e,t,n=(0,o.c)(3),[r,a]=(0,h.useState)(!1),s=(0,h.useRef)(null);return n[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,i.jsx)(A.Q,{ref:s,leadingVisual:T.SlidersIcon,variant:"invisible","aria-label":"MCP Tools",onClick:()=>a(!0),children:"Tools"}),n[0]=e):e=n[0],n[1]!==r?(t=(0,i.jsxs)(i.Fragment,{children:[e,(0,i.jsx)(t3,{anchorRef:s,open:r,onOpenChange:a})]}),n[1]=r,n[2]=t):t=n[2],t};try{t4.displayName||(t4.displayName="McpToolMenu")}catch{}var t6=n(66912);function t7(){let e,t,n,r=(0,o.c)(7),a=(0,F.b)(),{usePlanningIntent:s}=(0,P.Pk)();r[0]!==a||r[1]!==s?(e=()=>a.setUsePlanningIntent(!s),r[0]=a,r[1]=s,r[2]=e):e=r[2];let l=e;return r[3]===Symbol.for("react.memo_cache_sentinel")?(t=(0,i.jsx)(T.TasklistIcon,{}),r[3]=t):t=r[3],r[4]!==l||r[5]!==s?(n=(0,i.jsx)(C,{icon:t,isSelected:s,onClick:l,children:"Plan"}),r[4]=l,r[5]=s,r[6]=n):n=r[6],n}try{t7.displayName||(t7.displayName="PlanningIntentToggle")}catch{}var t8=n(31637);let t9=["github:cancel","copilot-chat:send-message","copilot-chat:edit-last-message"],ne=e=>{let t,n,r,a,c,d,u,m,p,f,y,_,C,S,w,T,A,W,G,er,ea,ei,eo,es,el,ec,ed,eu,em,eh,ep,eg,ef,ey=(0,o.c)(147),ex=(0,P.Pk)(),ev=(0,F.b)();ey[0]!==ev?(t=ev.maxMessagesReached(),ey[0]=ev,ey[1]=t):t=ey[1];let eb=t,[e_,eC]=(0,h.useState)(null),eS="loading"===ex.slashCommandLoading.state,{safeSetTimeout:ew}=(0,k.A)(),{isLicensedLimited:ej}=(0,t8.xR)(),{onSelectReference:eN}=e,eI=(0,h.useRef)(null),eT=(0,h.useRef)(""),ek=(0,h.useRef)(!1),{activeCopilotSpaceId:eA}=(0,x.C)();ey[2]!==e_||ey[3]!==ex.mode?(n=e=>{eI.current=null,eT.current="",ek.current=!1,e_&&(eC(null),void 0!==e&&e&&(0,s.BI)("dotcom_chat.activate",{target:"CONVERT_TO_FILE_DISMISS",mode:ex.mode}))},ey[2]=e_,ey[3]=ex.mode,ey[4]=n):n=ey[4];let eR=n,eM=ex.isWaitingOnCopilot||ex.isWaitingOnAttachment||eS;ey[5]!==eR||ey[6]!==e.onSubmit||ey[7]!==e.textAreaRef||ey[8]!==eM?(r={isLoading:eM,onSubmit:e.onSubmit,textAreaRef:e.textAreaRef,clearPastedFile:eR},ey[5]=eR,ey[6]=e.onSubmit,ey[7]=e.textAreaRef,ey[8]=eM,ey[9]=r):r=ey[9];let{typingHasStarted:eE,textAreaRef:eL,textareaPreviewRef:eP,textAreaPreviewContainerRef:eF,text:e$,setText:eD,handleSubmit:eB,handleSubmitToNewThread:eO,handleScroll:eU,handleChange:ez,handleStop:eq,handleFocus:eV}=function(e){let t=(0,P.Pk)(),n=(0,F.b)(),{selectedThreadID:r,mode:a,autoSubmit:i,model:o}=t,{clearPastedFile:c,isLoading:d,onSubmit:u}=e,m=H.J.getSavedMessage(r),p=H.J.getSavedUserMessageOnError(r),{pathname:g}=(0,l.zy)(),[f,y]=(0,l.ok)(),[x,v]=(0,h.useState)(()=>Q(t.mode,g,f)??p??m??""),[b,_]=(0,h.useState)(!1),C=(0,h.useRef)(null),S=e.textAreaRef||C,w=(0,h.useRef)(null),j=(0,h.useRef)(null),N=(0,h.useRef)(0),I=(0,h.useRef)(null),T=(0,h.useRef)(()=>{}),k=(0,h.useRef)(!1),A=(0,Z.GF)(t.availableModels),R=(0,h.useCallback)(async()=>{t.renderAttachKnowledgeBaseHerePopover&&await n.fetchKnowledgeBases()},[n,t.renderAttachKnowledgeBaseHerePopover]);(0,h.useEffect)(()=>{R()},[R]),(0,h.useEffect)(()=>{H.J.setSavedMessage(r,x)},[r,x]),(0,V.N)(()=>{let e=0;!function t(){if(!S.current||!j.current||!w.current)return;e++,0===S.current.scrollHeight&&e<10&&setTimeout(t,1),S.current.style.height="0";let n=S.current.scrollHeight,r=Math.min(n,300);w.current.style.height=`${n}px`,S.current.style.height=`${n}px`,j.current.style.height=`${r}px`}()},[x,S,w]);let M=(0,h.useCallback)(()=>{S?.current&&w?.current&&j?.current&&(w.current.scrollTop=S.current.scrollTop,w.current.scrollLeft=S.current.scrollLeft)},[S]),E=(0,h.useMemo)(()=>t.currentReferences.filter(e=>!("isClientOnly"in e)||!e.isClientOnly),[t.currentReferences]),L=(0,h.useCallback)(async e=>{if(_(!1),H.J.clearSavedUserMessage(r),H.J.clearSavedUserMessageOnError(r),t.defaultRecipient&&!x.includes(`@${t.defaultRecipient}`)&&n.clearDefaultRecipient(),e?.preventDefault(),"assistive"===t.mode&&await K(x,t,n)){(0,s.BI)("dotcom_chat.activate",{target:"SLASH_COMMAND_EXECUTED",mode:t.mode,command:x}),"/new"===x.trim()&&H.J.setSavedMessageFast(r,null),v("");return}if(!d){let e=x;if(!e){let[t,r]=n.tryInferMessage(E);if(!t||!r)return;e=r}v(""),await u?.(e)}},[d,n,u,r,E,t,x]),$=(0,h.useCallback)(()=>n.sendMessageToNewThread(r,x,E,t.context,A),[n,r,t.context,E,x,A]);(0,h.useEffect)(()=>{(async()=>{let e=Q(a,g,f),t=new URLSearchParams(f),n=t.get("model"),r=!n||n===o.id;e&&r&&!k.current&&(t.delete("prompt"),t.delete("model"),(0,s.BI)("dotcom_chat.activate",{target:"COPILOT_PROMPT_LOADED_FROM_URL",mode:"immersive"}),y(t,{replace:!0}),i&&(k.current=!0,await Promise.resolve(),await L()))})()},[g,f,y,a,i,o,L]);let D=(0,h.useCallback)(e=>{_(!0),S?.current&&(v(e.target.value),c?.(),N.current=0,M())},[M,c,S]),B=(0,h.useCallback)(async()=>{await n.stopStreaming(),null!=r&&(n.startThreadReload(),await new Promise(e=>{I.current=setTimeout(()=>e(r),6e3)}),T.current=await n.fetchMessages(r,!0,!0))},[n,r]);return(0,h.useEffect)(()=>{T.current&&(T.current(),T.current=()=>{})},[t.messages]),(0,h.useEffect)(()=>()=>{I.current&&(clearTimeout(I.current),I.current=null),n.cancelThreadReload(),T.current=()=>{}},[n]),{typingHasStarted:b,textAreaRef:S,textareaPreviewRef:w,textAreaPreviewContainerRef:j,text:x,setText:v,handleSubmit:L,handleSubmitToNewThread:$,handleScroll:M,handleChange:D,handleStop:B,handleFocus:e=>{e.currentTarget.selectionStart>0||e.currentTarget.setSelectionRange(e.currentTarget.value.length,e.currentTarget.value.length)}}}(r);ey[10]!==ez||ey[11]!==eL?(a={inputRef:eL,fallbackEventHandler:ez},ey[10]=ez,ey[11]=eL,ey[12]=a):a=ey[12];let eH=(0,I.H)(a);ey[13]!==eH||ey[14]!==e.figmaAuthUrl||ey[15]!==eL?(c={figmaAuthUrl:e.figmaAuthUrl,textAreaRef:eL,emitChange:eH},ey[13]=eH,ey[14]=e.figmaAuthUrl,ey[15]=eL,ey[16]=c):c=ey[16];let{replaceUrlWithReferenceMention:eW}=function(e){let t,n,r,a,i,s,l,c,d,u,m,h,p,g=(0,o.c)(37),{figmaAuthUrl:f,textAreaRef:y,emitChange:x}=e,b=(0,F.b)(),{currentReferences:_}=(0,P.Pk)();g[0]!==x||g[1]!==y?(t=(e,t,n)=>{if(!y.current||e===t)return;let r=n?.[0]??0,a=y.current.value.slice(r,n?.[1]),i=a.indexOf(e);for(;i>-1;){let n=i+e.length;x(t,[i+r,n+r]),i=(a=a.replace(e,t)).indexOf(e)}},g[0]=x,g[1]=y,g[2]=t):t=g[2];let C=t;g[3]!==b?(n=e=>{let{itemUrl:t}=e,n=(0,v.Vc)(t);return b.addReference(n,"url-attacher"),b.dispatch({type:"WAITING_ON_ATTACHMENT",loading:!0}),n},g[3]=b,g[4]=n):n=g[4],g[5]!==C||g[6]!==b?(r=(e,t,n)=>{let{parsedReferenceMention:r}=t;b.replaceReference(n,e);let a=$.Q.for(e);if(!a)return;let i=$.Q.stringify(r),o=$.Q.stringify(a);i!==o&&C(i,o)},a=(e,t,n)=>{let{itemUrl:r,parsedReferenceMention:a}=t;b.removeReference(n),C($.Q.stringify(a),r)},g[5]=C,g[6]=b,g[7]=r,g[8]=a):(r=g[7],a=g[8]),g[9]!==b?(i=()=>{b.dispatch({type:"WAITING_ON_ATTACHMENT",loading:!1})},g[9]=b,g[10]=i):i=g[10],g[11]!==n||g[12]!==r||g[13]!==a||g[14]!==i?(s={mutationFn:q,onMutate:n,onSuccess:r,onError:a,onSettled:i},g[11]=n,g[12]=r,g[13]=a,g[14]=i,g[15]=s):s=g[15];let S=(0,R.n)(s);g[16]!==b?(l=e=>{let t=(0,v.Vc)(e);return b.addReference(t,"figma-attacher"),b.dispatch({type:"WAITING_ON_ATTACHMENT",loading:!0}),t},c=(e,t,n)=>{b.replaceReference(n,e)},g[16]=b,g[17]=l,g[18]=c):(l=g[17],c=g[18]),g[19]!==f||g[20]!==b?(d=(e,t,n)=>{n&&f&&e instanceof U?b.replaceReference(n,{type:"figma",title:"Sign in to Figma",id:`forbidden-${t}`,url:f,thumbnailUrl:"",fullImageUrl:"",authenticationRequired:!0}):b.removeReference(n)},g[19]=f,g[20]=b,g[21]=d):d=g[21],g[22]!==b?(u=()=>{b.dispatch({type:"WAITING_ON_ATTACHMENT",loading:!1})},g[22]=b,g[23]=u):u=g[23],g[24]!==u||g[25]!==l||g[26]!==c||g[27]!==d?(m={mutationFn:z,onMutate:l,onSuccess:c,onError:d,onSettled:u},g[24]=u,g[25]=l,g[26]=c,g[27]=d,g[28]=m):m=g[28];let w=(0,R.n)(m);g[29]!==_||g[30]!==w||g[31]!==C||g[32]!==S||g[33]!==y?(h=e=>{let t=y.current?.value.slice(...e)??"";if(/\s/.test(t))return t;let n=$.Q.fromUrl(t);n&&(_.every(e=>!$.Q.refersTo(n,e))&&S.mutate({itemUrl:t,parsedReferenceMention:n}),C(t,$.Q.stringify(n),e));let r=O.exec(t);return r&&(w.mutate(t),C(t,r[1],e)),t},g[29]=_,g[30]=w,g[31]=C,g[32]=S,g[33]=y,g[34]=h):h=g[34];let j=h;return g[35]!==j?(p={replaceUrlWithReferenceMention:j},g[35]=j,g[36]=p):p=g[36],p}(c),{isLoading:eG,addReferenceForMention:eK,addReferencesForMentions:eZ}=function(){let e=(0,F.b)(),{currentReferences:t,mode:n}=(0,P.Pk)(),r=(0,R.n)({mutationFn:async e=>{let t="repository"===e.type?[e.repo]:[e.repo,B(e.type),e.id??""],r=await (0,M.lS)(`/copilot/chat/reference/${t.join("/")}`);if(!r.ok)throw Error(`Failed to fetch reference data (${r.status}: ${r.statusText})`);return(0,s.BI)("dotcom_chat.activate",{target:"REFERENCE_LINK_PASTE",mode:n,linkType:e.type}),await r.json()},onSuccess:t=>e.addReference(t,"chatInput")}),a=e=>{t.every(t=>!$.Q.refersTo(e,t))&&r.mutate(e)};return{isLoading:r.isPending,addReferenceForMention:a,addReferencesForMentions:e=>{let n=(0,E.l)().use(D.U,{references:t,agents:[]}).parse(e),r=0;(0,L.YR)(n,e=>{"reference-mention"===e.type&&void 0===e.data.mentionedReferenceId&&r<20&&(r++,a(e.data.referenceMention))})}}}(),eQ=(0,en.FQ)(),eJ=!!(eA&&eQ),eY=eS||eG||ex.isWaitingOnAttachment||!!e.submitDisabled,eX=0===e$.length;ey[17]!==eq||ey[18]!==ex.mode?(d=()=>{(0,s.BI)("dotcom_chat.activate",{target:"CHAT_MESSAGE_STOP",mode:ex.mode}),eq()},ey[17]=eq,ey[18]=ex.mode,ey[19]=d):d=ey[19];let e0=d;ey[20]!==eA||ey[21]!==eR||ey[22]!==eB||ey[23]!==ev||ey[24]!==e_||ey[25]!==eJ||ey[26]!==ex.mode||ey[27]!==eY?(u=async()=>{eY||((0,s.BI)("dotcom_chat.activate",{target:"CHAT_MESSAGE_SUBMIT",mode:ex.mode}),eJ&&await ev.selectPendingThread(eA),e_&&eR(!1),eB())},ey[20]=eA,ey[21]=eR,ey[22]=eB,ey[23]=ev,ey[24]=e_,ey[25]=eJ,ey[26]=ex.mode,ey[27]=eY,ey[28]=u):u=ey[28];let e1=u;ey[29]!==eA||ey[30]!==eO||ey[31]!==ev||ey[32]!==eJ||ey[33]!==eY?(m=async()=>{eY||(eJ&&await ev.selectPendingThread(eA),eO())},ey[29]=eA,ey[30]=eO,ey[31]=ev,ey[32]=eJ,ey[33]=eY,ey[34]=m):m=ey[34];let e2=m;ey[35]!==ev||ey[36]!==ex.messages?(p=()=>{let e=ex.messages.findLast(na)?.id;e&&ev.startEditingMessage(e)},ey[35]=ev,ey[36]=ex.messages,ey[37]=p):p=ey[37];let e5=p,e3=ex.isWaitingOnCopilot?"Copilot is responding\u2026":ex.defaultRecipient?void 0:eb?"Message limit reached. To continue chatting with Copilot, start a new conversation.":e.placeholder?e.placeholder:"How can I help you?";ex.defaultRecipient&&""===e$&&!eE&&eD(`@${ex.defaultRecipient} `);let e4=(0,h.useRef)(null),[e6,e7]=(0,h.useState)(null);ey[38]!==ex.mode?(f=()=>{(0,s.BI)("dotcom_chat.activate",{target:"ATTACHMENT_MENU",mode:ex.mode}),e7(ni)},ey[38]=ex.mode,ey[39]=f):f=ey[39];let e8=f;ey[40]!==ev||ey[41]!==ex.mode||ey[42]!==ex.skillOptions?.deepCodeSearch?(y=()=>{(0,s.BI)("dotcom_chat.activate",{target:"DEEP_CODESEARCH",mode:ex.mode}),ev.dispatch({type:"SET_DEEP_CODESEARCH",deepCodeSearch:!ex.skillOptions?.deepCodeSearch})},ey[40]=ev,ey[41]=ex.mode,ey[42]=ex.skillOptions?.deepCodeSearch,ey[43]=y):y=ey[43],ex.skillOptions?.deepCodeSearch;let e9=y,{model:te}=(0,P.bP)("model"),tt=g.W.attachImagesImmersive&&"immersive"===ex.mode&&!!te.capabilities.supports.vision||!1;ey[44]!==eA||ey[45]!==ev||ey[46]!==te||ey[47]!==eJ||ey[48]!==e.existingFileNames||ey[49]!==tt||ey[50]!==ex?(_=async(t,n,r,a)=>{let i=new X.s(ex,ev),o=new et.E(ev,e.existingFileNames),s=[];[...t].some(no)&&!te.capabilities.supports.vision&&(ev.addAmbientError(`The ${te.displayName} model doesn't support answering questions about images. Select a different model and try again.`),(0,ee.d)("vision_not_supported_for_model",{modelId:te.id,uploadType:n}));let[l,c]=X.s.getAllowedFiles([...t],te);if(tt){let e=await i.addImageAttachments(l,n,eA,eJ);e&&s.push(...e)}let d=[];for(let e of c)if(await et.E.isAttachable(e)){let t=await o.addAttachment(e,r,a);t&&s.push(t)}else d.push(e.type);return tt&&d.length>0&&(0,ee.d)("included_unsupported_file",{fileTypes:d.join(","),uploadType:n}),s},ey[44]=eA,ey[45]=ev,ey[46]=te,ey[47]=eJ,ey[48]=e.existingFileNames,ey[49]=tt,ey[50]=ex,ey[51]=_):_=ey[51];let tn=_;ey[52]!==eR||ey[53]!==tn||ey[54]!==e_||ey[55]!==eD||ey[56]!==ex.mode||ey[57]!==e$?(C=async()=>{if(!e_)return;let e=[e_],t=await tn(e,"paste",eI.current||void 0,eT.current);if(t.length>0&&t[0]?.type==="thread-scoped-file"){let e=await e_.text();eD(e$.replaceAll(e,`@${t[0].name}`)),eR(!1),(0,s.BI)("dotcom_chat.activate",{target:"CONVERT_TO_FILE_CONVERT",mode:ex.mode})}},ey[52]=eR,ey[53]=tn,ey[54]=e_,ey[55]=eD,ey[56]=ex.mode,ey[57]=e$,ey[58]=C):C=ey[58];let tr=C;ey[59]!==eR?(S=()=>{eR(!0)},ey[59]=eR,ey[60]=S):S=ey[60];let ta=S;ey[61]!==e_||ey[62]!==ex.isWaitingOnAttachment||ey[63]!==ex.mode?(w=()=>{!e_||ex.isWaitingOnAttachment||ek.current||(ek.current=!0,(0,s.BI)("dotcom_chat.activate",{target:"CONVERT_TO_FILE_TRIGGER",mode:ex.mode}))},T=[e_,ex.isWaitingOnAttachment,ex.mode],ey[61]=e_,ey[62]=ex.isWaitingOnAttachment,ey[63]=ex.mode,ey[64]=w,ey[65]=T):(w=ey[64],T=ey[65]),(0,h.useEffect)(w,T),ey[66]!==eZ||ey[67]!==tn||ey[68]!==ev||ey[69]!==e.existingFileNames||ey[70]!==eW||ey[71]!==ew||ey[72]!==eL?(A=t=>{let n=t.clipboardData;if(n?.items){let r=[];for(let t=0;t<n.items.length;t++){let a=n.items[t];if(a){if("file"===a.kind){let e=a.getAsFile();e&&r.push(e)}else if("string"===a.kind&&["text","text/plain"].includes(a.type)){let t=n.getData(a.type);if(t.length>1e3&&t.length<=et.E.getAttachmentSizeLimit())ew(()=>{ek.current=!1;let n=new File([t],"",{type:et.x}),r=new et.E(ev,e.existingFileNames);eC(n),eI.current=r.generateFileName(t,n.type).then(e=>eT.current=e)},1);else{eZ(t);let e=eL.current?.selectionStart??0;setTimeout(()=>eW([e,e+t.length]));return}}}}r.length>0&&(t.preventDefault(),tn(r,"paste"))}},ey[66]=eZ,ey[67]=tn,ey[68]=ev,ey[69]=e.existingFileNames,ey[70]=eW,ey[71]=ew,ey[72]=eL,ey[73]=A):A=ey[73];let ti=A;ey[74]!==tn?(W=e=>{tn(e,"drag")},ey[74]=tn,ey[75]=W):W=ey[75];let to=W,tl=tt&&g.W.wholeAreaDragDrop,tc=eA&&eQ,td=!tl||tc?eL.current:void 0;ey[76]!==to||ey[77]!==td?(G={onFilesDrop:to,targetElement:td},ey[76]=to,ey[77]=td,ey[78]=G):G=ey[78],(0,J.J)(G);let tu=e.isStreaming||ex.isWaitingOnCopilot,tm=tu?e0:void 0,th=eX?e5:void 0;ey[79]!==e8||ey[80]!==e1||ey[81]!==e2||ey[82]!==e9||ey[83]!==tm||ey[84]!==th?(ea={"github:cancel":tm,"copilot-chat:send-message":e1,"copilot-chat:send-message-new-conversation":e2,"copilot-chat:add-attachment":e8,"copilot-chat:edit-last-message":th,"copilot-chat:deep-codesearch":e9},ey[79]=e8,ey[80]=e1,ey[81]=e2,ey[82]=e9,ey[83]=tm,ey[84]=th,ey[85]=ea):ea=ey[85],er=ea;let tp="small"===e.size,tg=!e.hideShadow;ey[86]!==tp||ey[87]!==tg?(ei=(0,b.$)(tD.container,{[tD.containerSmall]:tp,[tD.containerShadow]:tg}),ey[86]=tp,ey[87]=tg,ey[88]=ei):ei=ey[88];let tf="small"===e.size?"small":"medium",ty=!!e_&&!ex.isWaitingOnAttachment;ey[89]!==tr||ey[90]!==ta||ey[91]!==eG||ey[92]!==eN||ey[93]!==e.getReferenceVersion||ey[94]!==tf||ey[95]!==ty?(eo=(0,i.jsx)(tZ,{className:tD.attachments,returnFocusRef:e4,tokenSize:tf,isLoading:eG,onSelectReference:eN,getReferenceVersion:e.getReferenceVersion,showConvertToFileText:ty,onConvertToFile:tr,onConvertToFileDismiss:ta}),ey[89]=tr,ey[90]=ta,ey[91]=eG,ey[92]=eN,ey[93]=e.getReferenceVersion,ey[94]=tf,ey[95]=ty,ey[96]=eo):eo=ey[96];let tx=eb||e.disabled;ey[97]===Symbol.for("react.memo_cache_sentinel")?(es=(0,j.G)("copilot-chat-input-textarea"),ey[97]=es):es=ey[97],ey[98]!==ez||ey[99]!==eV||ey[100]!==ti||ey[101]!==eU||ey[102]!==e3||ey[103]!==tx||ey[104]!==e$||ey[105]!==eL?(el=(0,i.jsx)("textarea",{autoFocus:!0,id:Y.wg,className:tD.input,autoComplete:"off",autoCorrect:"off",spellCheck:"false","aria-multiline":"true",onPaste:ti,ref:eL,onScroll:eU,onChange:ez,onFocus:eV,placeholder:e3,value:e$,"data-react-autofocus":!0,disabled:tx,...es}),ey[98]=ez,ey[99]=eV,ey[100]=ti,ey[101]=eU,ey[102]=e3,ey[103]=tx,ey[104]=e$,ey[105]=eL,ey[106]=el):el=ey[106],ey[107]!==eK||ey[108]!==el?(ec=(0,i.jsx)(tF,{onSelectReference:eK,onShowAgentsDialog:e7,children:el}),ey[107]=eK,ey[108]=el,ey[109]=ec):ec=ey[109],ey[110]!==e$||ey[111]!==eP?(ed=(0,i.jsx)(tU,{text:e$,ref:eP}),ey[110]=e$,ey[111]=eP,ey[112]=ed):ed=ey[112],ey[113]!==ec||ey[114]!==ed||ey[115]!==eF?(eu=(0,i.jsxs)(N.tL.LimitKeybindingScope,{commandIds:t9,className:tD.inputContainer,ref:eF,children:[ec,ed]}),ey[113]=ec,ey[114]=ed,ey[115]=eF,ey[116]=eu):eu=ey[116];let tv=ex.skillOptions?.deepCodeSearch,tb=!!e.hideAttachmentButton;return ey[117]!==e8||ey[118]!==eQ||ey[119]!==ej||ey[120]!==e.extraToolbarLeft||ey[121]!==e.onNewThreadSelected||ey[122]!==e.showModelPicker||ey[123]!==e.showPlanningToggle||ey[124]!==e.showSpacesSelect||ey[125]!==e.submitButtonLabel||ey[126]!==ex.mode||ey[127]!==tu||ey[128]!==eY||ey[129]!==tv||ey[130]!==tb?(em=(0,i.jsx)(nt,{addAttachment:e8,attachmentButtonRef:e4,deepCodeSearch:tv,hideAttachmentButton:tb,stoppable:tu,submitDisabled:eY,onNewThreadSelected:e.onNewThreadSelected,showModelPicker:e.showModelPicker,isLicensedLimited:ej,mode:ex.mode,extraToolbarLeft:e.extraToolbarLeft,isCopilotSpacePath:eQ,submitButtonLabel:e.submitButtonLabel,showSpacesSelect:e.showSpacesSelect,showPlanningToggle:e.showPlanningToggle}),ey[117]=e8,ey[118]=eQ,ey[119]=ej,ey[120]=e.extraToolbarLeft,ey[121]=e.onNewThreadSelected,ey[122]=e.showModelPicker,ey[123]=e.showPlanningToggle,ey[124]=e.showSpacesSelect,ey[125]=e.submitButtonLabel,ey[126]=ex.mode,ey[127]=tu,ey[128]=eY,ey[129]=tv,ey[130]=tb,ey[131]=em):em=ey[131],ey[132]!==ei||ey[133]!==eo||ey[134]!==eu||ey[135]!==em?(eh=(0,i.jsxs)("form",{className:ei,children:[eo,eu,em]}),ey[132]=ei,ey[133]=eo,ey[134]=eu,ey[135]=em,ey[136]=eh):eh=ey[136],ey[137]!==er||ey[138]!==eh?(ep=(0,i.jsx)(N.tL,{commands:er,children:eh}),ey[137]=er,ey[138]=eh,ey[139]=ep):ep=ey[139],ey[140]!==e6||ey[141]!==ez||ey[142]!==eL?(eg=(0,i.jsx)(ts,{inputRef:eL,inputOnChange:ez,anchorRef:e4,panel:e6,onPanelChange:e7}),ey[140]=e6,ey[141]=ez,ey[142]=eL,ey[143]=eg):eg=ey[143],ey[144]!==ep||ey[145]!==eg?(ef=(0,i.jsxs)(i.Fragment,{children:[ep,eg]}),ey[144]=ep,ey[145]=eg,ey[146]=ef):ef=ey[146],ef},nt=(0,h.memo)(e=>{let t,n,r,a,s,l,c,d,u,m,h=(0,o.c)(34),{addAttachment:p,attachmentButtonRef:f,deepCodeSearch:y,hideAttachmentButton:x,stoppable:v,submitDisabled:_,onNewThreadSelected:C,showModelPicker:S,isLicensedLimited:j,mode:I,extraToolbarLeft:k,isCopilotSpacePath:R,submitButtonLabel:M,showSpacesSelect:E,showPlanningToggle:L}=e;return h[0]!==y?(t=g.W.showDeepCodeSearchButton&&(0,i.jsx)(N.N5,{commandId:"copilot-chat:deep-codesearch",icon:T.RocketIcon,variant:"invisible",tooltipDirection:"n",className:(0,b.$)({[tD.clicked]:y})}),h[0]=y,h[1]=t):t=h[1],h[2]!==p||h[3]!==f||h[4]!==x?(n=!x&&(0,i.jsx)(A.Q,{ref:f,leadingVisual:T.PaperclipIcon,variant:"invisible",onClick:p,"data-testid":"attachment-menu-button",children:"Attach"}),h[2]=p,h[3]=f,h[4]=x,h[5]=n):n=h[5],h[6]!==R||h[7]!==I?(r=er(g.W.copilotMcp,I,R)&&(0,i.jsx)(t4,{}),h[6]=R,h[7]=I,h[8]=r):r=h[8],h[9]!==E?(a=g.W.spacesInputMenuSelect&&E&&(0,i.jsx)(w,{}),h[9]=E,h[10]=a):a=h[10],h[11]!==L?(s=g.W.planningAgent&&L&&(0,i.jsx)(t7,{}),h[11]=L,h[12]=s):s=h[12],h[13]!==k||h[14]!==t||h[15]!==n||h[16]!==r||h[17]!==a||h[18]!==s?(l=(0,i.jsxs)("div",{className:tD.toolbarLeft,children:[t,n,r,k,a,s]}),h[13]=k,h[14]=t,h[15]=n,h[16]=r,h[17]=a,h[18]=s,h[19]=l):l=h[19],h[20]!==j||h[21]!==C||h[22]!==S?(c=C&&S&&(0,i.jsx)(t6.Yb,{onNewThreadSelected:C,limited:j}),h[20]=j,h[21]=C,h[22]=S,h[23]=c):c=h[23],h[24]!==v||h[25]!==M||h[26]!==_?(d=v?(0,i.jsx)(nr,{}):(0,i.jsx)(nn,{disabled:_,label:M}),h[24]=v,h[25]=M,h[26]=_,h[27]=d):d=h[27],h[28]!==c||h[29]!==d?(u=(0,i.jsxs)("div",{className:tD.toolbarRight,children:[c,d]}),h[28]=c,h[29]=d,h[30]=u):u=h[30],h[31]!==l||h[32]!==u?(m=(0,i.jsxs)("div",{className:tD.toolbar,children:[l,u]}),h[31]=l,h[32]=u,h[33]=m):m=h[33],m});function nn(e){let t,n=(0,o.c)(3),{disabled:r,label:a}=e,s=a||"Send now";return n[0]!==r||n[1]!==s?(t=(0,i.jsx)(N.N5,{commandId:"copilot-chat:send-message",variant:"invisible",size:"medium",icon:T.PaperAirplaneIcon,"aria-label":s,disabled:r,tooltipDirection:"n"}),n[0]=r,n[1]=s,n[2]=t):t=n[2],t}function nr(){let e,t=(0,o.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,i.jsx)(N.N5,{...(0,j.G)("copilot-chat-stop-button"),commandId:"github:cancel",variant:"invisible",size:"medium",icon:T.SquareFillIcon,tooltipDirection:"n",className:tD.CommandIconButton}),t[0]=e):e=t[0],e}nt.displayName="ChatInputToolbar";try{ne.displayName||(ne.displayName="ChatInput")}catch{}try{nn.displayName||(nn.displayName="SubmitButton")}catch{}try{nr.displayName||(nr.displayName="StopButton")}catch{}function na(e){return"user"===e.role}function ni(e){return"attachment-types"===e?null:"attachment-types"}function no(e){return e.type.startsWith("image/")}},83880:(e,t,n)=>{n.d(t,{$:()=>s,V:()=>l});var r=n(74848),a=n(21728),i=n(96540);let o=(0,i.createContext)(void 0),s=e=>{let t,n,i,s=(0,a.c)(5),{message:l,children:c}=e;return s[0]!==l?(n={message:l},s[0]=l,s[1]=n):n=s[1],t=n,s[2]!==c||s[3]!==t?(i=(0,r.jsx)(o.Provider,{value:t,children:c}),s[2]=c,s[3]=t,s[4]=i):i=s[4],i},l=()=>{let e=(0,i.useContext)(o);if(!e)throw Error("useChatMessage must be used with ChatMessageProvider.");return e};try{o.displayName||(o.displayName="ChatMessageContext")}catch{}try{s.displayName||(s.displayName="ChatMessageProvider")}catch{}},9205:(e,t,n)=>{n.d(t,{Q:()=>c});var r=n(74848),a=n(21728),i=n(38621),o=n(72010),s=n(38695);let l={Details:"ChatMessageMcpToolResultsList-module__Details--suJ4D",ToolInputOutputHeading:"ChatMessageMcpToolResultsList-module__ToolInputOutputHeading--np_vq",ToolInputOutputContents:"ChatMessageMcpToolResultsList-module__ToolInputOutputContents--GIRXO"};function c(e){let t,n,i=(0,a.c)(4),{mcpToolResults:o}=e;return o&&0!==o.length?(i[0]!==o?(t=o.map(d),i[0]=o,i[1]=t):t=i[1],i[2]!==t?(n=(0,r.jsx)("div",{className:"mb-2",children:t}),i[2]=t,i[3]=n):n=i[3],n):null}function d(e){return(0,r.jsx)(u,{result:e},e.toolName)}function u(e){let t,n,c,d,u,m,h,p,g,f,y,x,v,b=(0,a.c)(29),{result:_}=e;b[0]===Symbol.for("react.memo_cache_sentinel")?(t={},b[0]=t):t=b[0];let{getDetailsProps:C,open:S}=(0,o.A)(t),w=_.toolName;return b[1]!==C?(n=C(),b[1]=C,b[2]=n):n=b[2],b[3]!==S?(c=!S&&(0,r.jsx)(i.ChevronRightIcon,{size:16,className:"mr-1 inline-block"}),b[3]=S,b[4]=c):c=b[4],b[5]!==S?(d=S&&(0,r.jsx)(i.ChevronDownIcon,{size:16,className:"mr-1 inline-block"}),b[5]=S,b[6]=d):d=b[6],b[7]===Symbol.for("react.memo_cache_sentinel")?(u=(0,r.jsx)(i.ToolsIcon,{size:16,className:"mr-1 inline-block"}),b[7]=u):u=b[7],b[8]!==_.serverName||b[9]!==_.toolName||b[10]!==c||b[11]!==d?(m=(0,r.jsxs)("summary",{children:[c,d,u,"Called ",_.toolName," from ",_.serverName]}),b[8]=_.serverName,b[9]=_.toolName,b[10]=c,b[11]=d,b[12]=m):m=b[12],b[13]===Symbol.for("react.memo_cache_sentinel")?(h=(0,r.jsx)("h3",{className:l.ToolInputOutputHeading,children:"Input"}),b[13]=h):h=b[13],b[14]!==_.toolArguments?(p=JSON.stringify(_.toolArguments,null,2),b[14]=_.toolArguments,b[15]=p):p=b[15],b[16]!==p?(g=(0,r.jsx)("div",{className:"border rounded p-2 mb-2",children:(0,r.jsx)("span",{className:l.ToolInputOutputContents,children:p})}),b[16]=p,b[17]=g):g=b[17],b[18]===Symbol.for("react.memo_cache_sentinel")?(f=(0,r.jsx)("h3",{className:l.ToolInputOutputHeading,children:"Output"}),b[18]=f):f=b[18],b[19]!==_.toolResponse?(y=JSON.stringify(_.toolResponse,null,2),b[19]=_.toolResponse,b[20]=y):y=b[20],b[21]!==y?(x=(0,r.jsx)("div",{className:"border rounded p-2 mb-2",children:(0,r.jsx)("span",{className:l.ToolInputOutputContents,children:y})}),b[21]=y,b[22]=x):x=b[22],b[23]!==_.toolName||b[24]!==g||b[25]!==x||b[26]!==n||b[27]!==m?(v=(0,r.jsxs)(s.A,{className:l.Details,...n,children:[m,h,g,f,x]},w),b[23]=_.toolName,b[24]=g,b[25]=x,b[26]=n,b[27]=m,b[28]=v):v=b[28],v}try{c.displayName||(c.displayName="ChatMessageMcpToolResultsList")}catch{}try{u.displayName||(u.displayName="McpToolResult")}catch{}},44669:(e,t,n)=>{n.d(t,{A:()=>d,i:()=>c});var r=n(74848),a=n(21728),i=n(96679),o=n(96540),s=n(34901),l=n(40136);let c=e=>{let t,n,c,d,u=(0,a.c)(10),{isLastGroup:m,children:h}=e,{scrollContainerHeight:p,scrollToBottom:g}=(0,l.b)(),{threadHasNewMessages:f,pendingFirstMessage:y}=(0,s.Pk)(),x=m&&(f||y);if(u[0]!==x||u[1]!==g?(t=()=>{x&&g("smooth")},n=[x,g],u[0]=x,u[1]=g,u[2]=t,u[3]=n):(t=u[2],n=u[3]),(0,o.useEffect)(t,n),x)if(i.cg?.CSS?.supports("container-type: size")){let e;u[4]===Symbol.for("react.memo_cache_sentinel")?(e={minHeight:"100cqh"},u[4]=e):e=u[4],d=e}else{let e;u[5]!==p?(e={minHeight:p},u[5]=p,u[6]=e):e=u[6],d=e}return u[7]!==h||u[8]!==d?(c=(0,r.jsx)("div",{style:d,children:h}),u[7]=h,u[8]=d,u[9]=c):c=u[9],c};function d(e){return e.reduce((e,t)=>{let n=e.at(-1);return"assistant"===(n?.at(-1)?.role??"assistant")&&"user"===t.role?e.push([t]):n?.push(t),e},[])}try{c.displayName||(c.displayName="ChatMessagesGroup")}catch{}},78758:(e,t,n)=>{n.d(t,{t:()=>E,s:()=>R});var r,a=n(74848),i=n(38621),o=n(72010),s=n(38695),l=n(15385),c=n(34614),d=n(53110),u=n(34164),m=n(96540),h=n(22069),p=n(31971),g=n(34901),f=n(65011),y=n(58569),x=n(10569),v=n(47397);let b={ActionList_LinkItem:"ChatReference-module__ActionList_LinkItem--cFCZu"};var _=n(42342),C=n(53655);function S({reference:e,onClick:t}){let n,r=(0,g.Pk)(),o=(0,v.b)(),s=(0,m.useRef)(null),[c,d]=(0,m.useState)(!1),p=r?.mode??"assistive",{currentReferences:f}=r??{currentReferences:[]},S=(0,m.useMemo)(()=>f.map(e=>(0,h.Vb)(e)),[f]),w=(0,m.useMemo)(()=>(0,h.Vb)(e),[e]),j=(0,m.useMemo)(()=>"repo-instructions"===e.type,[e]),N=(0,m.useMemo)(()=>"org-instructions"===e.type,[e]),I=!j&&!N&&"web-search-result"!==e.type,T=(0,m.useMemo)(()=>j||N||S.includes(w),[j,N,S,w]),k=(0,m.useCallback)(t=>{t.stopPropagation(),T||o.addReference(e,"refMenu")},[o,e,T]),A=(0,h.JP)(e),R=(0,h.Xs)(A),M=(0,C.a_)(e,(0,h.P)(r?.currentTopic));switch(e.type){case"file":case"snippet":{n=`${e.repoName}`;let t=e.path.lastIndexOf("/");-1!==t&&(n=`${n}/${e.path.substring(0,t)}`);break}case"web-search-result":n=new URL(e.url,window.location.origin).hostname.replace(/^www\./,"")}let E=(0,h.z$)(e);return(0,a.jsxs)(l.l.LinkItem,{onClick:n=>{t&&!n.defaultPrevented&&t(e,n)},href:A,rel:"noopener",className:(0,u.$)("reference-action",b.ActionList_LinkItem),target:"immersive"===p||"third-party"===e.type?"_blank":void 0,children:[M&&(0,a.jsx)(l.l.LeadingVisual,{children:(0,a.jsx)(M,{})}),(0,a.jsxs)(y.A,{title:E,maxWidth:"100%",className:"text-semibold",children:[E,n&&(0,a.jsx)("span",{className:"color-fg-muted ml-2",children:n})]}),I&&(0,a.jsx)(l.l.TrailingAction,{onClick:()=>d(!0),icon:i.KebabHorizontalIcon,label:"More reference options",ref:s}),I&&(0,a.jsx)(x.W,{anchorRef:s,open:c,onOpenChange:d,children:(0,a.jsx)(_.UJ,{portalContainerName:_.Dq,children:(0,a.jsxs)(l.l,{children:[R&&("immersive"===p||["third-party","folder","repository","docset"].includes(e.type)?(0,a.jsxs)(l.l.LinkItem,{href:A,rel:"noopener",target:"_blank",children:[(0,a.jsx)(l.l.LeadingVisual,{children:(0,a.jsx)(i.LinkIcon,{})}),"Open"]}):(0,a.jsxs)(l.l.Item,{onSelect:()=>{o.selectReference(e)},children:[(0,a.jsx)(l.l.LeadingVisual,{children:(0,a.jsx)(i.LinkIcon,{})}),"Preview"]})),(0,a.jsxs)(l.l.Item,{onSelect:k,disabled:T,children:[(0,a.jsx)(l.l.LeadingVisual,{children:(0,a.jsx)(i.PaperclipIcon,{})}),"Attach to chat"]})]})})})]})}try{S.displayName||(S.displayName="OutputReference")}catch{}try{(r=Icon).displayName||(r.displayName="Icon")}catch{}let w={referencesContainer:"ChatReferences-module__referencesContainer--Lxpin",referencesListImmersiveContainer:"ChatReferences-module__referencesListImmersiveContainer--iscAs",title:"ChatReferences-module__title--zwhMS",assistiveTitle:"ChatReferences-module__assistiveTitle--vngwU",referencesDetails:"ChatReferences-module__referencesDetails--f5bdD",referenceTokensOuterContainer:"ChatReferences-module__referenceTokensOuterContainer--tFG8Q",referenceTokensContainer:"ChatReferences-module__referenceTokensContainer--PGYAF",chatMessageReferenceListFooter:"ChatReferences-module__chatMessageReferenceListFooter--nkt6v",chevronDownIcon:"ChatReferences-module__chevronDownIcon--NVWr8",chevronUpIcon:"ChatReferences-module__chevronUpIcon--JiO80",ActionList:"ChatReferences-module__ActionList--Mx5sd"};var j=n(21728),N=n(63867);let I={referenceToken:"FigmaChatReference-module__referenceToken--Qn1Il",name:"FigmaChatReference-module__name--fKkEE",content:"FigmaChatReference-module__content--X8uXy",thumbnail:"FigmaChatReference-module__thumbnail--PaX46",thumbnailHidden:"FigmaChatReference-module__thumbnailHidden--PBOGz",thumbnailOuter:"FigmaChatReference-module__thumbnailOuter--sO8P4",thumbnailLoading:"FigmaChatReference-module__thumbnailLoading--PKK05",figmaIconOuter:"FigmaChatReference-module__figmaIconOuter--dd0HF",figmaIcon:"FigmaChatReference-module__figmaIcon--iPM9K"};var T=n(39038);let k=(0,m.forwardRef)(function(e,t){let n,r,i,o,s,l,c,d,p,g,f=(0,j.c)(23);f[0]!==e?({reference:n,...r}=e,f[0]=e,f[1]=n,f[2]=r):(n=f[1],r=f[2]);let[y,x]=(0,m.useState)(!0);return f[3]!==n?(i=(0,h.JP)(n),f[3]=n,f[4]=i):i=f[4],f[5]===Symbol.for("react.memo_cache_sentinel")?(o=(0,u.$)(I.referenceToken),f[5]=o):o=f[5],f[6]!==n.thumbnailUrl||f[7]!==n.title||f[8]!==y?(s=n.thumbnailUrl&&(0,a.jsxs)(a.Fragment,{children:[y&&(0,a.jsx)("span",{className:I.thumbnailLoading,children:(0,a.jsx)(N.A,{size:"medium"})}),(0,a.jsx)("img",{className:(0,u.$)(I.thumbnail,{[I.thumbnailHidden]:y}),src:n.thumbnailUrl,alt:`preview thumbnail for ${n.title}`,onLoad:()=>x(!1)})]}),f[6]=n.thumbnailUrl,f[7]=n.title,f[8]=y,f[9]=s):s=f[9],f[10]!==s?(l=(0,a.jsx)("span",{className:I.thumbnailOuter,children:s}),f[10]=s,f[11]=l):l=f[11],f[12]===Symbol.for("react.memo_cache_sentinel")?(c=(0,a.jsx)("div",{className:I.figmaIconOuter,children:(0,a.jsx)(T._,{className:I.figmaIcon})}),f[12]=c):c=f[12],f[13]!==n?(d=(0,h.z$)(n),f[13]=n,f[14]=d):d=f[14],f[15]!==d?(p=(0,a.jsxs)("span",{className:I.content,children:[c,(0,a.jsx)("span",{className:I.name,children:d})]}),f[15]=d,f[16]=p):p=f[16],f[17]!==t||f[18]!==r||f[19]!==i||f[20]!==l||f[21]!==p?(g=(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("a",{href:i,className:o,ref:t,target:"_blank",rel:"noreferrer",...r,children:[l,p]})}),f[17]=t,f[18]=r,f[19]=i,f[20]=l,f[21]=p,f[22]=g):g=f[22],g});try{k.displayName||(k.displayName="FigmaChatReference")}catch{}var A=n(5279);function R({references:e,onToggle:t,onClick:n,isImmersive:r,className:p}){let f=(0,g.Pk)(),y=(0,m.useMemo)(()=>(0,h.rT)(e),[e]),{getDetailsProps:x}=(0,o.A)({}),v=(0,m.useMemo)(()=>(0,h.P)(f?.currentTopic)&&y.every(M),[f?.currentTopic,y]),b=(0,m.useMemo)(()=>y.some(e=>"web-search-result"===e.type),[y]);if(0===y.length)return null;let _=v&&f?.currentTopic?.name?`Search results from ${f.currentTopic.name}`:`${y.length} ${1===y.length?"reference":"references"}`;return(0,a.jsxs)(s.A,{...x(),onToggle:t,className:(0,u.$)(p,w.referencesDetails),children:[(0,a.jsxs)("summary",{className:(0,u.$)(w.referencesContainer),children:[(0,a.jsx)("span",{className:(0,u.$)(w.title,r?"":w.assistiveTitle),children:_}),(0,a.jsx)(d.A,{icon:i.ChevronDownIcon,className:(0,u.$)("references-chevron-down",w.chevronDownIcon)}),(0,a.jsx)(d.A,{icon:i.ChevronUpIcon,className:(0,u.$)("references-chevron-up",w.chevronUpIcon)})]}),(0,a.jsxs)(l.l,{className:(0,u.$)(r&&w.referencesListImmersiveContainer,w.ActionList),children:[y.map(e=>(0,a.jsx)(S,{reference:e,onClick:n},(0,h.Vb)(e))),b&&(0,a.jsxs)("div",{className:w.chatMessageReferenceListFooter,children:["Copilot used the"," ",(0,a.jsx)(c.A,{inline:!0,href:"https://gh.io/azure-ai-agent-with-bing-grounding",target:"_blank",rel:"noopener noreferrer",children:"Bing Search"})," ","tool."," ",(0,a.jsx)(c.A,{inline:!0,href:"https://privacy.microsoft.com/privacystatement",rel:"nofollow",target:"_blank",children:"Microsoft Privacy Statement"})]})]})]})}function M(e){return"snippet"===e.type&&!!e.languageName&&f.Yr.has(e.languageName)}function E({references:e,message:t,className:n,size:r,onClickReference:i,getReferenceVersion:o}){let{bigReferences:s,smallReferences:l}=(0,m.useMemo)(()=>(function(e){let t=(0,h.rT)(e),n=[],r=[];for(let e of t)L.has(e.type)?n.push(e):r.push(e);return{bigReferences:n,smallReferences:r}})(e),[e]),c=e=>"figma"===e.type&&p.W.immersiveFigmaIntegration?(0,a.jsx)(k,{reference:e,onClick:t=>i?.(e,t)},(0,h.Vb)(e)):(0,a.jsx)(C.BR,{message:t,reference:e,size:r,onClick:(t,n)=>i?.(e,n),getReferenceVersion:o},(0,h.Vb)(e));return(0,a.jsxs)(A.M,{"aria-label":"Attachments",className:(0,u.$)(w.referenceTokensOuterContainer,n),children:[s.map(c),(0,a.jsx)("div",{className:w.referenceTokensContainer,children:l.map(c)})]})}let L=new Set(["figma","image"]);try{R.displayName||(R.displayName="ChatMessageReferencesList")}catch{}try{E.displayName||(E.displayName="ChatMessageReferenceTokens")}catch{}try{L.displayName||(L.displayName="BIG_REFERENCE_TYPES")}catch{}},40136:(e,t,n)=>{n.d(t,{$:()=>d,b:()=>u});var r=n(74848),a=n(21728),i=n(81425),o=n(34164),s=n(96540);let l={container:"ChatScrollContainer-module__container--b73rS"},c=(0,s.createContext)(null);function d(e){let t,n,d,u,m,h,p,g,f,y,x,v,b,_,C,S=(0,a.c)(30);S[0]!==e?({children:n,disabled:d,containerRef:t,...u}=e,S[0]=e,S[1]=t,S[2]=n,S[3]=d,S[4]=u):(t=S[1],n=S[2],d=S[3],u=S[4]);let w=(0,i.L)(t),j=(0,s.useRef)(null),[N,I]=(0,s.useState)(!1);S[5]!==w.current?(m=()=>{let e=new IntersectionObserver(e=>{let[t]=e;return I(!t?.isIntersecting)},{root:w.current,threshold:0,rootMargin:"50px"});return e.observe(j.current),()=>e.disconnect()},S[5]=w.current,S[6]=m):m=S[6],S[7]!==w?(h=[w],S[7]=w,S[8]=h):h=S[8],(0,s.useEffect)(m,h);let[T,k]=(0,s.useState)();S[9]!==w.current?(p=()=>{let e=()=>{if(!w.current)return;let e=getComputedStyle(w.current);k(`calc(${w.current.clientHeight}px - ${e.paddingTop} - ${e.paddingBottom})`)},t=new ResizeObserver(e);return e(),t.observe(w.current),()=>t.disconnect()},S[9]=w.current,S[10]=p):p=S[10],S[11]!==w?(g=[w],S[11]=w,S[12]=g):g=S[12],(0,s.useEffect)(p,g),S[13]!==d?(f=e=>{d||j.current?.scrollIntoView({behavior:e,block:"end"})},S[13]=d,S[14]=f):f=S[14];let A=f;return S[15]!==N||S[16]!==T||S[17]!==A?(x={isScrolledUp:N,scrollToBottom:A,scrollContainerHeight:T},S[15]=N,S[16]=T,S[17]=A,S[18]=x):x=S[18],y=x,S[19]!==u.className?(v=(0,o.$)(l.container,u.className),S[19]=u.className,S[20]=v):v=S[20],S[21]===Symbol.for("react.memo_cache_sentinel")?(b=(0,r.jsx)("div",{ref:j,style:{height:"1px",marginTop:"-1px"}}),S[21]=b):b=S[21],S[22]!==n||S[23]!==w||S[24]!==u||S[25]!==v?(_=(0,r.jsxs)("div",{ref:w,...u,className:v,children:[n,b]}),S[22]=n,S[23]=w,S[24]=u,S[25]=v,S[26]=_):_=S[26],S[27]!==y||S[28]!==_?(C=(0,r.jsx)(c.Provider,{value:y,children:_}),S[27]=y,S[28]=_,S[29]=C):C=S[29],C}let u=()=>{let e=(0,s.useContext)(c);if(!e)throw Error("useChatScroll may only be called in a descendant of ChatScrollContainer");return e};try{c.displayName||(c.displayName="ChatScrollContext")}catch{}try{d.displayName||(d.displayName="ChatScrollContainer")}catch{}},32702:(e,t,n)=>{n.d(t,{m:()=>u});var r=n(74848),a=n(21728),i=n(84217),o=n(55847),s=n(34164),l=n(96540),c=n(34901);let d={ConfirmationContainer:"Confirmation-module__ConfirmationContainer--UNcKY",confirmationTitle:"Confirmation-module__confirmationTitle--G7KBr",confirmationMessage:"Confirmation-module__confirmationMessage--lI92p",actionButtonsContainer:"Confirmation-module__actionButtonsContainer--YJhM5"};function u(e){let t,n,u,h,p,g,f,y=(0,a.c)(21),{confirmation:x,handleConfirmation:v,isLatestMessage:b}=e,_=(0,c.Pk)();if(y[0]!==x.confirmation||y[1]!==_.allClientConfirmations){let e=JSON.stringify(Object.values(x.confirmation).sort());t=_.allClientConfirmations?.includes(e),y[0]=x.confirmation,y[1]=_.allClientConfirmations,y[2]=t}else t=y[2];let C=t,{isWaitingOnCopilot:S}=_,[w,j]=(0,l.useState)(C&&!b);y[3]!==x.confirmation||y[4]!==x.onSubmit||y[5]!==x.title||y[6]!==v?(n=e=>{j(!0),v({state:e,confirmation:x.confirmation},x.title,x.onSubmit)},y[3]=x.confirmation,y[4]=x.onSubmit,y[5]=x.title,y[6]=v,y[7]=n):n=y[7];let N=n;return y[8]===Symbol.for("react.memo_cache_sentinel")?(u=(0,s.$)("border rounded-2",d.ConfirmationContainer),y[8]=u):u=y[8],y[9]!==x.title?(h=(0,r.jsx)(i.A,{as:"h3",className:d.confirmationTitle,children:x.title}),y[9]=x.title,y[10]=h):h=y[10],y[11]!==x.message?(p=x.message.split(`
`).map(m),y[11]=x.message,y[12]=p):p=y[12],y[13]!==w||y[14]!==N||y[15]!==S?(g=!w&&(0,r.jsxs)("div",{className:d.actionButtonsContainer,children:[(0,r.jsx)(o.Q,{disabled:S,variant:"primary",onClick:()=>N("accepted"),children:"Allow"}),(0,r.jsx)(o.Q,{disabled:S,onClick:()=>N("dismissed"),children:"Dismiss"})]}),y[13]=w,y[14]=N,y[15]=S,y[16]=g):g=y[16],y[17]!==h||y[18]!==p||y[19]!==g?(f=(0,r.jsxs)("div",{className:u,children:[h,p,g]}),y[17]=h,y[18]=p,y[19]=g,y[20]=f):f=y[20],f}function m(e){return(0,r.jsx)("p",{className:d.confirmationMessage,children:e},e)}try{u.displayName||(u.displayName="Confirmation")}catch{}},45064:(e,t,n)=>{n.d(t,{W:()=>h});var r=n(74848),a=n(21728),i=n(50539),o=n(34164),s=n(96540);let l={copilotBadge:"CopilotBadgeV2-module__copilotBadge--OJjfk",loading:"CopilotBadgeV2-module__loading--NG3DO",animation:"CopilotBadgeV2-module__animation--cRY_E",assistive:"CopilotBadgeV2-module__assistive--aZiUP",clickableAnimationWrapper:"CopilotBadgeV2-module__clickableAnimationWrapper--mY4Cy"},c=[i.L.Tickle,i.L.Celebrate,i.L.JumpWiggle],d=["yes","absolutely","certainly","sure","definitely","right","correct","indeed","precisely","exactly","true","affirmative","agree","agreed"],u=["no","never","negative","wrong","false","untrue","cannot","can't","sorry","incorrect","deny","disagree","refuse","unfortunately"];function m(e){let t=new Date(e);return(new Date().getTime()-t.getTime())/1e3/60<.5}function h(e){let t,n,h,g,f,y,x,v,b,_,C=(0,a.c)(37),{isFirstMessage:S,isLoading:w,isLoadingSkills:j,isError:N,className:I,mode:T,message:k,createdAt:A}=e,R=void 0!==S&&S;C[0]!==A||C[1]!==R?(t=()=>({animationType:R&&(!A||m(A))?i.L.Celebrate:i.L.Static,onFinish:i.L.Static,loopAnimation:!1,hasLoadedMessage:!1}),C[0]=A,C[1]=R,C[2]=t):t=C[2];let[M,E]=(0,s.useState)(t);C[3]!==A||C[4]!==N||C[5]!==w||C[6]!==j||C[7]!==k?(n=()=>{m(A)&&E(e=>(function({previousState:e,isLoadingSkills:t,isAffirmativeSentiment:n,isNegativeSentiment:r,isError:a,isLoading:o}){switch(e.animationType){case i.L.Static:if((n||r)&&!a&&!e.hasLoadedMessage)return{animationType:n?i.L.Affirmative:i.L.Negative,onFinish:i.L.Static,loopAnimation:!1,hasLoadedMessage:!0};if(t)return{...e,animationType:i.L.Thinking,loopAnimation:!0};if(!o&&!e.hasLoadedMessage&&!a)return{animationType:i.L.Confirm,onFinish:i.L.Static,loopAnimation:!1,hasLoadedMessage:!0};if(a&&!e.hasLoadedMessage)return{animationType:i.L.Negative,onFinish:i.L.Static,loopAnimation:!1,hasLoadedMessage:!0};return e;case i.L.Thinking:if(!t)return{...e,animationType:a?i.L.Negative:i.L.Static,loopAnimation:!1};return e;default:return e}})({previousState:e,isLoadingSkills:j||!1,isError:N||!1,isLoading:w||!1,isAffirmativeSentiment:function(e){if(e.length<200){let t=e.toLowerCase().split(/\W+/).filter(Boolean);return d.some(e=>t.includes(e.toLowerCase()))}return!1}(k),isNegativeSentiment:function(e){if(e.length<200){let t=e.toLowerCase().split(/\W+/).filter(Boolean);return u.some(e=>t.includes(e.toLowerCase()))}return!1}(k)}))},C[3]=A,C[4]=N,C[5]=w,C[6]=j,C[7]=k,C[8]=n):n=C[8],C[9]!==M.animationType||C[10]!==M.hasLoadedMessage||C[11]!==A||C[12]!==N||C[13]!==R||C[14]!==w||C[15]!==j||C[16]!==k?(h=[j,N,w,M.animationType,M.hasLoadedMessage,R,k,A],C[9]=M.animationType,C[10]=M.hasLoadedMessage,C[11]=A,C[12]=N,C[13]=R,C[14]=w,C[15]=j,C[16]=k,C[17]=h):h=C[17],(0,s.useEffect)(n,h),C[18]!==M||C[19]!==w?(g=()=>{w||E({...M,animationType:c[Math.floor(Math.random()*c.length)],onFinish:i.L.Static,loopAnimation:!1})},C[18]=M,C[19]=w,C[20]=g):g=C[20];let L=g,P=w&&l.loading;C[21]!==I||C[22]!==P?(f=(0,o.$)(l.copilotBadge,P,I),C[21]=I,C[22]=P,C[23]=f):f=C[23];let F=M.animationType;C[24]===Symbol.for("react.memo_cache_sentinel")?(y=()=>E(p),C[24]=y):y=C[24];let $=M.loopAnimation,D="assistive"===T&&l.assistive;return C[25]!==D?(x=(0,o.$)(l.animation,D),C[25]=D,C[26]=x):x=C[26],C[27]!==M.animationType||C[28]!==M.loopAnimation||C[29]!==x?(v=(0,r.jsx)(i.N,{animationType:F,onAnimationEnd:y,loopAnimation:$,className:x}),C[27]=M.animationType,C[28]=M.loopAnimation,C[29]=x,C[30]=v):v=C[30],C[31]!==L||C[32]!==v?(b=(0,r.jsx)("div",{onClick:L,className:l.clickableAnimationWrapper,children:v}),C[31]=L,C[32]=v,C[33]=b):b=C[33],C[34]!==b||C[35]!==f?(_=(0,r.jsx)("div",{className:f,"aria-label":"Copilot badge",role:"img",children:b}),C[34]=b,C[35]=f,C[36]=_):_=C[36],_}function p(e){return{...e,animationType:e.onFinish}}try{h.displayName||(h.displayName="CopilotBadge")}catch{}},69632:(e,t,n)=>{n.d(t,{h:()=>S,K:()=>_});var r=n(74848),a=n(21728),i=n(24991),o=n(38621),s=n(6869),l=n(34614),c=n(34441);function d({error:e,className:t}){let n=e.identifier||"",a=n.split("url=")[1]||"",i=n.match(/\/([^/]+)\/sso/),d=i&&i[1]||"";return d&&a?(0,r.jsx)("div",{className:t,"data-testid":"sso-banner",children:(0,r.jsx)("div",{className:c.A.Box,children:(0,r.jsx)("section",{"aria-label":"Single sign-on information",children:(0,r.jsx)(s.A,{sx:{borderRadius:2,borderWidth:1},className:c.A.Flash,children:(0,r.jsxs)("div",{children:[(0,r.jsx)(o.ShieldLockIcon,{}),(0,r.jsx)(l.A,{inline:!0,href:function({authorizeUrl:e}){let t=new URL(e,window.location.origin);return t.searchParams.set("return_to",window.location.toString()),t.toString()}({authorizeUrl:a}),children:"Single sign-on"})," ","to see results in the ",(0,r.jsx)("b",{children:d})," organization."]})})})})}):null}try{d.displayName||(d.displayName="SSOBannerFromError")}catch{}var u=n(98386),m=n(87330),h=n(55847),p=n(38911),g=n(34164),f=n(96540),y=n(22069),x=n(66889),v=n(79929),b=n(83880);function _(e){let t=(0,a.c)(8),{manager:n}=e,{message:i}=(0,b.V)(),{error:o}=i;if(!o)return null;switch(o.type){case"agentUnauthorized":{let e;return t[0]!==o||t[1]!==n?(e=(0,r.jsx)(C,{error:o,manager:n}),t[0]=o,t[1]=n,t[2]=e):e=t[2],e}case"agentRequest":{let e;return t[3]!==o.details?(e=(0,r.jsx)(S,{errors:[o.details]}),t[3]=o.details,t[4]=e):e=t[4],e}default:{let e,n;t[5]===Symbol.for("react.memo_cache_sentinel")?(e=(0,u.G)("error-message-banner"),t[5]=e):e=t[5];let a=o.message||"Something went wrong";return t[6]!==a?(n=(0,r.jsx)(p.l,{...e,title:"Error",hideTitle:!0,description:a,variant:"warning"}),t[6]=a,t[7]=n):n=t[7],n}}}function C(e){let t,n,i,s,l,c,d,p,x,b,_,C=(0,a.c)(25),{error:S,manager:w}=e,{details:j}=S,[N,I]=(0,f.useState)(!1);C[0]!==j.name||C[1]!==w?(t=()=>{I(!0),w.dispatch({type:"MESSAGE_ADDED",message:(0,y.Y6)({role:"user",content:`Dismissed the connection with ${j.name}.`,mediaContent:[],parentMessageID:w.FindLastMessageID()})}),w.dispatch({type:"MESSAGE_ADDED",message:(0,y.Y6)({role:"assistant",content:`I was unable to connect you to ${j.name} because you cancelled the authentication.`,mediaContent:[],parentMessageID:w.FindLastMessageID()})})},C[0]=j.name,C[1]=w,C[2]=t):t=C[2];let T=t;C[3]===Symbol.for("react.memo_cache_sentinel")?(n=(0,u.G)("agent-unauthorized-error"),C[3]=n):n=C[3],C[4]!==N||C[5]!==T?(i=!N&&(0,r.jsx)(m.K,{"aria-label":"Close",className:"position-absolute top-0 right-0 mt-2 mr-2",icon:o.XIcon,onClick:T,variant:"invisible",unsafeDisableTooltip:!0}),C[4]=N,C[5]=T,C[6]=i):i=C[6],C[7]===Symbol.for("react.memo_cache_sentinel")?(s=(0,r.jsx)(o.MarkGithubIcon,{size:48,className:"border circle borderColor-muted"}),l=(0,r.jsx)(o.LinkIcon,{className:"fgColor-muted"}),c=(0,g.$)("avatar",v.A.agentUnauthorizedAvatar,"border circle borderColor-muted"),C[7]=s,C[8]=l,C[9]=c):(s=C[7],l=C[8],c=C[9]);let k=`icon for ${j.name}`;return C[10]!==j.avatar_url||C[11]!==k?(d=(0,r.jsxs)("div",{className:"d-flex flex-items-center gap-2",children:[s,l,(0,r.jsx)("img",{className:c,src:j.avatar_url,alt:k})]}),C[10]=j.avatar_url,C[11]=k,C[12]=d):d=C[12],C[13]!==j.name?(x=(0,r.jsxs)("p",{className:"h4 m-0 text-center",children:["Connect with ",j.name]}),p=(0,r.jsxs)("p",{className:"fgColor-muted text-center",children:["To use the ",j.name," extension, you\u2019ll need to connect your GitHub account to your ",j.name," account."]}),C[13]=j.name,C[14]=p,C[15]=x):(p=C[14],x=C[15]),C[16]!==j.authorize_url||C[17]!==N?(b=!N&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(h.Q,{as:"a",variant:"primary",size:"large",className:"width-full",href:j.authorize_url,rel:"noopener",target:"_blank",children:"Connect"}),(0,r.jsxs)("p",{className:"fgColor-muted text-center f6 m-0",children:["Click connect to be redirected to ",j.authorize_url]})]}),C[16]=j.authorize_url,C[17]=N,C[18]=b):b=C[18],C[19]!==p||C[20]!==b||C[21]!==i||C[22]!==d||C[23]!==x?(_=(0,r.jsxs)("div",{className:"position-relative d-flex flex-column flex-items-center gap-3 border rounded-2 p-5",...n,children:[i,d,x,p,b]}),C[19]=p,C[20]=b,C[21]=i,C[22]=d,C[23]=x,C[24]=_):_=C[24],_}function S(e){let t,n,i=(0,a.c)(4),{errors:o}=e;return i[0]!==o?(t=o.map(w),i[0]=o,i[1]=t):t=i[1],i[2]!==t?(n=(0,r.jsx)("div",{className:"d-flex flex-column gap-2",children:t}),i[2]=t,i[3]=n):n=i[3],n}function w(e,t){var n,a,s,l,c;return n=e,a=t,"sso"===n.code?(0,r.jsx)(d,{error:n,className:"mt-3"},a):(s=n,l=a,(0,r.jsxs)("div",{className:"p-3 border rounded-2",children:[(0,r.jsxs)("div",{className:"text-bold",children:[(0,r.jsx)(o.AlertFillIcon,{className:"mr-1 fgColor-attention"})," ","http"===(c=s).type?`${c.code} ${c.identifier}`:`${(0,x.Z)(c.type)} error`]}),(0,r.jsx)(i.To,{markdown:s.message})]},l))}try{_.displayName||(_.displayName="ErrorMessage")}catch{}try{C.displayName||(C.displayName="AgentUnauthorizedError")}catch{}try{S.displayName||(S.displayName="AgentErrors")}catch{}},78929:(e,t,n)=>{n.d(t,{G:()=>v});var r=n(74848),a=n(21728),i=n(38621),o=n(87330),s=n(96540),l=n(34901),c=n(47397),d=n(83880);let u={submittedFeedbackButton:"Feedback-module__submittedFeedbackButton--P_4a2"};var m=n(13455),h=n(31971),p=n(74244),g=n(69458);let f={thumbsUp:"MessageFeedbackDialog-module__thumbsUp--L1svG",thumbsDown:"MessageFeedbackDialog-module__thumbsDown--xdoe9"},y=[{name:"Bad",value:"NEGATIVE",icon:(0,r.jsx)(i.ThumbsdownIcon,{className:f.thumbsDown}),color:"bad"},{name:"Good",value:"POSITIVE",icon:(0,r.jsx)(i.ThumbsupIcon,{className:f.thumbsUp}),color:"good"}],x=(0,s.forwardRef)(function({messageId:e,threadId:t,returnFocusRef:n,onSubmitted:a,onClose:i},o){let l=(0,c.b)(),d=(0,s.useRef)(null),u=(0,s.useRef)(null),f=(0,s.useRef)(void 0);(0,s.useImperativeHandle)(o,()=>({openDialog:e=>{f.current=e,h.W.copilotChatInterviewSurvey?d.current?.openDialog():u.current?.openDialog(e)}}));let x=async(n,r)=>{let i=[];if(null==n&&i.push("Please select a rating."),r.length>500&&i.push("Please keep your feedback within 500 characters or less."),i.length>0)return i;try{(await l.service.sendFeedback({feedback:n,feedbackChoice:[],messageId:e,threadId:t,textResponse:r})).ok?a?.(n):i.push("An error occurred while submitting your feedback.")}catch{i.push("An error occurred while submitting your feedback.")}return i};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(g.E,{ref:d,title:"Give additional feedback",onClose:e=>{"no-thanks"===e?u.current?.openDialog(f.current):i?.()}}),(0,r.jsx)(m.NE,{title:"Give additional feedback",ref:u,options:y,onSubmit:x,onClose:i,requestID:p.J.getRequestID(e),returnFocusRef:n})]})});function v(e){let t,n,m,h,p,g=(0,a.c)(20),{iconSize:f}=e,{message:y}=(0,d.V)(),v=y.id,b=y.threadID,_=(0,c.b)(),C=(0,s.useRef)(null),S=(0,s.useRef)(null);g[0]!==_||g[1]!==y?(t=e=>{_.handleFeedback(y,e)},g[0]=_,g[1]=y,g[2]=t):t=g[2];let w=t,{optedInToUserFeedback:j}=(0,l.Pk)();g[3]!==_.service||g[4]!==v||g[5]!==w||g[6]!==j||g[7]!==b?(n=e=>{_.service.sendFeedback({feedback:e,messageId:v,threadId:b}),w(e),j?C.current?.openDialog(e):S.current?.focus()},g[3]=_.service,g[4]=v,g[5]=w,g[6]=j,g[7]=b,g[8]=n):n=g[8];let N=n;return g[9]!==f||g[10]!==y.feedback||g[11]!==N?(m=null!=y.feedback?(0,r.jsx)(o.K,{ref:S,"aria-label":`${y.feedback.toLocaleLowerCase()} feedback submitted`,icon:"POSITIVE"===y.feedback?i.ThumbsupIcon:i.ThumbsdownIcon,variant:"invisible",size:f,"aria-disabled":!0,className:u.submittedFeedbackButton}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.K,{icon:i.ThumbsupIcon,"aria-label":"Good response",onClick:()=>N("POSITIVE"),variant:"invisible",size:f}),(0,r.jsx)(o.K,{icon:i.ThumbsdownIcon,size:f,"aria-label":"Bad response",onClick:()=>N("NEGATIVE"),variant:"invisible"})]}),g[9]=f,g[10]=y.feedback,g[11]=N,g[12]=m):m=g[12],g[13]!==v||g[14]!==w||g[15]!==b?(h=(0,r.jsx)(x,{ref:C,messageId:v,threadId:b,onSubmitted:w,returnFocusRef:S}),g[13]=v,g[14]=w,g[15]=b,g[16]=h):h=g[16],g[17]!==m||g[18]!==h?(p=(0,r.jsxs)(r.Fragment,{children:[m,h]}),g[17]=m,g[18]=h,g[19]=p):p=g[19],p}x.displayName="MessageFeedbackDialog";try{v.displayName||(v.displayName="Feedback")}catch{}},95409:(e,t,n)=>{n.d(t,{WA:()=>ev});var r,a,i,o,s,l,c,d,u,m,h,p,g,f=n(74848),y=n(21728),x=n(59706),v=n(38621),b=n(58569),_=n(84217);n(99377),n(31971);var C=n(74244),S=n(34614),w=n(63867),j=n(55847),N=n(15385),I=n(53110),T=n(34164),k=n(96540),A=n(22069),R=n(34901);let M={functionCallButton:"FunctionCallButton-module__functionCallButton--CUec3"},E={functionReferenceListContainer:"FunctionLoadingUtils-module__functionReferenceListContainer--nLEFp",functionLoading:"FunctionLoadingUtils-module__functionLoading--ksfrz",spinner:"FunctionLoadingUtils-module__spinner--dWC1I",functionReferenceButton:"FunctionLoadingUtils-module__functionReferenceButton--RThXV",functionReferenceButtonContents:"FunctionLoadingUtils-module__functionReferenceButtonContents--p5oMB",functionReferenceTitle:"FunctionLoadingUtils-module__functionReferenceTitle--P1oyO",functionReferenceListFooter:"FunctionLoadingUtils-module__functionReferenceListFooter--xNrSv",errorContainer:"FunctionLoadingUtils-module__errorContainer--yYXl3",errorHeading:"FunctionLoadingUtils-module__errorHeading--MtwEC",errorMessage:"FunctionLoadingUtils-module__errorMessage--jAROF",toolDescriptionText:"FunctionLoadingUtils-module__toolDescriptionText--sPt4r",toolNameHighlight:"FunctionLoadingUtils-module__toolNameHighlight--I82Zw",functionTitleContainer:"FunctionLoadingUtils-module__functionTitleContainer--cmj7m"};function L(e){return(e.references?.[0]?.results??[]).map(P)}function P(e){return{title:e.title,url:e.url,description:e.excerpt,leadingIcon:v.GlobeIcon}}function F(e){let t=e.references?.[0];return(t?.results??[]).map(e=>({title:e.title,url:e.url,leadingIcon:"bing_search"===e.reference_type?x._:v.GlobeIcon}))}function $(e){return(e.references??[]).map(D)}function D(e){return"file-v2"===e.type?{description:`${e.repoName}/${e.path}`,leadingIcon:v.FileIcon,reference:e,title:(0,A.Xo)(e),url:e.url}:void 0}let B=(e,t)=>t?`${e} on ref ${t}`:e;function O(e){return(e.references??[]).map(U)}function U(e){return"alert.api"===e.type?{description:"Alert",leadingIcon:z,title:"Alert"}:void 0}function z(){return(0,f.jsx)(v.ShieldIcon,{})}function q(e){return(e.references??[]).map(V)}function V(e){return"discussion"===e.type?{title:e.title??"Discussion",description:`Using discussion #${e.number} for ${e.repository.owner}/${e.repository.name}`,url:e.url,leadingIcon:v.CommentDiscussionIcon}:void 0}function H(e){let t,n,r=(0,y.c)(3),{children:a}=e;return r[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,f.jsx)("span",{className:E.spinner,children:(0,f.jsx)(w.A,{size:"small"})}),r[0]=t):t=r[0],r[1]!==a?(n=(0,f.jsxs)("div",{className:E.functionLoading,children:[t,(0,f.jsx)("span",{children:a})]}),r[1]=a,r[2]=n):n=r[2],n}function W(e){return(e.references??[]).filter(K).map(G)}function G(e){return{description:`${e.id} \xb7 ${e.repoOwner}/${e.repoName}`,leadingIcon:v.PlayIcon,title:"Job"}}function K(e){return"job"===e.type}function Z(e){return e.jobId?`job ${e.jobId}`:e.runId?`workflow run ${e.runId}`:e.pullRequestNumber?`pull request ${e.pullRequestNumber}`:e.workflowPath?`workflow ${e.workflowPath}`:"unknown job"}function Q(e){let t,n,r=(0,y.c)(27),{additionalFooterContent:a,chatManager:i,errorButtonText:o,errorTitle:s,functionCall:l,inProgressMessage:c,noResultsMessage:d,resultsMapper:u,successButtonText:m,toolLink:h,toolName:p,useSelectReference:g}=e,[x,_]=(0,k.useState)(!1),C=(0,k.useId)();if(r[0]!==a||r[1]!==i||r[2]!==C||r[3]!==o||r[4]!==s||r[5]!==x||r[6]!==l||r[7]!==c||r[8]!==d||r[9]!==u||r[10]!==m||r[11]!==h||r[12]!==p||r[13]!==g){n=Symbol.for("react.early_return_sentinel");e:{let e,y,S,w,k=u(l),{status:A,errorMessage:R}=l;if(l.references?.length===1){let e=l.references[0];if(e)switch(e.type){case"text":A="error",R=e.text;break;case"unsupported":A="unsupported",R=e.text}}if("started"===A){let e;r[16]!==c?(e=(0,f.jsx)(H,{children:c}),r[16]=c,r[17]=e):e=r[17],n=e;break e}r[18]===Symbol.for("react.memo_cache_sentinel")?(e=(0,T.$)(E.functionReferenceButton,M.functionCallButton),r[18]=e):e=r[18];let L=x?v.ChevronUpIcon:v.ChevronDownIcon;r[19]===Symbol.for("react.memo_cache_sentinel")?(y=()=>_(J),r[19]=y):y=r[19];let P="error"===A?o:"unsupported"===A?d:m;r[20]!==P?(S=(0,f.jsx)("span",{className:E.functionReferenceButtonContents,children:P}),r[20]=P,r[21]=S):S=r[21],r[22]!==C||r[23]!==x||r[24]!==L||r[25]!==S?(w=(0,f.jsx)(j.Q,{"aria-expanded":x,"aria-controls":C,className:e,leadingVisual:L,onClick:y,variant:"invisible",children:S}),r[22]=C,r[23]=x,r[24]=L,r[25]=S,r[26]=w):w=r[26],t=(0,f.jsxs)(f.Fragment,{children:[w,x&&(0,f.jsxs)("div",{id:C,className:E.functionReferenceListContainer,children:[(0,f.jsx)(N.l,{children:"error"===A?(0,f.jsxs)(N.l.Item,{children:[s,(0,f.jsx)(N.l.Description,{variant:"block",children:R})]}):"unsupported"===A?(0,f.jsxs)(N.l.Item,{children:[R,(0,f.jsx)(N.l.Description,{truncate:!0,children:""})]}):0===k.length?(0,f.jsxs)(N.l.Item,{children:[d,(0,f.jsx)(N.l.Description,{truncate:!0,children:"Try modifying your query by reframing your question."})]}):k.map((e,t)=>e&&(0,f.jsxs)(N.l.LinkItem,{className:"width-fit",href:e.url,onClick:t=>{g&&e.reference&&(i.selectReference(e.reference),t.preventDefault())},target:"_blank",rel:"noopener",children:[e.leadingIcon&&(0,f.jsx)(N.l.LeadingVisual,{children:(0,f.jsx)(I.A,{icon:e.leadingIcon,sx:{...e.leadingIconColor&&{color:e.leadingIconColor}}})}),(0,f.jsx)(b.A,{className:E.functionReferenceTitle,title:e.title,children:e.title}),(0,f.jsx)(N.l.Description,{variant:"block",children:e.description})]},t))}),(0,f.jsxs)("span",{className:E.functionReferenceListFooter,children:["Copilot used the"," ",(0,f.jsx)("a",{href:h,target:"_blank",rel:"noopener noreferrer",children:p})," ","tool",a&&(0,f.jsxs)(f.Fragment,{children:[". ",a]})]})]})]})}r[0]=a,r[1]=i,r[2]=C,r[3]=o,r[4]=s,r[5]=x,r[6]=l,r[7]=c,r[8]=d,r[9]=u,r[10]=m,r[11]=h,r[12]=p,r[13]=g,r[14]=t,r[15]=n}else t=r[14],n=r[15];return n!==Symbol.for("react.early_return_sentinel")?n:t}function J(e){return!e}function Y(e){return"text"!==e.type}function X(e){return e.charAt(0).toUpperCase()+e.slice(1)}function ee(e){let t=e.references?.[0];return[{title:t?.title||"",url:t?.url||"",description:""}]}let et="https://docs.github.com/en/support/contacting-github-support/using-copilot-in-github-support";function en(e){return(e.references?.[0]?.results??[]).map(er)}function er(e){return{title:e.title,url:e.url,description:e.url}}function ea(e){return(e.references??[]).map(e=>"file"===e.type||"snippet"===e.type?{description:(0,A.Z8)(e),leadingIcon:v.CodeIcon,reference:e,title:(0,A.z$)(e),url:e.url}:void 0)}try{(r=function(e){let t,n,r=(0,y.c)(8),{chatManager:a,functionCall:i,skillArgs:o}=e,s=o.query;r[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,f.jsx)(S.A,{href:"https://privacy.microsoft.com/privacystatement",rel:"nofollow",target:"_blank",children:"Microsoft Privacy Statement"}),r[0]=t):t=r[0];let l=`An error occurred when searching for \u{201C}${s}\u{201D}`,c=`Searching the web for \u{201C}${s}\u{201D}`,d=`No web search results for \u{201C}${s}\u{201D} were found`,u=`Using web search results for \u{201C}${s}\u{201D}`;return r[1]!==a||r[2]!==i||r[3]!==l||r[4]!==c||r[5]!==d||r[6]!==u?(n=(0,f.jsx)(Q,{additionalFooterContent:t,chatManager:a,errorButtonText:l,errorTitle:"An error occurred when searching the web",toolLink:"https://bing.com",toolName:"Bing search",functionCall:i,inProgressMessage:c,noResultsMessage:d,resultsMapper:L,successButtonText:u,useSelectReference:!1}),r[1]=a,r[2]=i,r[3]=l,r[4]=c,r[5]=d,r[6]=u,r[7]=n):n=r[7],n}).displayName||(r.displayName="BingFunctionButton")}catch{}try{(a=function(e){let t,n,r=(0,y.c)(8),{chatManager:a,functionCall:i,skillArgs:o}=e,s=o.query;r[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,f.jsx)(S.A,{href:"https://privacy.microsoft.com/privacystatement",rel:"nofollow",target:"_blank",children:"Microsoft Privacy Statement"}),r[0]=t):t=r[0];let l=`An error occurred when searching for \u{201C}${s}\u{201D}`,c=`Searching the web for \u{201C}${s}\u{201D}`,d=`No web search results for \u{201C}${s}\u{201D} were found`,u=`Using web search results for \u{201C}${s}\u{201D}`;return r[1]!==a||r[2]!==i||r[3]!==l||r[4]!==c||r[5]!==d||r[6]!==u?(n=(0,f.jsx)(Q,{additionalFooterContent:t,chatManager:a,errorButtonText:l,errorTitle:"An error occurred when searching the web",toolLink:"https://gh.io/azure-ai-agent-with-bing-grounding",toolName:"Bing Search",functionCall:i,inProgressMessage:c,noResultsMessage:d,resultsMapper:F,successButtonText:u,useSelectReference:!1}),r[1]=a,r[2]=i,r[3]=l,r[4]=c,r[5]=d,r[6]=u,r[7]=n):n=r[7],n}).displayName||(a.displayName="BingGroundingFunctionButton")}catch{}try{(i=function(e){var t;let n,r=(0,y.c)(9),{chatManager:a,functionCall:i,skillArgs:o,useSelectReference:s}=e,l=o.query,c="scopingQuery"in o?o.scopingQuery:o.repoOwner&&o.repoName?`repo:${o.repoOwner}/${o.repoName}`:void 0;c&&(c=(t=c).startsWith("repo:")?t.substring(5):t);let d="semantic-code-search"===o.kind?"semantic":"lexical",u=`An error occurred when searching for \u{201C}${l}\u{201D}`,m=`${d.charAt(0).toUpperCase()+d.slice(1)} search`,h=`Searching for \u{201C}${l}\u{201D}${c&&` in ${c}`}`,p=`No results were found when ${d} searching for \u{201C}${l}\u{201D}${c&&` in ${c}`}`,g=`Using ${d} search results for \u{201C}${l}\u{201D}${c&&` in ${c}`}`;return r[0]!==a||r[1]!==i||r[2]!==u||r[3]!==m||r[4]!==h||r[5]!==p||r[6]!==g||r[7]!==s?(n=(0,f.jsx)(Q,{chatManager:a,errorButtonText:u,errorTitle:"An error occurred when searching code",toolLink:"https://docs.github.com/en/enterprise-cloud@latest/copilot/github-copilot-enterprise/copilot-chat-in-github/using-github-copilot-chat-in-githubcom#currently-available-skills",toolName:m,functionCall:i,inProgressMessage:h,noResultsMessage:p,resultsMapper:ea,successButtonText:g,useSelectReference:s}),r[0]=a,r[1]=i,r[2]=u,r[3]=m,r[4]=h,r[5]=p,r[6]=g,r[7]=s,r[8]=n):n=r[8],n}).displayName||(i.displayName="CodeSearchButton")}catch{}try{(o=function(e){let t,n=(0,y.c)(8),{chatManager:r,functionCall:a,skillArgs:i,useSelectReference:o}=e,s=i.query,l=i.kbID,{knowledgeBases:c}=(0,R.Pk)(),d=c.find(e=>e.id===l),u=d?.name??"the knowledge base",m=`An error occurred when searching for \u{201C}${s}\u{201D} in ${u}`,h=`Searching the ${u} knowledge base for \u{201C}${s}\u{201D}`,p=`No results were found when searching the ${u} knowledge base for \u{201C}${s}\u{201D}`,g=`Using search results from the ${u} knowledge base for \u{201C}${s}\u{201D}`;return n[0]!==r||n[1]!==a||n[2]!==m||n[3]!==h||n[4]!==p||n[5]!==g||n[6]!==o?(t=(0,f.jsx)(Q,{chatManager:r,errorButtonText:m,errorTitle:"An error occurred when searching the knowledge base",toolLink:"https://docs.github.com/en/enterprise-cloud@latest/copilot/github-copilot-enterprise/copilot-chat-in-github/using-github-copilot-chat-in-githubcom#currently-available-skills",toolName:"Knowledge base search",functionCall:a,inProgressMessage:h,noResultsMessage:p,resultsMapper:ea,successButtonText:g,useSelectReference:o}),n[0]=r,n[1]=a,n[2]=m,n[3]=h,n[4]=p,n[5]=g,n[6]=o,n[7]=t):t=n[7],t}).displayName||(o.displayName="KnowledgeBaseSearchButton")}catch{}try{(s=function(e){let t,n,r,a,i,o=(0,y.c)(20),{chatManager:s,functionCall:l,skillArgs:c,useSelectReference:d}=e,{path:u,repo:m,ref:h}=c,p=`An error occurred when finding \u{201C}${u}\u{201D} in ${m}`;o[0]!==h||o[1]!==p?(t=B(p,h),o[0]=h,o[1]=p,o[2]=t):t=o[2];let g=`File results for \u{201C}${u}\u{201D} in ${m}`;o[3]!==h||o[4]!==g?(n=B(g,h),o[3]=h,o[4]=g,o[5]=n):n=o[5];let x=`No files matching \u{201C}${u}\u{201D} in ${m} were found`;o[6]!==h||o[7]!==x?(r=B(x,h),o[6]=h,o[7]=x,o[8]=r):r=o[8];let v=`Using results for \u{201C}${u}\u{201D} in ${m}`;return o[9]!==h||o[10]!==v?(a=B(v,h),o[9]=h,o[10]=v,o[11]=a):a=o[11],o[12]!==s||o[13]!==l||o[14]!==t||o[15]!==n||o[16]!==r||o[17]!==a||o[18]!==d?(i=(0,f.jsx)(Q,{chatManager:s,errorButtonText:t,errorTitle:"An error occurred when finding a file",toolLink:"https://docs.github.com/en/enterprise-cloud@latest/copilot/github-copilot-enterprise/copilot-chat-in-github/using-github-copilot-chat-in-githubcom#currently-available-skills",toolName:"Get file",functionCall:l,inProgressMessage:n,noResultsMessage:r,resultsMapper:$,successButtonText:a,useSelectReference:d}),o[12]=s,o[13]=l,o[14]=t,o[15]=n,o[16]=r,o[17]=a,o[18]=d,o[19]=i):i=o[19],i}).displayName||(s.displayName="GetFileButton")}catch{}try{(l=function(e){let t,n,r,a,i,o,s=(0,y.c)(23),{chatManager:l,functionCall:c,skillArgs:d,useSelectReference:u}=e,{path:m,repo:h,ref:p}=d,g=`An error occurred when finding file changes for \u{201C}${m}\u{201D} in ${h}`;s[0]!==p||s[1]!==g?(t=B(g,p),s[0]=p,s[1]=g,s[2]=t):t=s[2];let x=`File changes results for \u{201C}${m} in ${h}`;s[3]!==p||s[4]!==x?(n=B(x,p),s[3]=p,s[4]=x,s[5]=n):n=s[5];let b=`No files changes were found for \u{201C}${m}\u{201D} in ${h}`;s[6]!==p||s[7]!==b?(r=B(b,p),s[6]=p,s[7]=b,s[8]=r):r=s[8],s[9]!==m?(a=e=>(e.references??[]).map(e=>"file-changes"===e.type?{description:`${e.repository.name}/${m}`,leadingIcon:v.FileIcon,reference:e,title:(0,A.Xo)(e),url:e.url}:void 0),s[9]=m,s[10]=a):a=s[10];let _=`Using results for \u{201C}${m}\u{201D} in ${h}`;return s[11]!==p||s[12]!==_?(i=B(_,p),s[11]=p,s[12]=_,s[13]=i):i=s[13],s[14]!==l||s[15]!==c||s[16]!==t||s[17]!==n||s[18]!==r||s[19]!==a||s[20]!==i||s[21]!==u?(o=(0,f.jsx)(Q,{chatManager:l,errorButtonText:t,errorTitle:"An error occurred when finding the file changes",toolLink:"https://docs.github.com/en/enterprise-cloud@latest/copilot/github-copilot-enterprise/copilot-chat-in-github/using-github-copilot-chat-in-githubcom#currently-available-skills",toolName:"Get file changes",functionCall:c,inProgressMessage:n,noResultsMessage:r,resultsMapper:a,successButtonText:i,useSelectReference:u}),s[14]=l,s[15]=c,s[16]=t,s[17]=n,s[18]=r,s[19]=a,s[20]=i,s[21]=u,s[22]=o):o=s[22],o}).displayName||(l.displayName="GetFileChangesButton")}catch{}try{(c=function(e){let t,n=(0,y.c)(5),{chatManager:r,functionCall:a,skillArgs:i,useSelectReference:o}=e,s=`An error occurred when fetching alert information for ${i.url}`;return n[0]!==r||n[1]!==a||n[2]!==s||n[3]!==o?(t=(0,f.jsx)(Q,{chatManager:r,errorButtonText:s,errorTitle:"An error occurred when fetching alert information",toolLink:"https://docs.github.com/en/enterprise-cloud@latest/copilot/github-copilot-enterprise/copilot-chat-in-github/using-github-copilot-chat-in-githubcom#currently-available-skills",toolName:"Get alert information",functionCall:a,inProgressMessage:"Fetching alert information",noResultsMessage:"Unable to fetch alert information",resultsMapper:O,successButtonText:"Using alert information",useSelectReference:o}),n[0]=r,n[1]=a,n[2]=s,n[3]=o,n[4]=t):t=n[4],t}).displayName||(c.displayName="GetAlertButton")}catch{}try{(d=function(e){let t,n=(0,y.c)(7),{chatManager:r,functionCall:a,skillArgs:i,useSelectReference:o}=e,s=`Fetching discussion ${i.discussionNumber}`,l=`Unable to fetch discussion ${i.discussionNumber}`,c=`Using discussion #${i.discussionNumber}`;return n[0]!==r||n[1]!==a||n[2]!==s||n[3]!==l||n[4]!==c||n[5]!==o?(t=(0,f.jsx)(Q,{chatManager:r,errorButtonText:"An error occurred when fetching discussion",errorTitle:"An error occurred when fetching discussion",toolLink:"https://docs.github.com/en/enterprise-cloud@latest/copilot/github-copilot-enterprise/copilot-chat-in-github/using-github-copilot-chat-in-githubcom#currently-available-skills",toolName:"Get discussion",functionCall:a,inProgressMessage:s,noResultsMessage:l,resultsMapper:q,successButtonText:c,useSelectReference:o}),n[0]=r,n[1]=a,n[2]=s,n[3]=l,n[4]=c,n[5]=o,n[6]=t):t=n[6],t}).displayName||(d.displayName="GetDiscussionButton")}catch{}try{H.displayName||(H.displayName="FunctionLoading")}catch{}try{(u=function(e){let t=(0,y.c)(1),{functionCall:n}=e,{status:r}=n;if("started"===r){let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,f.jsx)(H,{children:"Coming up with a plan"}),t[0]=e):e=t[0],e}}).displayName||(u.displayName="PlanButton")}catch{}try{(m=function(e){let t,n=(0,y.c)(8),{chatManager:r,functionCall:a,skillArgs:i,useSelectReference:o}=e,s=Z(i),l=`An error occurred when fetching logs for ${s} in ${i.repo}`,c=`Fetching logs for ${s} in ${i.repo}`,d=`Unable to fetch logs for ${s} in ${i.repo}`,u=`Using logs for ${s} in ${i.repo}`;return n[0]!==r||n[1]!==a||n[2]!==l||n[3]!==c||n[4]!==d||n[5]!==u||n[6]!==o?(t=(0,f.jsx)(Q,{chatManager:r,errorButtonText:l,errorTitle:"An error occurred when fetching a commit",toolLink:"https://docs.github.com/en/enterprise-cloud@latest/copilot/github-copilot-enterprise/copilot-chat-in-github/using-github-copilot-chat-in-githubcom#currently-available-skills",toolName:"Get job logs",functionCall:a,inProgressMessage:c,noResultsMessage:d,resultsMapper:W,successButtonText:u,useSelectReference:o}),n[0]=r,n[1]=a,n[2]=l,n[3]=c,n[4]=d,n[5]=u,n[6]=o,n[7]=t):t=n[7],t}).displayName||(m.displayName="GetJobLogsButton")}catch{}try{Q.displayName||(Q.displayName="ExpandableFunctionButton")}catch{}try{(h=function(e){let t,n,r,a=(0,y.c)(15),{chatManager:i,functionCall:o,skillArgs:s,useSelectReference:l}=e,c="GitHub API",d=o.references?.[0];if(d){let e=d.type;if(e.endsWith(".api")){let t=e.split(".")[0];t&&(c=`${t.split("-").map(X).join(" ")} API`)}else"api-response"===d.type&&(c=`${d.resourceType} API`)}a[0]!==s.endpoint||a[1]!==s.endpointDescription?(t=s.endpointDescription?{errorButtonText:`An error occurred when using the GitHub API to ${s.endpointDescription}`,inProgressMessage:`Using the GitHub API to ${s.endpointDescription}`,noResultsMessage:`Unable to use the GitHub API to ${s.endpointDescription}`,successButtonText:`Using the GitHub API to ${s.endpointDescription}`}:{errorButtonText:`An error occurred when fetching from ${s.endpoint}`,inProgressMessage:`Fetching endpoint ${s.endpoint}`,noResultsMessage:`Unable to fetch from ${s.endpoint}`,successButtonText:`Using endpoint ${s.endpoint}`},a[0]=s.endpoint,a[1]=s.endpointDescription,a[2]=t):t=a[2];let u=t;return a[3]!==s?(n=e=>e.references?.filter(Y).map(e=>(function(e,t){switch(e.type){case"release.api":return{description:`Release ${e.tag_name} \xb7 ${t.repo}`,leadingIcon:v.TagIcon,title:e.name??"Release",url:e.html_url};case"issue.api":return{description:`#${e.number} \xb7 ${t.repo}`,leadingIcon:v.IssueOpenedIcon,title:e.title??"Issue",url:e.html_url};case"pull-request.api":return{description:`#${e.number} \xb7 ${t.repo}`,leadingIcon:v.GitPullRequestIcon,title:e.title??"Pull request",url:e.html_url};case"repository.api":return{description:e.description||"",title:e.name,leadingIcon:v.RepoIcon,url:e.html_url};case"commit.api":return{description:`${e.sha} \xb7 ${t.repo}`,leadingIcon:v.GitCommitIcon,title:e.commit.message??"Commit",url:e.html_url};case"topic.api":return{description:e.short_description||"",leadingIcon:v.HashIcon,title:e.display_name??e.name};case"api-response":switch(e.resourceType){case"Repository":return{description:e.data.description||"",title:e.data.name,leadingIcon:v.RepoIcon,url:e.data.html_url};case"Issue":return{description:`#${e.data.number} \xb7 ${t.repo}`,leadingIcon:v.IssueOpenedIcon,title:e.data.title??"Issue",url:e.data.html_url};case"Release":return{description:`Release ${e.data.tag_name} \xb7 ${t.repo}`,leadingIcon:v.TagIcon,title:e.data.name??"Release",url:e.data.html_url};case"PullRequest":return{description:`#${e.data.number} \xb7 ${t.repo}`,leadingIcon:v.GitPullRequestIcon,title:e.data.title??"Pull request",url:e.data.html_url};case"Commit":return{description:`${e.data.sha} \xb7 ${t.repo}`,leadingIcon:v.GitCommitIcon,title:e.data.commit.message??"Commit",url:e.data.html_url};case"Topic":return{description:e.data.short_description||"",leadingIcon:v.HashIcon,title:e.data.display_name??e.data.name};default:return{description:"API endpoint returned results successfully",leadingIcon:v.InfoIcon,title:"API results"}}default:return{description:"API endpoint returned results successfully",leadingIcon:v.InfoIcon,title:"API results"}}})(e,s))??[],a[3]=s,a[4]=n):n=a[4],a[5]!==i||a[6]!==o||a[7]!==u.errorButtonText||a[8]!==u.inProgressMessage||a[9]!==u.noResultsMessage||a[10]!==u.successButtonText||a[11]!==n||a[12]!==c||a[13]!==l?(r=(0,f.jsx)(Q,{chatManager:i,errorTitle:"An error occurred when fetching data from the GitHub API",toolLink:"https://docs.github.com/en/enterprise-cloud@latest/copilot/github-copilot-enterprise/copilot-chat-in-github/using-github-copilot-chat-in-githubcom#currently-available-skills",toolName:c,functionCall:o,errorButtonText:u.errorButtonText,inProgressMessage:u.inProgressMessage,noResultsMessage:u.noResultsMessage,successButtonText:u.successButtonText,useSelectReference:l,resultsMapper:n}),a[5]=i,a[6]=o,a[7]=u.errorButtonText,a[8]=u.inProgressMessage,a[9]=u.noResultsMessage,a[10]=u.successButtonText,a[11]=n,a[12]=c,a[13]=l,a[14]=r):r=a[14],r}).displayName||(h.displayName="GetGitHubDataButton")}catch{}try{(p=function(e){let t,n=(0,y.c)(7),{chatManager:r,functionCall:a,skillArgs:i}=e,o=`An error occurred when retrieving \u{201C}${i.name}\u{201D}`,s=`Getting Figma file \u{201C}${i.name}\u{201D}`,l=`Unable to retrieve \u{201C}${i.name}\u{201D}`,c=`Using result from \u{201C}${i.name}\u{201D}`;return n[0]!==r||n[1]!==a||n[2]!==o||n[3]!==s||n[4]!==l||n[5]!==c?(t=(0,f.jsx)(Q,{chatManager:r,errorButtonText:o,errorTitle:"An error occurred retrieving Figma file",toolLink:"https://figma.com",toolName:"Get Figma",functionCall:a,inProgressMessage:s,noResultsMessage:l,resultsMapper:ee,successButtonText:c,useSelectReference:!1}),n[0]=r,n[1]=a,n[2]=o,n[3]=s,n[4]=l,n[5]=c,n[6]=t):t=n[6],t}).displayName||(p.displayName="FigmaButton")}catch{}try{(g=function(e){let t,n,r=(0,y.c)(8),{chatManager:a,functionCall:i,skillArgs:o}=e,s=o.rawUserQuery;r[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,f.jsx)(S.A,{href:et,rel:"nofollow",target:"_blank",children:"Information on using Copilot in GitHub Support"}),r[0]=t):t=r[0];let l=`An error occurred when searching for \u{201C}${s}\u{201D}`,c=`Searching support documents for \u{201C}${s}\u{201D}`,d=`No support documents for \u{201C}${s}\u{201D} were found`,u=`Using support search results for \u{201C}${s}\u{201D}`;return r[1]!==a||r[2]!==i||r[3]!==l||r[4]!==c||r[5]!==d||r[6]!==u?(n=(0,f.jsx)(Q,{additionalFooterContent:t,chatManager:a,errorButtonText:l,errorTitle:"An error occurred when searching support documents",toolLink:et,toolName:"Support Search",functionCall:i,inProgressMessage:c,noResultsMessage:d,resultsMapper:en,successButtonText:u,useSelectReference:!1}),r[1]=a,r[2]=i,r[3]=l,r[4]=c,r[5]=d,r[6]=u,r[7]=n):n=r[7],n}).displayName||(g.displayName="SupportSearchButton")}catch{}let ei=()=>{let e,t=(0,y.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,f.jsx)(v.SearchIcon,{}),t[0]=e):e=t[0],e},eo=()=>{let e,t=(0,y.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,f.jsx)(v.FileIcon,{}),t[0]=e):e=t[0],e},es=()=>{let e,t=(0,y.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,f.jsx)(v.TagIcon,{}),t[0]=e):e=t[0],e},el=()=>{let e,t=(0,y.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,f.jsx)(v.PlayIcon,{}),t[0]=e):e=t[0],e},ec=()=>{let e,t=(0,y.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,f.jsx)(v.BookIcon,{}),t[0]=e):e=t[0],e},ed=()=>{let e,t=(0,y.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,f.jsx)(v.CommentDiscussionIcon,{}),t[0]=e):e=t[0],e},eu=()=>{let e,t=(0,y.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,f.jsx)(v.TasklistIcon,{}),t[0]=e):e=t[0],e},em=()=>{let e,t=(0,y.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,f.jsx)(em,{}),t[0]=e):e=t[0],e},eh="planning response",ep=e=>{switch(e.kind){case"bing-search":return{id:"bing-search",referenceType:"web-search",loadingText:`Using Bing to search for "${e.query}"`,completedText:`Bing results for "${e.query}"`,icon:x._,name:"Bing search",activeSkillText:"searching Bing"};case"lexical-code-search":return{id:"codesearch",loadingText:`Search for "${e.query}" in "${e.scopingQuery}"`,completedText:`Search results for "${e.query}" in "${e.scopingQuery}"`,icon:ei,name:"Code search",activeSkillText:"searching the codebase"};case"semantic-code-search":return{id:"codesearch",loadingText:`Search for "${e.query}" in "${e.repoOwner}/${e.repoName}"`,completedText:`Search results for "${e.query}" in "${e.repoOwner}/${e.repoName}"`,icon:ei,name:"Code search",activeSkillText:"searching the codebase"};case"kb-search":return{id:"kb-search",loadingText:`Searching for "${e.query}" in the knowledge base`,completedText:`Knowledge base search results for "${e.query}"`,icon:ec,name:"Knowledge base search",activeSkillText:"searching the knowledge base"};case"getalert":return{id:"getalert",loadingText:"Retrieving information about alerts",completedText:"Including information about alerts",icon:()=>(0,f.jsx)(v.ShieldIcon,{}),name:"Get alert",activeSkillText:"getting alert"};case"get-github-data":return{id:"get-github-data",loadingText:`Fetching ${e.endpoint}`,completedText:`Results of ${e.endpoint}`,icon:es,name:"Get GitHub Data",activeSkillText:"getting data"};case"get-actions-job-logs":{let t=Z(e),n=t.charAt(0).toUpperCase()+t.slice(1);return{id:"get-actions-jog-logs",loadingText:`Retrieving ${t} in ${e.repo}`,completedText:`${n} in ${e.repo}`,icon:el,name:"Get job logs",activeSkillText:"getting job logs"}}case"getdiscussion":return{id:"getdiscussion",loadingText:`Fetching discussion ${e.discussionNumber}`,completedText:`Details about discussion #${e.discussionNumber}`,icon:ed,name:"Get discussion",activeSkillText:"getting discussion"};case"getfile":return{id:"getfile",loadingText:"Searching for file",completedText:"Using results of get file",icon:eo,name:"Get file",activeSkillText:"searching for file"};case"getfilechanges":return{id:"getfilechanges",loadingText:"Searching for file changes",completedText:`File changes for ${e.path} in ${e.repo}`,icon:eo,name:"Get file changes",activeSkillText:"searching for file changes"};case"planskill":return{id:"planskill",loadingText:"Planning response...",completedText:"Plan created",icon:eu,name:"Plan skill",activeSkillText:"planning response"};case"support-search":return{id:"supportsearch",loadingText:"Searching for support documents",completedText:"Using results of support search",icon:ec,name:"Support search",activeSkillText:"searching for support documents"};case"get-figma":return{id:"getfigma",loadingText:"Analyzing Figma file",completedText:"Using results of Figma file",icon:ec,name:"Get Figma",activeSkillText:"analyzing Figma file"};case"codesearchagentskill":return{id:"codesearchagentskill",loadingText:"Using the code search agent",completedText:"Using results of code search agent",icon:ec,name:"Code Search Agent",activeSkillText:"searching the codebase"};case"draft-issue":return{id:"draft-issue",loadingText:e.repository?`Drafting issue in ${e.repository}`:"Drafting issue ",completedText:e.repository?`Drafted issue in ${e.repository}`:"Drafted issue",icon:em,name:"Draft Issue",activeSkillText:e.repository?`drafting issue in ${e.repository}`:"drafting issue"};case"repository-metadata":return{id:"repository-metadata",loadingText:`Fetching metadata from ${e.repository}`,completedText:`Using metadata from ${e.repository}`,icon:em,name:"Repository Metadata",activeSkillText:`fetching metadata from ${e.repository}`}}};function eg(e){let t,n,r,a,i=(0,y.c)(10),{maxWidth:o,functionMetadata:s}=e;return i[0]!==s?(t=s.icon(),i[0]=s,i[1]=t):t=i[1],i[2]!==o?(n={maxWidth:o},i[2]=o,i[3]=n):n=i[3],i[4]!==s.completedText||i[5]!==n?(r=(0,f.jsx)(b.A,{title:s.completedText,sx:n,children:s.completedText}),i[4]=s.completedText,i[5]=n,i[6]=r):r=i[6],i[7]!==t||i[8]!==r?(a=(0,f.jsxs)(f.Fragment,{children:[t,r]}),i[7]=t,i[8]=r,i[9]=a):a=i[9],a}function ef(e){let t,n,r,a,i=(0,y.c)(10),{maxWidth:o,functionMetadata:s}=e;return i[0]!==s?(t=s.icon(),i[0]=s,i[1]=t):t=i[1],i[2]!==o?(n={maxWidth:o},i[2]=o,i[3]=n):n=i[3],i[4]!==s.loadingText||i[5]!==n?(r=(0,f.jsx)(b.A,{title:s.loadingText,sx:n,children:s.loadingText}),i[4]=s.loadingText,i[5]=n,i[6]=r):r=i[6],i[7]!==t||i[8]!==r?(a=(0,f.jsxs)(f.Fragment,{children:[t,r]}),i[7]=t,i[8]=r,i[9]=a):a=i[9],a}function ey(e){let t,n,r,a,i=(0,y.c)(10),{functionCall:o,functionMetadata:s}=e;return i[0]!==s.activeSkillText?(t=(0,f.jsxs)(_.A,{as:"h3",className:E.errorHeading,children:["An error occurred while ",s.activeSkillText]}),i[0]=s.activeSkillText,i[1]=t):t=i[1],i[2]!==o.errorMessage?(n=(0,f.jsx)("p",{className:E.errorMessage,children:o.errorMessage}),i[2]=o.errorMessage,i[3]=n):n=i[3],i[4]!==s.name?(r=(0,f.jsxs)("p",{className:E.toolDescriptionText,children:["Copilot used the ",(0,f.jsx)("span",{className:E.toolNameHighlight,children:s.name})," tool"]}),i[4]=s.name,i[5]=r):r=i[5],i[6]!==t||i[7]!==n||i[8]!==r?(a=(0,f.jsxs)("div",{className:E.errorContainer,children:[t,n,r]}),i[6]=t,i[7]=n,i[8]=r,i[9]=a):a=i[9],a}function ex(e){let t,n,r=(0,y.c)(6),{functionCall:a,functionMetadata:i,panelWidth:o}=e,s=o?o-130:C.J.DEFAULT_PANEL_WIDTH;r[0]!==a||r[1]!==i||r[2]!==s?(t=a?.status==="error"?(0,f.jsx)(ey,{functionCall:a,functionMetadata:i}):a?.status==="completed"?(0,f.jsx)(eg,{maxWidth:s,functionMetadata:i}):(0,f.jsx)(ef,{maxWidth:s,functionMetadata:i}),r[0]=a,r[1]=i,r[2]=s,r[3]=t):t=r[3];let l=t;return r[4]!==l?(n=(0,f.jsx)("div",{className:E.functionTitleContainer,children:l}),r[4]=l,r[5]=n):n=r[5],n}function ev(e){if(!e)return eh;let t=function(e){if(e)return ep({...JSON.parse(e?.arguments||"{}"),kind:e.slug})}(e);return e.statusMessage??t?.activeSkillText??eh}try{ei.displayName||(ei.displayName="CodeSearchIcon")}catch{}try{eo.displayName||(eo.displayName="GetFileIcon")}catch{}try{es.displayName||(es.displayName="ReleaseIcon")}catch{}try{el.displayName||(el.displayName="JobIcon")}catch{}try{ec.displayName||(ec.displayName="KnowledgeBaseIcon")}catch{}try{ed.displayName||(ed.displayName="DiscussionIcon")}catch{}try{eu.displayName||(eu.displayName="PlanIcon")}catch{}try{em.displayName||(em.displayName="IssueDraftIcon")}catch{}try{eg.displayName||(eg.displayName="FunctionCompleted")}catch{}try{ef.displayName||(ef.displayName="FunctionLoading")}catch{}try{ey.displayName||(ey.displayName="FunctionError")}catch{}try{ex.displayName||(ex.displayName="FunctionTitle")}catch{}},4699:(e,t,n)=>{n.d(t,{h:()=>l});var r=n(74848),a=n(21728),i=n(38911),o=n(34164);let s={interruptedBanner:"InterruptedBanner-module__interruptedBanner--XDG6C",hasContent:"InterruptedBanner-module__hasContent--NwTH4"};function l(e){let t,n,l=(0,a.c)(4),{messageHasContent:c}=e,d=c&&s.hasContent;return l[0]!==d?(t=(0,o.$)(s.interruptedBanner,d),l[0]=d,l[1]=t):t=l[1],l[2]!==t?(n=(0,r.jsx)(i.l,{className:t,"data-testid":"chat-message-interrupted",description:"Copilot was interrupted before it could finish this message.",hideTitle:!0,title:"Message interrupted",variant:"info"}),l[2]=t,l[3]=n):n=l[3],n}try{l.displayName||(l.displayName="InterruptedBanner")}catch{}},69458:(e,t,n)=>{n.d(t,{E:()=>u});var r=n(74848),a=n(21728),i=n(10871),o=n(55847),s=n(9852),l=n(96540);let c={dialog:"InterviewSurveyDialog-module__dialog--vBqY6",body:"InterviewSurveyDialog-module__body--zTKei",primaryText:"InterviewSurveyDialog-module__primaryText--E49Ba InterviewSurveyDialog-module__text--AnLTc",secondaryText:"InterviewSurveyDialog-module__secondaryText--uX6h1 InterviewSurveyDialog-module__text--AnLTc",surveyLink:"InterviewSurveyDialog-module__surveyLink--LnhEL",noThanksButton:"InterviewSurveyDialog-module__noThanksButton--loLSW"};function d(e,t){let n,d,u,m,h=(0,a.c)(10),{title:p,onClose:g}=e,f=void 0===p?"Give feedback":p,[y,x]=(0,l.useState)(!1);h[0]===Symbol.for("react.memo_cache_sentinel")?(n=()=>({openDialog:()=>x(!0)}),h[0]=n):n=h[0],(0,l.useImperativeHandle)(t,n),h[1]!==g?(d=e=>{x(!1),g?.(e)},h[1]=g,h[2]=d):d=h[2];let v=d;h[3]!==v?(u=()=>(0,r.jsxs)("div",{className:c.body,children:[(0,r.jsx)("img",{alt:"Mona and Copilot flying a Hubot-themed spaceship",src:"/images/modules/copilot-chat/mona-copilot-hubot-spaceship.png",srcSet:"/images/modules/copilot-chat/mona-copilot-hubot-spaceship@2x.png 2x"}),(0,r.jsx)("span",{className:c.primaryText,children:"Would you like to participate in our research?"}),(0,r.jsx)("span",{className:c.secondaryText,children:"You will be compensated for your time"}),(0,r.jsx)(i.z,{variant:"primary",className:c.surveyLink,href:"/github-copilot/chat/feedback/interview-survey",target:"_blank",children:"Book a session"}),(0,r.jsx)(o.Q,{variant:"link",className:c.noThanksButton,onClick:()=>v("no-thanks"),children:"No, thanks"})]}),h[3]=v,h[4]=u):u=h[4];let b=u;return h[5]!==v||h[6]!==y||h[7]!==b||h[8]!==f?(m=y&&(0,r.jsx)(s.l,{className:c.dialog,onClose:()=>v("close"),title:f,renderBody:b}),h[5]=v,h[6]=y,h[7]=b,h[8]=f,h[9]=m):m=h[9],m}let u=(0,l.forwardRef)(d);try{d.displayName||(d.displayName="InterviewSurveyDialogInner")}catch{}try{u.displayName||(u.displayName="InterviewSurveyDialog")}catch{}},25745:(e,t,n)=>{n.d(t,{h:()=>s});var r=n(74848),a=n(21728),i=n(34614);let o={container:"LegalDisclaimer-module__container--f7xb5"},s=()=>{let e,t=(0,a.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,r.jsxs)("span",{className:o.container,children:[(0,r.jsx)(i.A,{href:"https://docs.github.com/en/copilot/responsible-use-of-github-copilot-features/responsible-use-of-github-copilot-chat-in-githubcom",inline:!0,muted:!0,children:"Copilot"})," ","uses AI. Check for mistakes."]}),t[0]=e):e=t[0],e};try{s.displayName||(s.displayName="LegalDisclaimer")}catch{}},42342:(e,t,n)=>{n.d(t,{UJ:()=>y,E5:()=>c,Dq:()=>d,Gj:()=>u,f1:()=>m,cB:()=>h,zc:()=>p,Cb:()=>g,hl:()=>f});var r=n(74848),a=n(21728),i=n(16255),o=n(10569),s=n(96540);let l={chatPortalContainer:"PortalContainerUtils-module__chatPortalContainer--QCSxu",menuPortalContainer:"PortalContainerUtils-module__menuPortalContainer--MjmMh"},c="copilotChatMenuPortalRoot",d="copilotChatMessagesMenuPortalRoot",u="copilotChatPortalRoot",m="copilotChatTopicPickerPortalRoot",h=()=>{let e,t,n,o=(0,a.c)(3),c=(0,s.useRef)(null);return o[0]===Symbol.for("react.memo_cache_sentinel")?(e=()=>{(0,i.c)(c.current,u)},t=[],o[0]=e,o[1]=t):(e=o[0],t=o[1]),(0,s.useEffect)(e,t),o[2]===Symbol.for("react.memo_cache_sentinel")?(n=(0,r.jsx)("div",{ref:c,className:l.chatPortalContainer}),o[2]=n):n=o[2],n},p=()=>{let e,t,n,o=(0,a.c)(3),d=(0,s.useRef)(null);return o[0]===Symbol.for("react.memo_cache_sentinel")?(e=()=>{(0,i.c)(d.current,c)},t=[],o[0]=e,o[1]=t):(e=o[0],t=o[1]),(0,s.useEffect)(e,t),o[2]===Symbol.for("react.memo_cache_sentinel")?(n=(0,r.jsx)("div",{ref:d,className:l.menuPortalContainer}),o[2]=n):n=o[2],n},g=()=>{let e,t,n,o=(0,a.c)(3),l=(0,s.useRef)(null);return o[0]===Symbol.for("react.memo_cache_sentinel")?(e=()=>{(0,i.c)(l.current,d)},t=[],o[0]=e,o[1]=t):(e=o[0],t=o[1]),(0,s.useEffect)(e,t),o[2]===Symbol.for("react.memo_cache_sentinel")?(n=(0,r.jsx)("div",{ref:l}),o[2]=n):n=o[2],n},f=()=>{let e,t,n,o=(0,a.c)(3),l=(0,s.useRef)(null);return o[0]===Symbol.for("react.memo_cache_sentinel")?(e=()=>{(0,i.c)(l.current,m)},t=[],o[0]=e,o[1]=t):(e=o[0],t=o[1]),(0,s.useEffect)(e,t),o[2]===Symbol.for("react.memo_cache_sentinel")?(n=(0,r.jsx)("div",{ref:l}),o[2]=n):n=o[2],n},y=e=>{let t,n,i,l,d,u,m=(0,a.c)(10);m[0]!==e?({children:t,portalContainerName:i,...n}=e,m[0]=e,m[1]=t,m[2]=n,m[3]=i):(t=m[1],n=m[2],i=m[3]);let[h,p]=(0,s.useState)(x);if(m[4]===Symbol.for("react.memo_cache_sentinel")?(l=()=>p(!0),d=[],m[4]=l,m[5]=d):(l=m[4],d=m[5]),(0,s.useEffect)(l,d),!h)return null;let g=i||c;return m[6]!==t||m[7]!==n||m[8]!==g?(u=(0,r.jsx)(o.W.Overlay,{...n,portalContainerName:g,children:t}),m[6]=t,m[7]=n,m[8]=g,m[9]=u):u=m[9],u};try{h.displayName||(h.displayName="ChatPortalContainer")}catch{}try{p.displayName||(p.displayName="MenuPortalContainer")}catch{}try{g.displayName||(g.displayName="MessagesPortalContainer")}catch{}try{f.displayName||(f.displayName="TopicPickerPortalContainer")}catch{}try{y.displayName||(y.displayName="ActionMenuOverlay")}catch{}function x(){return"undefined"!=typeof document}},53655:(e,t,n)=>{n.d(t,{BR:()=>b,lh:()=>S,a_:()=>_});var r,a=n(74848),i=n(21728),o=n(59706),s=n(38621),l=n(63867),c=n(87330),d=n(81007),u=n(34164),m=n(96540),h=n(22069),p=n(34901),g=n(47397),f=n(65011),y=n(39038);let x={referenceToken:"ReferenceToken-module__referenceToken--MoDht",small:"ReferenceToken-module__small--LxJV_",loadingName:"ReferenceToken-module__loadingName--OEUm0",name:"ReferenceToken-module__name--Wq2Bs",trailingVisual:"ReferenceToken-module__trailingVisual--JeIeK",removeButton:"ReferenceToken-module__removeButton--BIbYP",icon:"ReferenceToken-module__icon--WJse5",openIcon:"ReferenceToken-module__openIcon--LVVWZ",closedIcon:"ReferenceToken-module__closedIcon--qYsTG",pullRequestClosedIcon:"ReferenceToken-module__pullRequestClosedIcon--ivG0w",pullRequestMergedIcon:"ReferenceToken-module__pullRequestMergedIcon--S1IFs",figmaIconOuter:"ReferenceToken-module__figmaIconOuter--PpoUe",figmaIcon:"ReferenceToken-module__figmaIcon--x5K98"};var v=n(30581);let b=(0,m.forwardRef)(function(e,t){let n,r,o,l,c,f,y,b,C,j,N,I=(0,i.c)(40),{reference:T,message:k,onClick:A,onRemove:R,size:M,getReferenceVersion:E}=e;I[0]!==R?(n=e=>{R&&("Delete"===e.key||"Backspace"===e.key)&&(e.preventDefault(),R())},I[0]=R,I[1]=n):n=I[1];let L=n,P=(0,g.b)(),F=(0,p.pn)(w),$=(0,p.A3)("selectedThreadID");I[2]!==F||I[3]!==P||I[4]!==k||I[5]!==A||I[6]!==T||I[7]!==$?(r=e=>{if(!A||(A(T,e),!e.defaultPrevented)){if(!F){if(("issue"===T.type||"pull-request"===T.type||"discussion"===T.type)&&(window.open(T.url,"_blank"),self.focus()),["file","thread-scoped-file"].includes(T.type)){let e=$?`/copilot/c/${$}`:"/copilot";e+=`?reference_id=${(0,h.Vb)(T)}`,k&&(e+=`&message_index=${k.messageIndex}`),window.open(e,"_blank");return}["repository","folder","docset","third-party","image","issue","pull-request"].includes(T.type)||(e.preventDefault(),P.selectReference(T))}}},I[2]=F,I[3]=P,I[4]=k,I[5]=A,I[6]=T,I[7]=$,I[8]=r):r=I[8];let D=r,B=(0,p.A3)("currentTopic");I[9]!==T||I[10]!==B?(o=_(T,(0,h.P)(B)),I[9]=T,I[10]=B,I[11]=o):o=I[11];let O=o,U=(0,m.useId)();I[12]!==E||I[13]!==T?(l=E?.(T),I[12]=E,I[13]=T,I[14]=l):l=I[14];let z=l;I[15]!==T?(c=(0,h.JP)(T),I[15]=T,I[16]=c):c=I[16];let q="small"===M&&x.small;I[17]!==q?(f=(0,u.$)(x.referenceToken,q),I[17]=q,I[18]=f):f=I[18];let V=R&&U;return I[19]!==O?(y=O&&(0,a.jsx)(O,{size:"small",className:(0,u.$)(x.icon,O===s.IssueOpenedIcon&&x.openIcon,O===s.GitPullRequestIcon&&x.openIcon,O===s.IssueClosedIcon&&x.closedIcon,O===s.GitPullRequestClosedIcon&&x.pullRequestClosedIcon,O===s.GitMergeIcon&&x.pullRequestMergedIcon)}),I[19]=O,I[20]=y):y=I[20],I[21]!==T?(b="loading"===T.type?(0,a.jsx)("span",{className:x.loadingName,children:(0,a.jsx)(d.r,{"aria-hidden":"true"})}):(0,a.jsx)("span",{className:x.name,children:(0,h.z$)(T)}),I[21]=T,I[22]=b):b=I[22],I[23]!==z?(C=void 0!==z&&(0,a.jsx)("span",{className:x.trailingVisual,children:(0,a.jsx)(v.g,{version:z})}),I[23]=z,I[24]=C):C=I[24],I[25]!==U||I[26]!==R||I[27]!==M?(j=R&&(0,a.jsx)(S,{size:M,onRemove:R,descriptionId:U}),I[25]=U,I[26]=R,I[27]=M,I[28]=j):j=I[28],I[29]!==D||I[30]!==L||I[31]!==t||I[32]!==y||I[33]!==b||I[34]!==C||I[35]!==j||I[36]!==c||I[37]!==f||I[38]!==V?(N=(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("a",{href:c,className:f,onKeyDown:L,onClick:D,ref:t,"aria-describedby":V,children:[y,b,C,j]})}),I[29]=D,I[30]=L,I[31]=t,I[32]=y,I[33]=b,I[34]=C,I[35]=j,I[36]=c,I[37]=f,I[38]=V,I[39]=N):N=I[39],N});function _(e,t){switch(e.type){case"figma":return C;case"file":return s.FileIcon;case"folder":return s.FileDirectoryFillIcon;case"file-diff":return s.FileDiffIcon;case"snippet":return t&&"languageName"in e&&e.languageName&&f.Yr.has(e.languageName)?s.BookIcon:s.CodeIcon;case"repository":return s.RepoIcon;case"symbol":return s.CodeSquareIcon;case"docset":return s.BookIcon;case"commit":return s.GitCommitIcon;case"pull-request":if("pull-request"===e.type){if(e.draft&&"open"===e.state)return s.GitPullRequestDraftIcon;switch(e.state){case"open":default:return s.GitPullRequestIcon;case"closed":return s.GitPullRequestClosedIcon;case"merged":return s.GitMergeIcon}}return;case"repo-instructions":case"org-instructions":return s.NoteIcon;case"issue":if("issue"===e.type)switch(e.state){case"open":default:return s.IssueOpenedIcon;case"closed":return s.IssueClosedIcon;case"not_planned":return s.SkipIcon}return;case"draft-issue":return s.IssueDraftIcon;case"discussion":return s.CommentDiscussionIcon;case"web-search-result":if("web-search-result"===e.type)if("bing_search"===e.reference_type)return o._;else return s.GlobeIcon;return;case"thread-scoped-file":return"language"in e&&f.Yr.has(e.language)?s.MarkdownIcon:s.CodeIcon;case"loading":return l.A;default:return}}function C(){let e,t=(0,i.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,a.jsx)("div",{className:x.figmaIconOuter,children:(0,a.jsx)(y._,{className:x.figmaIcon})}),t[0]=e):e=t[0],e}let S=e=>{let t,n,r,o,l=(0,i.c)(12),{size:d,onRemove:u,descriptionId:m,onMouseOver:h,onMouseLeave:p}=e;return l[0]!==u?(t=e=>{e.stopPropagation(),e.preventDefault(),u()},l[0]=u,l[1]=t):t=l[1],l[2]!==p||l[3]!==h||l[4]!==d||l[5]!==t?(n=(0,a.jsx)(c.K,{tabIndex:-1,"aria-hidden":!0,size:d,icon:s.XIcon,"aria-label":"Remove",onClick:t,tooltipDirection:"n",variant:"invisible",className:x.removeButton,onMouseOver:h,onMouseLeave:p}),l[2]=p,l[3]=h,l[4]=d,l[5]=t,l[6]=n):n=l[6],l[7]!==m?(r=(0,a.jsx)("span",{hidden:!0,id:m,children:"press backspace or delete to remove"}),l[7]=m,l[8]=r):r=l[8],l[9]!==n||l[10]!==r?(o=(0,a.jsxs)(a.Fragment,{children:[n,r]}),l[9]=n,l[10]=r,l[11]=o):o=l[11],o};try{b.displayName||(b.displayName="ReferenceToken")}catch{}try{(r=Icon).displayName||(r.displayName="Icon")}catch{}try{C.displayName||(C.displayName="StylizedFigmaIcon")}catch{}try{S.displayName||(S.displayName="RemoveReferenceTokenButton")}catch{}function w(e){return"immersive"===e.mode}},69359:(e,t,n)=>{n.d(t,{FZ:()=>w,X1:()=>I});var r,a=n(74848),i=n(21728),o=n(38007),s=n(87517),l=n(98386),c=n(15385),d=n(83978),u=n(34164),m=n(96540),h=n(40961),p=n(6612),g=n(51295),f=n(22069),y=n(74244),x=n(34901),v=n(47397),b=n(39546),_=n(42342);let C={ActionList:"RepoSelectPanel-module__ActionList--KXTae",emptyStateMessage:"RepoSelectPanel-module__emptyStateMessage--n1cfY"};var S=n(99629);function w(e){let t,n,r,o,s=(0,i.c)(12),{currentReferences:l}=(0,x.Pk)(),c=(0,v.b)();s[0]!==l?(n=new Set((t=l.filter(N)).map(j)),s[0]=l,s[1]=t,s[2]=n):(t=s[1],n=s[2]);let d=n,[u,h]=(0,m.useState)();s[3]!==c||s[4]!==e||s[5]!==t?(r=async n=>{h(void 0);let r=t.find(e=>e.id===n);if(r)return void c.removeReference(r);let a=await c.service.fetchRepo(n);if(!a.ok){h("Error: failed to attach repository. Please try again."),e.onOpenChange(!0);return}let i=(0,f.qS)(a.payload);c.addReference(i,"repoMenu")},s[3]=c,s[4]=e,s[5]=t,s[6]=r):r=s[6];let p=r;return s[7]!==u||s[8]!==e||s[9]!==d||s[10]!==p?(o=(0,a.jsx)(I,{...e,selectionVariant:"multiple",selectedRepoIds:d,onSelectRepo:p,description:"Choose repositories to chat about.",error:u}),s[7]=u,s[8]=e,s[9]=d,s[10]=p,s[11]=o):o=s[11],o}function j(e){return e.id}function N(e){return"repository"===e.type}function I(e){let t,n,r,f,y,v,w,j,N,I,A,R,M,E,L,P,F,$,D,B,O=(0,i.c)(54),{open:U,onOpenChange:z,submitReturnFocusRef:q,cancelReturnFocusRef:V,selectedRepoIds:H,featuredRepoIds:W,onSelectRepo:G,selectionVariant:K,description:Z,error:Q,ownerDisplayLogin:J,includeForks:Y}=e,X=void 0===W?H:W,{ssoOrganizations:ee}=(0,x.Pk)(),[et,en]=(0,m.useState)("");O[0]!==U?(t=()=>{U||en("")},n=[U],O[0]=U,O[1]=t,O[2]=n):(t=O[1],n=O[2]),(0,m.useEffect)(t,n);let{repositories:er,loading:ea}=(0,p.U)(et,U,void 0,J,void 0!==Y&&Y);e:{if(ea){r="Loading repositories";break e}if(0===er.length){r="No repositories found";break e}if(1===er.length){r="1 repository found";break e}r=`${er.length} repositories found`}let ei=r;O[3]===Symbol.for("react.memo_cache_sentinel")?(f=e=>{en(e.currentTarget.value)},O[3]=f):f=O[3];let eo=f;t:{let e;if(!ee){let e;O[4]===Symbol.for("react.memo_cache_sentinel")?(e=[],O[4]=e):e=O[4],y=e;break t}O[5]!==ee?(e=ee.map(k),O[5]=ee,O[6]=e):e=O[6],y=e}let es=y;O[7]!==X?(v=e=>X.has(e.databaseId)?"featuredRepos":"nonFeaturedRepos",O[7]=X,O[8]=v):v=O[8];let{featuredRepos:el,nonFeaturedRepos:ec}=(0,g.O)(er,v),[ed,eu]=(0,m.useState)(!1);O[9]!==G?(w=async e=>{eu(!0),await G(e),eu(!1)},O[9]=G,O[10]=w):w=O[10];let em=w;O[11]===Symbol.for("react.memo_cache_sentinel")?(j=(0,l.G)("repo-select-panel"),O[11]=j):j=O[11];let eh=d.X;O[12]!==V.current||O[13]!==z?(N=()=>{(0,h.flushSync)(()=>z(!1)),V.current?.focus(),(0,o.BI)("dotcom_chat.activate",{target:"REPOSITORY_DIALOG_CLOSE",mode:"immersive"})},O[12]=V.current,O[13]=z,O[14]=N):N=O[14],O[15]!==z||O[16]!==q.current?(I=()=>{(0,h.flushSync)(()=>z(!1)),q.current?.focus()},O[15]=z,O[16]=q.current,O[17]=I):I=O[17];let ep="multiple"===K?"Select repositories":"Select a repository",eg=es.length>0&&"border-bottom-0";O[18]!==eg?(A=(0,u.$)(eg),O[18]=eg,O[19]=A):A=O[19];let ef=!0===ea||ed;O[20]!==ef?(R=(0,a.jsx)(d.X.SearchInput,{loading:ef,onChange:eo,placeholder:"Search repositories","aria-label":"Search repositories"}),O[20]=ef,O[21]=R):R=O[21],O[22]!==A||O[23]!==R?(M=(0,a.jsx)(d.X.Header,{className:A,children:R}),O[22]=A,O[23]=R,O[24]=M):M=O[24],O[25]!==J||O[26]!==es?(E=(void 0===J||""===J)&&(0,a.jsx)(s.x,{portalContainerName:_.f1,protectedOrgs:es,redirectURI:T,useFullWidthStyle:!0}),O[25]=J,O[26]=es,O[27]=E):E=O[27],O[28]===Symbol.for("react.memo_cache_sentinel")?(L=(0,a.jsx)(_.hl,{}),O[28]=L):L=O[28],O[29]!==Q?(P=Q&&(0,a.jsx)(d.X.Message,{variant:"error",size:"inline",children:Q}),O[29]=Q,O[30]=P):P=O[30];let ey=c.l;O[31]!==ei?(F=(0,a.jsx)("div",{className:"sr-only",children:ei}),O[31]=ei,O[32]=F):F=O[32];let ex="initial"===ea?(0,a.jsx)(d.X.Loading,{children:"Fetching repositories\u2026"}):0!==er.length||ea?(0,a.jsxs)(a.Fragment,{children:[el?.map(e=>(0,a.jsx)(S.W,{repo:e,onSelect:em,selected:H.has(e.databaseId)},e.databaseId)),el&&ec&&(0,a.jsx)(c.l.Divider,{}),ec?.map(e=>(0,a.jsx)(S.W,{repo:e,onSelect:em,selected:H.has(e.databaseId)},e.databaseId))]}):(0,a.jsx)("div",{className:C.emptyStateMessage,children:(0,a.jsx)(b.O,{delay:750,children:(0,a.jsx)(d.X.Message,{variant:"empty",title:"No repositories found",children:"Try a different search term"})})});return O[33]!==ey||O[34]!==C.ActionList||O[35]!==F||O[36]!==ex?($=(0,a.jsxs)(ey,{className:C.ActionList,children:[F,ex]}),O[33]=ey,O[34]=C.ActionList,O[35]=F,O[36]=ex,O[37]=$):$=O[37],O[38]!==eh||O[39]!==Z||O[40]!==U||O[41]!==K||O[42]!==N||O[43]!==I||O[44]!==ep||O[45]!==M||O[46]!==E||O[47]!==L||O[48]!==P||O[49]!==$?(D=(0,a.jsxs)(eh,{width:"large",maxHeight:"xlarge",onCancel:N,onSubmit:I,open:U,variant:"modal",selectionVariant:K,title:ep,description:Z,children:[M,E,L,P,$]}),O[38]=eh,O[39]=Z,O[40]=U,O[41]=K,O[42]=N,O[43]=I,O[44]=ep,O[45]=M,O[46]=E,O[47]=L,O[48]=P,O[49]=$,O[50]=D):D=O[50],O[51]!==j||O[52]!==D?(B=(0,a.jsx)("div",{...j,children:D}),O[51]=j,O[52]=D,O[53]=B):B=O[53],B}function T(){return`/search/refresh_blackbird_caches?return_to=${location.href}`}function k(e){return e.login}try{(r=function(e){let t,n,r,o=(0,i.c)(9),{selectedThreadID:s,currentTopic:l}=(0,x.Pk)(),c=(0,v.b)();o[0]!==c||o[1]!==s?(t=async e=>{y.J.setSelectedTopic(s??"",e.toString()),c.clearCurrentReferences(["image","issue"]),await c.fetchCurrentRepo(e)},o[0]=c,o[1]=s,o[2]=t):t=o[2];let d=t;return o[3]!==l?(n=new Set(l?[l.id]:[]),o[3]=l,o[4]=n):n=o[4],o[5]!==d||o[6]!==e||o[7]!==n?(r=(0,a.jsx)(I,{...e,selectionVariant:"instant",selectedRepoIds:n,onSelectRepo:d,description:"Choose a repository to chat about."}),o[5]=d,o[6]=e,o[7]=n,o[8]=r):r=o[8],r}).displayName||(r.displayName="RepoTopicSelectPanel")}catch{}try{w.displayName||(w.displayName="RepoReferencesSelectPanel")}catch{}try{I.displayName||(I.displayName="RepoSelectPanel")}catch{}},99629:(e,t,n)=>{n.d(t,{W:()=>s});var r=n(74848),a=n(21728),i=n(39459),o=n(15385);function s(e){let t,n,s,l,c=(0,a.c)(14),{onSelect:d,repo:u,selected:m,trailingVisualComponent:h}=e,{databaseId:p,isInOrganization:g,nwo:f,ownerAvatarUrl:y}=u;return c[0]!==p||c[1]!==d?(t=()=>d(p),c[0]=p,c[1]=d,c[2]=t):t=c[2],c[3]!==g||c[4]!==y?(n=(0,r.jsx)(o.l.LeadingVisual,{children:(0,r.jsx)(i.r,{src:y,square:g,size:16})}),c[3]=g,c[4]=y,c[5]=n):n=c[5],c[6]!==h?(s=h&&(0,r.jsx)(o.l.TrailingVisual,{children:h}),c[6]=h,c[7]=s):s=c[7],c[8]!==f||c[9]!==m||c[10]!==t||c[11]!==n||c[12]!==s?(l=(0,r.jsxs)(o.l.Item,{onSelect:t,selected:m,children:[n,f,s]},f),c[8]=f,c[9]=m,c[10]=t,c[11]=n,c[12]=s,c[13]=l):l=c[13],l}try{s.displayName||(s.displayName="RepositoryListItem")}catch{}},87928:(e,t,n)=>{n.d(t,{$:()=>c});var r=n(74848),a=n(21728),i=n(38621),o=n(87330),s=n(31637),l=n(66912);function c(e){let t,n,c=(0,a.c)(11),{handleRetryMessage:d,disabled:u,showModelPicker:m,model:h,navigateToNewThread:p}=e,g=void 0!==u&&u,f=void 0!==m&&m;c[0]!==d||c[1]!==h?(t=()=>{d(h)},c[0]=d,c[1]=h,c[2]=t):t=c[2];let y=t,{isLicensedLimited:x}=(0,s.xR)();if(f&&(!p||!h))throw Error("navigateToNewThread and model must be provided in order to show the model picker");return c[3]!==g||c[4]!==y||c[5]!==d||c[6]!==x||c[7]!==h||c[8]!==p||c[9]!==f?(n=f?(0,r.jsx)(l.Yb,{onNewThreadSelected:p,limited:x,type:"message-retry",selectedModel:h,onModelSelected:d,disabled:g}):(0,r.jsx)(o.K,{variant:"invisible","aria-label":"Retry","data-testid":"retry-button",onClick:y,icon:i.SyncIcon,disabled:g}),c[3]=g,c[4]=y,c[5]=d,c[6]=x,c[7]=h,c[8]=p,c[9]=f,c[10]=n):n=c[10],n}try{c.displayName||(c.displayName="RetryButton")}catch{}},5279:(e,t,n)=>{n.d(t,{M:()=>l});var r=n(74848),a=n(21728),i=n(69676),o=n(82678),s=n(96540);function l(e){let t,n,l,c,d=(0,a.c)(8);d[0]!==e?({className:t,...n}=e,d[0]=e,d[1]=t,d[2]=n):(t=d[1],n=d[2]);let u=(0,s.useRef)(null);return d[3]===Symbol.for("react.memo_cache_sentinel")?(l={containerRef:u,focusInStrategy:"first",focusOutBehavior:"stop",bindKeys:i.z0.ArrowHorizontal|i.z0.HomeAndEnd},d[3]=l):l=d[3],(0,o.G)(l),d[4]!==t||d[5]!==e.children||d[6]!==n?(c=(0,r.jsx)("div",{ref:u,className:t,role:"toolbar",...n,children:e.children}),d[4]=t,d[5]=e.children,d[6]=n,d[7]=c):c=d[7],c}try{l.displayName||(l.displayName="Toolbar")}catch{}},85332:(e,t,n)=>{n.d(t,{R:()=>h});var r=n(74848),a=n(21728),i=n(34614),o=n(34164),s=n(7277),l=n(39818),c=n(36721),d=n(13897),u=n(83880),m=n(10370);function h(e){let t,n,i,h,g,f,y,x=(0,a.c)(24),{className:v,accessibleHeader:b}=e,{message:_}=(0,u.V)(),C=_.content??"";x[0]!==C?(t=(0,d._)(C),x[0]=C,x[1]=t):t=x[1];let{availableAgents:S}=(0,l.JE)(t);x[2]!==S?(n=void 0===S?[]:S,x[2]=S,x[3]=n):n=x[3];let w=n;if(x[4]!==b||x[5]!==w||x[6]!==v||x[7]!==_.references||x[8]!==C){let e;x[12]!==_.references?(e=_.references??[],x[12]=_.references,x[13]=e):e=x[13];let t=(0,s.l)().use(c.U,{references:e,agents:w}).parse(C);x[14]!==b?(g=b&&(0,r.jsx)("h3",{className:"sr-only",children:b}),x[14]=b,x[15]=g):g=x[15],x[16]!==v?(i=(0,o.$)(m.A.container,v),x[16]=v,x[17]=i):i=x[17],h=t.children.map(p),x[4]=b,x[5]=w,x[6]=v,x[7]=_.references,x[8]=C,x[9]=i,x[10]=h,x[11]=g}else i=x[9],h=x[10],g=x[11];return x[18]!==i||x[19]!==h?(f=(0,r.jsx)("div",{className:i,children:h}),x[18]=i,x[19]=h,x[20]=f):f=x[20],x[21]!==g||x[22]!==f?(y=(0,r.jsxs)(r.Fragment,{children:[g,f]}),x[21]=g,x[22]=f,x[23]=y):y=x[23],y}function p(e,t){switch(e.type){case"text":return e.value;case"agent-mention":return(0,r.jsx)(g,{agent:e.data.mentionedAgent,children:e.value},t);case"reference-mention":return void 0!==e.data.mentionedReferenceId?(0,r.jsx)("span",{className:m.A.mention,children:e.value},t):e.value}}function g(e){let t,n=(0,a.c)(4),{agent:o,children:s}=e,l=`/integrations/${o.slug}/hovercard`;return n[0]!==o.integrationUrl||n[1]!==s||n[2]!==l?(t=(0,r.jsx)(i.A,{href:o.integrationUrl,"data-hovercard-url":l,className:m.A.mention,children:s}),n[0]=o.integrationUrl,n[1]=s,n[2]=l,n[3]=t):t=n[3],t}try{h.displayName||(h.displayName="UserMessage")}catch{}try{g.displayName||(g.displayName="AgentLink")}catch{}},30581:(e,t,n)=>{n.d(t,{g:()=>s});var r=n(74848),a=n(21728),i=n(2676);let o={version:"VersionName-module__version--DI4zD"};function s(e){let t,n=(0,a.c)(3),{"data-testid":s,version:l}=e;return n[0]!==s||n[1]!==l?(t=(0,r.jsxs)(i.A,{className:o.version,as:"span","data-testid":s,children:["v",l]}),n[0]=s,n[1]=l,n[2]=t):t=n[2],t}try{s.displayName||(s.displayName="VersionName")}catch{}},39038:(e,t,n)=>{n.d(t,{_:()=>i});var r=n(74848),a=n(21728);function i(e){let t,n,i,o,s,l=(0,a.c)(8);return l[0]!==e?({className:t,...n}=e,l[0]=e,l[1]=t,l[2]=n):(t=l[1],n=l[2]),l[3]===Symbol.for("react.memo_cache_sentinel")?(i=(0,r.jsxs)("g",{clipPath:"url(#clip0_216_3161)",children:[(0,r.jsx)("path",{d:"M7.99837 7.99967C7.99837 6.52683 9.1922 5.33301 10.665 5.33301C12.1379 5.33301 13.3317 6.52683 13.3317 7.99967C13.3317 9.47252 12.1379 10.6663 10.665 10.6663C9.1922 10.6663 7.99837 9.47252 7.99837 7.99967Z",fill:"#1ABCFE"}),(0,r.jsx)("path",{d:"M2.66504 13.3337C2.66504 11.8608 3.85886 10.667 5.33171 10.667H7.99837V13.3337C7.99837 14.8065 6.80455 16.0003 5.33171 16.0003C3.85886 16.0003 2.66504 14.8065 2.66504 13.3337Z",fill:"#0ACF83"}),(0,r.jsx)("path",{d:"M7.99837 0V5.33333H10.665C12.1379 5.33333 13.3317 4.13951 13.3317 2.66667C13.3317 1.19382 12.1379 0 10.665 0H7.99837Z",fill:"#FF7262"}),(0,r.jsx)("path",{d:"M2.665 2.66667C2.665 4.13951 3.85883 5.33333 5.33167 5.33333H7.99833V0H5.33167C3.85883 0 2.665 1.19382 2.665 2.66667Z",fill:"#F24E1E"}),(0,r.jsx)("path",{d:"M2.66504 7.99967C2.66504 9.47252 3.85886 10.6663 5.33171 10.6663H7.99837V5.33301H5.33171C3.85886 5.33301 2.66504 6.52683 2.66504 7.99967Z",fill:"#A259FF"})]}),l[3]=i):i=l[3],l[4]===Symbol.for("react.memo_cache_sentinel")?(o=(0,r.jsx)("defs",{children:(0,r.jsx)("clipPath",{id:"clip0_216_3161",children:(0,r.jsx)("rect",{width:"10.6667",height:"16",fill:"white",transform:"translate(2.665)"})})}),l[4]=o):o=l[4],l[5]!==t||l[6]!==n?(s=(0,r.jsxs)("svg",{"aria-label":"Figma logo",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,...n,children:[i,o]}),l[5]=t,l[6]=n,l[7]=s):s=l[7],s}try{i.displayName||(i.displayName="FigmaIcon")}catch{}},39546:(e,t,n)=>{n.d(t,{O:()=>o});var r=n(74848),a=n(21728),i=n(96540);let o=e=>{let t,n,o,s=(0,a.c)(6),{children:l,delay:c,assertive:d}=e,u=void 0===c?500:c,[m,h]=(0,i.useState)(!1);if(s[0]!==u?(t=()=>{h(!1);let e=setTimeout(()=>h(!0),u);return()=>clearTimeout(e)},n=[u,h],s[0]=u,s[1]=t,s[2]=n):(t=s[1],n=s[2]),(0,i.useEffect)(t,n),!m)return null;let p=void 0!==d&&d?"assertive":"polite";return s[3]!==l||s[4]!==p?(o=(0,r.jsx)("div",{role:"alert","aria-live":p,"aria-atomic":"true",children:l}),s[3]=l,s[4]=p,s[5]=o):o=s[5],o};try{o.displayName||(o.displayName="DelayedComponent")}catch{}},9677:(e,t,n)=>{n.d(t,{O:()=>N});var r=n(74848),a=n(21728),i=n(38621),o=n(75177),s=n(87330),l=n(84217),c=n(55847),d=n(15385),u=n(63867),m=n(53110),h=n(96540);function p(e){let t,n,i,s,l=(0,a.c)(5),{children:c}=e;return l[0]===Symbol.for("react.memo_cache_sentinel")?(t={overflow:"auto",maxHeight:"calc(100dvh - 64px - 52px)"},l[0]=t):t=l[0],l[1]===Symbol.for("react.memo_cache_sentinel")?(n={overflow:"hidden",backgroundColor:"canvas.default"},l[1]=n):n=l[1],l[2]===Symbol.for("react.memo_cache_sentinel")?(i={display:"flex",flexDirection:"column"},l[2]=i):i=l[2],l[3]!==c?(s=(0,r.jsx)(o.A,{sx:t,children:(0,r.jsx)(o.A,{sx:n,children:(0,r.jsx)(o.A,{sx:i,children:c})})}),l[3]=c,l[4]=s):s=l[4],s}function g(e){let t,n,c,d,u,m=(0,a.c)(9),{children:h,onDismiss:p}=e;return m[0]===Symbol.for("react.memo_cache_sentinel")?(t={display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",padding:"16px",fontSize:1},m[0]=t):t=m[0],m[1]===Symbol.for("react.memo_cache_sentinel")?(n={display:"flex",flexDirection:"row",alignItems:"center",minWidth:0,"@media screen and (max-width: 768px)":{maxWidth:"80%"}},m[1]=n):n=m[1],m[2]!==h?(c=(0,r.jsx)(o.A,{sx:n,children:h}),m[2]=h,m[3]=c):c=m[3],m[4]!==p?(d=p&&(0,r.jsx)(s.K,{unsafeDisableTooltip:!0,"aria-label":"Dismiss",icon:i.XIcon,onClick:p,variant:"invisible",sx:{flexShrink:0}}),m[4]=p,m[5]=d):d=m[5],m[6]!==c||m[7]!==d?(u=(0,r.jsxs)(l.A,{as:"h3",sx:t,children:[c,d]}),m[6]=c,m[7]=d,m[8]=u):u=m[8],u}function f(e){let t,n,i=(0,a.c)(3),{children:s}=e;return i[0]===Symbol.for("react.memo_cache_sentinel")?(t={borderBottom:"1px solid var(--borderColor-default, var(--color-border-default))",borderTop:"1px solid var(--borderColor-default, var(--color-border-default))",backgroundColor:"canvas.subtle",px:3,py:2},i[0]=t):t=i[0],i[1]!==s?(n=(0,r.jsx)(o.A,{sx:t,children:s}),i[1]=s,i[2]=n):n=i[2],n}function y(e){let t,n,o,s,l,d,u=(0,a.c)(11),{children:p,title:g,initiallyOpen:f}=e,[y,v]=(0,h.useState)(f??!1);u[0]===Symbol.for("react.memo_cache_sentinel")?(t=()=>v(x),u[0]=t):t=u[0],u[1]===Symbol.for("react.memo_cache_sentinel")?(n={borderRadius:0,backgroundColor:"canvas.default",border:"none",borderBottom:"1px solid var(--borderColor-default, var(--color-border-default))",'[data-component="buttonContent"]':{justifyContent:"start"}},u[1]=n):n=u[1];let b=y?i.ChevronDownIcon:i.ChevronRightIcon;u[2]===Symbol.for("react.memo_cache_sentinel")?(o={mr:2},u[2]=o):o=u[2],u[3]!==b?(s=(0,r.jsx)(m.A,{icon:b,sx:o}),u[3]=b,u[4]=s):s=u[4],u[5]!==s||u[6]!==g?(l=(0,r.jsxs)(c.Q,{onClick:t,sx:n,children:[s,g]}),u[5]=s,u[6]=g,u[7]=l):l=u[7];let _=y&&p;return u[8]!==l||u[9]!==_?(d=(0,r.jsxs)(r.Fragment,{children:[l,_]}),u[8]=l,u[9]=_,u[10]=d):d=u[10],d}function x(e){return!e}function v(e){let t,n,i=(0,a.c)(3),{children:s}=e;return i[0]===Symbol.for("react.memo_cache_sentinel")?(t={padding:3},i[0]=t):t=i[0],i[1]!==s?(n=(0,r.jsx)(o.A,{sx:t,children:s}),i[1]=s,i[2]=n):n=i[2],n}function b(e){let t,n,s,l,d,u,h,p=(0,a.c)(14),{direction:g,onExpand:f}=e;p[0]===Symbol.for("react.memo_cache_sentinel")?(t={justifyContent:"start"},p[0]=t):t=p[0],p[1]!==g?(n={borderRadius:0,backgroundColor:"canvas.default",border:"none",px:3,py:2,width:"100%",fontSize:0,fontWeight:"normal",color:"fg.muted",'[data-component="buttonContent"]':t,..."above"===g?{borderBottom:"1px solid var(--borderColor-default, var(--color-border-default))"}:{borderTop:"1px solid var(--borderColor-default, var(--color-border-default))"}},p[1]=g,p[2]=n):n=p[2],p[3]===Symbol.for("react.memo_cache_sentinel")?(s={display:"flex",alignItems:"center"},p[3]=s):s=p[3];let y="below"===g?i.FoldDownIcon:i.FoldUpIcon;return p[4]===Symbol.for("react.memo_cache_sentinel")?(l={mr:2},p[4]=l):l=p[4],p[5]!==y?(d=(0,r.jsx)(m.A,{icon:y,sx:l}),p[5]=y,p[6]=d):d=p[6],p[7]!==g||p[8]!==d?(u=(0,r.jsxs)(o.A,{sx:s,children:[d,"Show content ",g]}),p[7]=g,p[8]=d,p[9]=u):u=p[9],p[10]!==f||p[11]!==n||p[12]!==u?(h=(0,r.jsx)(c.Q,{onClick:f,sx:n,children:u}),p[10]=f,p[11]=n,p[12]=u,p[13]=h):h=p[13],h}function _(e){let t,n,i=(0,a.c)(3),{children:o}=e;return i[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,r.jsx)(d.l.GroupHeading,{as:"h3",children:"Reference details"}),i[0]=t):t=i[0],i[1]!==o?(n=(0,r.jsx)(d.l,{children:(0,r.jsxs)(d.l.Group,{children:[t,o]})}),i[1]=o,i[2]=n):n=i[2],n}function C(e){let t,n,i=(0,a.c)(6),{children:o,href:s,icon:l}=e;return i[0]!==l?(t=(0,r.jsx)(d.l.LeadingVisual,{children:(0,r.jsx)(m.A,{icon:l})}),i[0]=l,i[1]=t):t=i[1],i[2]!==o||i[3]!==s||i[4]!==t?(n=(0,r.jsxs)(d.l.LinkItem,{href:s,children:[t,o]}),i[2]=o,i[3]=s,i[4]=t,i[5]=n):n=i[5],n}function S(){let e,t,n=(0,a.c)(2);return n[0]===Symbol.for("react.memo_cache_sentinel")?(e={display:"flex",flexDirection:"column",alignItems:"center",m:"auto",p:3},n[0]=e):e=n[0],n[1]===Symbol.for("react.memo_cache_sentinel")?(t=(0,r.jsxs)(o.A,{sx:e,children:[(0,r.jsx)(u.A,{sx:{mb:2}}),(0,r.jsx)("div",{children:"Loading..."})]}),n[1]=t):t=n[1],t}function w(){let e,t,n=(0,a.c)(2);return n[0]===Symbol.for("react.memo_cache_sentinel")?(e={display:"flex",justifyContent:"center",p:3},n[0]=e):e=n[0],n[1]===Symbol.for("react.memo_cache_sentinel")?(t=(0,r.jsx)(o.A,{sx:e,children:(0,r.jsx)(o.A,{sx:{color:"danger.fg",fontWeight:"bold"},children:"Failed to load reference details"})}),n[1]=t):t=n[1],t}function j(e){let t,n=(0,a.c)(4),{children:i,detailsError:o,detailsLoading:s}=e;return n[0]!==i||n[1]!==o||n[2]!==s?(t=o?(0,r.jsx)(w,{}):s?(0,r.jsx)(S,{}):(0,r.jsx)(r.Fragment,{children:i}),n[0]=i,n[1]=o,n[2]=s,n[3]=t):t=n[3],t}let N={Frame:p,Header:g,Body:j,Content:v,CollapsibleSubsection:y,ContentExpander:b,Details:_,DetailLink:C,SectionDivider:f};try{p.displayName||(p.displayName="Frame")}catch{}try{g.displayName||(g.displayName="Header")}catch{}try{f.displayName||(f.displayName="SectionDivider")}catch{}try{y.displayName||(y.displayName="CollapsibleSubsection")}catch{}try{v.displayName||(v.displayName="Content")}catch{}try{b.displayName||(b.displayName="ContentExpander")}catch{}try{_.displayName||(_.displayName="Details")}catch{}try{C.displayName||(C.displayName="DetailLink")}catch{}try{S.displayName||(S.displayName="Loading")}catch{}try{w.displayName||(w.displayName="Error")}catch{}try{j.displayName||(j.displayName="Body")}catch{}},59706:(e,t,n)=>{n.d(t,{_:()=>m,I:()=>d});var r=n(74848),a=n(21728),i=n(75177),o=n(52464),s=n(34614),l=n(9677);let c={"bing-icon":"WebSearchReferencePreview-module__bing-icon--kFZ4I"};function d(e){let t,n,c,d,h,p,g,f,y,x,v,b=(0,a.c)(19),{reference:_,onDismiss:C}=e;b[0]===Symbol.for("react.memo_cache_sentinel")?(t={textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",display:"flex",alignItems:"center",gap:2},n=(0,r.jsx)(m,{}),b[0]=t,b[1]=n):(t=b[0],n=b[1]),b[2]===Symbol.for("react.memo_cache_sentinel")?(c={fontSize:0,fontWeight:400,color:"fg.muted"},b[2]=c):c=b[2],b[3]===Symbol.for("react.memo_cache_sentinel")?(d={fontSize:1,fontWeight:600,color:"fg.default"},b[3]=d):d=b[3];let S=1===_.results.length?" result ":" results ";return b[4]!==_.results.length||b[5]!==S?(h=(0,r.jsxs)(i.A,{sx:t,children:[n,(0,r.jsxs)(o.A,{sx:c,children:[(0,r.jsxs)(o.A,{sx:d,children:[_.results.length," ",S]}),"from Bing search."]})]}),b[4]=_.results.length,b[5]=S,b[6]=h):h=b[6],b[7]!==C||b[8]!==h?(p=(0,r.jsx)(l.O.Header,{onDismiss:C,children:h}),b[7]=C,b[8]=h,b[9]=p):p=b[9],b[10]===Symbol.for("react.memo_cache_sentinel")?(g={display:"flex",flexDirection:"column",px:3,gap:3,pb:3},b[10]=g):g=b[10],b[11]!==_.results?(f=_.results.map(u),b[11]=_.results,b[12]=f):f=b[12],b[13]===Symbol.for("react.memo_cache_sentinel")?(y=(0,r.jsx)(o.A,{sx:{fontSize:0,fontWeight:400},children:(0,r.jsx)(s.A,{href:"https://privacy.microsoft.com/en-us/privacystatement",rel:"nofollow",target:"_blank",children:"Microsoft Privacy Statement"})}),b[13]=y):y=b[13],b[14]!==f?(x=(0,r.jsx)(l.O.Body,{detailsError:!1,detailsLoading:!1,children:(0,r.jsxs)(i.A,{sx:g,children:[f,y]})}),b[14]=f,b[15]=x):x=b[15],b[16]!==x||b[17]!==p?(v=(0,r.jsxs)(l.O.Frame,{children:[p,x]}),b[16]=x,b[17]=p,b[18]=v):v=b[18],v}function u(e,t){return(0,r.jsxs)(i.A,{sx:{display:"flex",flexDirection:"column",gap:1,border:"1px solid var(--borderColor-default, var(--color-border-default))",borderRadius:"6px",padding:3},children:[(0,r.jsx)(s.A,{sx:{fontWeight:600,fontSize:2},href:e.url,rel:"nofollow",children:e.title}),(0,r.jsx)("div",{children:e.excerpt}),(0,r.jsx)(i.A,{sx:{fontSize:0,color:"fg.muted"},children:e.url})]},t)}let m=()=>{let e,t=(0,a.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,r.jsx)("div",{className:c["bing-icon"]}),t[0]=e):e=t[0],e};try{d.displayName||(d.displayName="WebSearchReferencePreview")}catch{}try{m.displayName||(m.displayName="BingIcon")}catch{}},1:(e,t,n)=>{n.d(t,{D:()=>x});var r=n(74848),a=n(6901),i=n(68714),o=n(64262),s=n(26807),l=n(9852),c=n(46309),d=n(73451),u=n(9591),m=n(19647),h=n(96540),p=n(93959),g=n(23358);let f={createSpaceDialog:"CreateSpaceDialog-module__createSpaceDialog--yuVoo",textAreaWrapper:"CreateSpaceDialog-module__textAreaWrapper--sSv2f"};var y=n(85300);function x({closeDialog:e}){let t=(0,s.Z)(),n=(0,h.useRef)(null),{name:x,setName:b,defaultName:_}=(0,i.AV)(),[C,S]=(0,h.useState)(""),[w,j]=(0,h.useState)(null),[N,I]=(0,h.useState)({}),{upsertCopilotSpace:T,isPending:k}=(0,p.$)(),{copilotSpacesConfig:{maxDescriptionLength:A}}=(0,o.X)(),R=(0,h.useCallback)(e=>{let t={...N};for(let n of e)t[n]&&delete t[n];I(t)},[N]),M=(0,h.useCallback)(e=>j(e),[]);(0,h.useEffect)(()=>{n.current&&x===_&&n.current.select()},[x,_]);let E=async()=>{if(!k)try{let e=await T({name:x,description:C,ownerId:w?.id,ownerType:w?.type});I({});let n=(0,a.Cb)(e);return t(n)}catch(e){I(e??{})}},L=()=>{e()};return(0,r.jsx)(l.l,{position:{narrow:"fullscreen"},title:"New Space",onClose:e,width:"large","aria-label":"New Space",className:f.createSpaceDialog,renderFooter:()=>(0,r.jsx)(y.m,{onCancel:L,onSave:E,isLoading:k,disabled:!w}),children:(0,r.jsx)("form",{onSubmit:async e=>{e.preventDefault(),e.stopPropagation(),await E()},children:(0,r.jsxs)(c.B,{children:[(0,r.jsxs)(d.A,{children:[(0,r.jsx)(d.A.Label,{required:!0,children:"Name"}),(0,r.jsx)(u.A,{ref:n,autoFocus:!0,block:!0,"data-testid":"copilot-space-name-input",name:"copilot-space-name",value:x,onChange:e=>{b(e.target.value),R(["name","slug"])}}),N.name?(0,r.jsx)(d.A.Validation,{variant:"error",children:(0,r.jsxs)("span",{children:["Name ",N.name]})}):N.slug?(0,r.jsx)(d.A.Validation,{variant:"error",children:(0,r.jsx)("span",{children:a.j0})}):null]}),(0,r.jsx)(g.E,{onSelect:M,required:!0,showCaption:!1}),(0,r.jsxs)(d.A,{children:[(0,r.jsx)(d.A.Label,{required:!1,children:"Description"}),(0,r.jsx)(m.Ay,{block:!0,name:"description",value:C,rows:3,resize:"vertical",className:f.textAreaWrapper,onChange:e=>{S(e.target.value),R(["description"])}}),N.description?(0,r.jsx)(d.A.Validation,{variant:"error",children:(0,r.jsxs)("span",{children:["Description ",N.description]})}):(0,r.jsx)(v,{text:C,promptCharLimit:A})]})]})})})}function v({text:e,promptCharLimit:t}){let n=e.length>t,a=(0,r.jsxs)(r.Fragment,{children:[e.length.toLocaleString()," / ",t.toLocaleString()," characters"]});return(0,r.jsx)(r.Fragment,{children:n?(0,r.jsx)(d.A.Validation,{variant:"error",children:a}):(0,r.jsx)(d.A.Caption,{children:a})})}try{x.displayName||(x.displayName="CreateSpaceDialog")}catch{}try{v.displayName||(v.displayName="CharacterCount")}catch{}},85300:(e,t,n)=>{n.d(t,{m:()=>o});var r=n(74848),a=n(55847);let i={footerContainer:"SpaceDialogFooter-module__footerContainer--F3oYC"};function o({onSave:e,onCancel:t,isLoading:n=!1,loadingAnnouncement:o="",disabled:s=!1}){return(0,r.jsxs)("div",{className:i.footerContainer,children:[(0,r.jsx)(a.Q,{variant:"default",onClick:t,children:"Cancel"}),(0,r.jsx)(a.Q,{variant:"primary",loading:n,loadingAnnouncement:o,onClick:e,disabled:s||n,children:"Save"})]})}try{o.displayName||(o.displayName="SpaceDialogFooter")}catch{}},23358:(e,t,n)=>{n.d(t,{E:()=>d});var r=n(74848),a=n(39459),i=n(60039),o=n(10569),s=n(73451),l=n(15385),c=n(96540);function d({onSelect:e,showCaption:t=!0,required:n=!1}){let[d,u]=(0,c.useState)([]),[m,h]=(0,c.useState)(!1),[p,g]=(0,c.useState)(void 0),f=(0,c.useCallback)(t=>{g(t),e(t)},[e]),y=(0,c.useCallback)(()=>{u([]),h(!0)},[]);return(0,c.useEffect)(()=>{(async()=>{try{let e=await (0,i.lS)("/github-copilot/chat/custom_copilots_owners"),t=await e.json(),n=t?.owners;if(!e.ok||!n)return void y();u(n),n[0]&&f(n[0])}catch{y()}})()},[y,f]),(0,r.jsxs)(s.A,{children:[(0,r.jsx)(s.A.Label,{required:n,children:"Owner"}),(0,r.jsxs)(o.W,{children:[(()=>{let e=p?.name||"Choose an owner",t=p?(0,r.jsx)(a.r,{src:p.avatarUrl},p.avatarUrl):void 0;return(0,r.jsx)(o.W.Button,{"data-testid":"owner-dropdown-anchor",alignContent:"start","aria-label":e,leadingVisual:t,children:e})})(),(0,r.jsx)(o.W.Overlay,{responsiveVariant:"fullscreen",width:"large",maxHeight:"large",sx:{overflow:"auto"},children:(0,r.jsx)(l.l,{children:(0,r.jsx)(l.l.Group,{sx:{maxHeight:350,overflow:"auto"},children:(0,r.jsxs)(l.l,{selectionVariant:"single",children:[d&&d.map(e=>{let{name:t,avatarUrl:n,displayName:i}=e;return(0,r.jsxs)(l.l.Item,{selected:t===p?.name,onSelect:()=>f(e),children:[(0,r.jsx)(l.l.LeadingVisual,{children:(0,r.jsx)(a.r,{src:n})}),t,(0,r.jsx)(l.l.Description,{children:i})]},t)}),!d.length&&!m&&(0,r.jsx)(l.l.Item,{disabled:!0,children:"Fetching owners\u2026"},"fetching-owners"),m&&(0,r.jsx)(l.l.Item,{disabled:!0,sx:{color:"danger.fg"},children:"An error occurred while loading owners. Please reopen the dialog to try again."},"error-fetching-owners")]})})})})]}),t&&(0,r.jsx)(s.A.Caption,{children:"Where we will store your space. Once created the space is not transferable."})]})}try{d.displayName||(d.displayName="SpacesOwnerDropdown")}catch{}},99038:(e,t,n)=>{n.d(t,{Dy:()=>l,GS:()=>i,KJ:()=>o,LP:()=>c,OZ:()=>d});var r=n(74848),a=n(21728);let i=e=>{let t,n,i,o,s,l=(0,a.c)(7);l[0]!==e?(t=void 0===e?{}:e,l[0]=e,l[1]=t):t=l[1];let{size:c}=t,d=void 0===c?16:c;return l[2]===Symbol.for("react.memo_cache_sentinel")?(n={display:"inline-block",verticalAlign:"text-bottom"},i=(0,r.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M.5 6v4.5A2.5 2.5 0 0 0 3 13h1.645a3.5 3.5 0 0 1-.11-1.5H3a1 1 0 0 1-1-1V6zM14 6v4.5a1 1 0 0 1-1 1h-1.535a3.5 3.5 0 0 1-.11 1.5H13a2.5 2.5 0 0 0 2.5-2.5V6zm-4 6a2 2 0 1 1-4 0 2 2 0 0 1 4 0",clipRule:"evenodd"}),o=(0,r.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M15.5 10V5.5A2.5 2.5 0 0 0 13 3h-1.645a3.5 3.5 0 0 1 .11 1.5H13a1 1 0 0 1 1 1V10zM2 10V5.5a1 1 0 0 1 1-1h1.535a3.5 3.5 0 0 1 .11-1.5H3A2.5 2.5 0 0 0 .5 5.5V10zm4-6a2 2 0 1 1 4 0 2 2 0 0 1-4 0",clipRule:"evenodd"}),l[2]=n,l[3]=i,l[4]=o):(n=l[2],i=l[3],o=l[4]),l[5]!==d?(s=(0,r.jsxs)("svg",{width:d,height:d,fill:"none",viewBox:"0 0 16 16","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",style:n,children:[i,o]}),l[5]=d,l[6]=s):s=l[6],s},o=e=>{let t,n,i,o,s=(0,a.c)(6);s[0]!==e?(t=void 0===e?{}:e,s[0]=e,s[1]=t):t=s[1];let{size:l}=t,c=void 0===l?16:l;return s[2]===Symbol.for("react.memo_cache_sentinel")?(n={display:"inline-block",verticalAlign:"text-bottom"},i=(0,r.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M14.515.456a1.555 1.555 0 00-2.2 0L6.58 6.19a1.556 1.556 0 00-.396.673l-.825 2.89a.667.667 0 00.824.824l2.89-.826c.254-.072.485-.209.672-.396l5.735-5.734a1.556 1.556 0 000-2.2l-.965-.965zm-1.257.942a.222.222 0 01.314 0l.965.966a.222.222 0 010 .314L13.415 3.8l-1.28-1.28 1.123-1.122zm-2.065 2.066l1.279 1.279-3.67 3.67a.221.221 0 01-.096.056l-1.736.496.496-1.736c.01-.036.03-.07.057-.096l3.67-3.67zM1.639 4.778a2.25 2.25 0 012.25-2.25h3.154a.75.75 0 000-1.5H3.889a3.75 3.75 0 00-3.75 3.75v7.333a3.75 3.75 0 003.75 3.75h7.333a3.75 3.75 0 003.75-3.75V8.445a.75.75 0 00-1.5 0v3.666a2.25 2.25 0 01-2.25 2.25H3.889a2.25 2.25 0 01-2.25-2.25V4.778z",clipRule:"evenodd"}),s[2]=n,s[3]=i):(n=s[2],i=s[3]),s[4]!==c?(o=(0,r.jsx)("svg",{width:c,height:c,fill:"none",viewBox:"0 0 16 16","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",style:n,children:i}),s[4]=c,s[5]=o):o=s[5],o},s=e=>{let t,n,i,o,s=(0,a.c)(6);s[0]!==e?(t=void 0===e?{}:e,s[0]=e,s[1]=t):t=s[1];let{size:l}=t,c=void 0===l?16:l;return s[2]===Symbol.for("react.memo_cache_sentinel")?(n={display:"inline-block",verticalAlign:"text-bottom"},i=(0,r.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M13 .5H3A2.5 2.5 0 0 0 .5 3v10A2.5 2.5 0 0 0 3 15.5h10a2.5 2.5 0 0 0 2.5-2.5V3A2.5 2.5 0 0 0 13 .5M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1zm6 6.25a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5M12.25 5a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0M5 12.25a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5",clipRule:"evenodd"}),s[2]=n,s[3]=i):(n=s[2],i=s[3]),s[4]!==c?(o=(0,r.jsx)("svg",{width:c,height:c,fill:"none",viewBox:"0 0 16 16","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",style:n,children:i}),s[4]=c,s[5]=o):o=s[5],o},l=e=>{let t,n,i,o,s,l=(0,a.c)(7);l[0]!==e?(t=void 0===e?{}:e,l[0]=e,l[1]=t):t=l[1];let{size:c}=t,d=void 0===c?16:c;return l[2]===Symbol.for("react.memo_cache_sentinel")?(n={display:"inline-block",verticalAlign:"text-bottom"},i=(0,r.jsx)("path",{d:"M7.41299 14.25H1.75C1.19772 14.25 0.75 13.8023 0.75 13.25V2.75C0.75 2.19772 1.19772 1.75 1.75 1.75H5C5.31476 1.75 5.61115 1.89819 5.8 2.15L6.7 3.35C6.88885 3.60181 7.18524 3.75 7.5 3.75H14.25C14.8023 3.75 15.25 4.19772 15.25 4.75V8.48779",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),o=(0,r.jsx)("path",{d:"M12.265 9.15977C12.3446 8.94235 12.6521 8.94235 12.7317 9.15977L12.9693 9.80865C13.3464 10.8387 14.158 11.6503 15.1881 12.0274L15.8369 12.265C16.0544 12.3446 16.0544 12.6521 15.8369 12.7317L15.1881 12.9692C14.158 13.3463 13.3464 14.158 12.9693 15.188L12.7317 15.8369C12.6521 16.0543 12.3446 16.0543 12.265 15.8369L12.0275 15.188C11.6504 14.158 10.8387 13.3463 9.80871 12.9692L9.15983 12.7317C8.94241 12.6521 8.94241 12.3446 9.15983 12.265L9.80871 12.0274C10.8387 11.6503 11.6504 10.8387 12.0275 9.80865L12.265 9.15977Z",fill:"currentColor"}),l[2]=n,l[3]=i,l[4]=o):(n=l[2],i=l[3],o=l[4]),l[5]!==d?(s=(0,r.jsxs)("svg",{width:d,height:d,fill:"none",viewBox:"0 0 16 16","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",style:n,children:[i,o]}),l[5]=d,l[6]=s):s=l[6],s},c=e=>{let t,n,i,o,s,l=(0,a.c)(7);l[0]!==e?(t=void 0===e?{}:e,l[0]=e,l[1]=t):t=l[1];let{size:c}=t,d=void 0===c?16:c;return l[2]===Symbol.for("react.memo_cache_sentinel")?(n={display:"inline-block",verticalAlign:"text-bottom"},i=(0,r.jsx)("path",{d:"M16.0376 9.67565V5.82038C16.0376 5.69043 15.9257 5.58508 15.7876 5.58508H11.6914C11.4687 5.58508 11.3571 5.83853 11.5146 5.98676L15.6108 9.84196C15.7683 9.99019 16.0376 9.88525 16.0376 9.67565Z",fill:"currentColor"}),o=(0,r.jsx)("path",{d:"M1.89601 3.25629C4.26064 1.03075 8.04807 0.960969 10.5015 3.04765L10.7339 3.25629L10.7857 3.3096C11.0259 3.58685 11.0085 3.99602 10.7339 4.25445C10.4593 4.51252 10.0254 4.52825 9.73097 4.30225L9.67336 4.25445L9.4966 4.09544C7.63201 2.50983 4.75358 2.56313 2.95656 4.25445C1.10158 6.00031 1.10158 8.83023 2.95656 10.5761C4.81155 12.322 7.8184 12.3219 9.67336 10.5761L13.563 6.91622C13.8559 6.64063 14.3307 6.64058 14.6236 6.91622C14.9163 7.19186 14.9163 7.63873 14.6236 7.91438L10.7339 11.5752C8.29328 13.8718 4.33667 13.8718 1.89601 11.5752C-0.544758 9.27799 -0.544771 5.55349 1.89601 3.25629Z",fill:"currentColor"}),l[2]=n,l[3]=i,l[4]=o):(n=l[2],i=l[3],o=l[4]),l[5]!==d?(s=(0,r.jsxs)("svg",{width:d,height:d,fill:"none",viewBox:"0 0 16 16","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",style:n,children:[i,o]}),l[5]=d,l[6]=s):s=l[6],s},d={compose:o,dice:s,loops:c,node:i,spaces:l};try{i.displayName||(i.displayName="NodeIcon")}catch{}try{o.displayName||(o.displayName="ComposeIcon")}catch{}try{s.displayName||(s.displayName="DiceIcon")}catch{}try{l.displayName||(l.displayName="SpacesIcon")}catch{}try{c.displayName||(c.displayName="LoopsIcon")}catch{}},44446:(e,t,n)=>{n.d(t,{I:()=>u});var r=n(74848),a=n(21728),i=n(34164),o=n(99038),s=n(38621);let l={container:"Icon-module__container--QOYOK",customColor:"Icon-module__customColor--HlhOS",hasBackground:"Icon-module__hasBackground--zz0fp",auburn:"Icon-module__auburn--qIzKn",blue:"Icon-module__blue--Ydgzj",brown:"Icon-module__brown--MphUd",coral:"Icon-module__coral--Jjxvj",cyan:"Icon-module__cyan--O0g_g",gray:"Icon-module__gray--rvF4R",green:"Icon-module__green--nHw65",indigo:"Icon-module__indigo--S8x7A",lemon:"Icon-module__lemon--Nc7fm",lime:"Icon-module__lime--ghjuW",olive:"Icon-module__olive--v6fBi",orange:"Icon-module__orange--AmLH_",pine:"Icon-module__pine--j5Ka1",pink:"Icon-module__pink--QHUu5",plum:"Icon-module__plum--JvLfU",purple:"Icon-module__purple--CLqTs",red:"Icon-module__red--ayaY4",teal:"Icon-module__teal--xmOZK",yellow:"Icon-module__yellow--Y3ymS"},c=new Set(Object.keys(l).filter(e=>!["container","hasBackground","customColor"].includes(e))),d=e=>e in s;function u(e){let t,n,u,m,h,p,g=(0,a.c)(19),{icon:f,hasBackground:y,color:x,size:v,className:b}=e,_=void 0!==y&&y,C=void 0===x?"gray":x,S=void 0===v?16:v;if("string"==typeof f)if(f in o.OZ)t=o.OZ[f];else{let e;g[0]!==f?(e=function(e){let t=`${e.replaceAll(/(?:^|-)(\w)/g,(e,t)=>t.toUpperCase())}Icon`;return d(t)?s[t]:void 0}(f),g[0]=f,g[1]=e):e=g[1],t=e}else t=f;if(!t)return null;g[2]!==C?(n=c.has(C),g[2]=C,g[3]=n):n=g[3];let w=n,j=`${_?2*S:S}px`;g[4]!==C||g[5]!==w||g[6]!==j?(u={"--custom-size":j},w||(u["--custom-color"]=C),g[4]=C,g[5]=w,g[6]=j,g[7]=u):u=g[7];let N=w?l[C]:l.customColor,I=_&&l.hasBackground;return g[8]!==b||g[9]!==N||g[10]!==I?(m=(0,i.$)(l.container,N,I,b),g[8]=b,g[9]=N,g[10]=I,g[11]=m):m=g[11],g[12]!==t||g[13]!==S?(h=(0,r.jsx)(t,{size:S,fill:"currentColor"}),g[12]=t,g[13]=S,g[14]=h):h=g[14],g[15]!==u||g[16]!==m||g[17]!==h?(p=(0,r.jsx)("div",{style:u,className:m,children:h}),g[15]=u,g[16]=m,g[17]=h,g[18]=p):p=g[18],p}try{u.displayName||(u.displayName="Icon")}catch{}},68415:(e,t,n)=>{n.d(t,{Gy:()=>c,LB:()=>p,nn:()=>g,lm:()=>m});var r=n(74848),a=n(96540);let i=null,o=null,s=new Set;function l(e){return s.add(e),i||(i=new ResizeObserver(()=>{o||(o=requestAnimationFrame(()=>{for(let e of(o=null,s))e()}))})).observe(document.documentElement),()=>{s.delete(e),0===s.size&&i&&(i.disconnect(),i=null)}}let c={small:1,medium:544,large:768,xlarge:1012,xxlarge:1280,xxxlarge:1350,xxxxlarge:1440},d=[c.xxxxlarge,c.xxxlarge,c.xxlarge,c.xlarge,c.large,c.medium,c.small],u=a.createContext({screenSize:c.small});function m(){return a.useContext(u)}function h(){return g(window.innerWidth)}function p({children:e,initialValue:t=c.small}){let n=(0,a.useSyncExternalStore)(l,h,(0,a.useCallback)(()=>t,[t])),i=(0,a.useMemo)(()=>({screenSize:n}),[n]);return(0,r.jsx)(u.Provider,{value:i,children:e})}function g(e){for(let t of d)if(e>=t)return t;return c.small}try{u.displayName||(u.displayName="ScreenContext")}catch{}try{p.displayName||(p.displayName="ScreenSizeProvider")}catch{}},87517:(e,t,n)=>{n.d(t,{x:()=>h});var r=n(74848),a=n(38621),i=n(75177),o=n(6869),s=n(34614),l=n(10569),c=n(15385),d=n(85788),u=n(34441),m=n(34164);function h({className:e,portalContainerName:t,protectedOrgs:n,maxVisibleOrgNames:l=3,redirectURI:c,useFullWidthStyle:h,forceWrap:f,sx:y}){let x=(0,d.zy)();if(!n||0===n.length)return null;let v=Math.max(0,n.length-l),b=1===n.length||v>0?(0,r.jsx)("b",{children:n.slice(0,l).join(", ")}):(0,r.jsxs)("span",{children:[(0,r.jsx)("b",{children:n.slice(0,n.length-1).join(", ")}),n.length>2&&","," and ",(0,r.jsx)("b",{children:n[n.length-1]})]});return(0,r.jsx)(i.A,{sx:y,className:e,"data-testid":"sso-banner",children:(0,r.jsx)("div",{className:u.A.Box,children:(0,r.jsx)("section",{"aria-label":"Single sign-on information",children:(0,r.jsx)(o.A,{sx:{borderRadius:2*!h,borderWidth:h?"1px 0":1},className:u.A.Flash,children:1===n.length?(0,r.jsxs)("div",{children:[(0,r.jsx)(a.ShieldLockIcon,{className:u.A.ShieldLockIcon}),(0,r.jsx)(s.A,{inline:!0,href:`/orgs/${n[0]}/sso?return_to=${g({location:x,redirectURI:c})}`,children:"Single sign-on"})," ","to see results in the ",(0,r.jsx)("b",{children:n[0]})," organization."]}):(0,r.jsxs)("div",{className:u.A.Box_1,children:[(0,r.jsx)(a.ShieldLockIcon,{className:u.A.Octicon}),(0,r.jsxs)("div",{className:(0,m.$)(u.A.Box_2,f&&u.A.ForceWrap),children:[(0,r.jsxs)("p",{className:u.A.ProtectedOrgs_FullList,children:["Single sign-on to see results in ",0===v&&"the ",l>0&&(0,r.jsxs)(r.Fragment,{children:[b," "]}),v>0&&(0,r.jsxs)(r.Fragment,{children:[l>0&&"and ",v," other"," "]}),n.length>1&&1!==v?"organizations":"organization","."]}),(0,r.jsx)("p",{className:u.A.ProtectedOrgs_Shortened,children:"Single sign-on to see results in your organizations"}),(0,r.jsx)("div",{style:{flexShrink:0},children:(0,r.jsx)(p,{portalContainerName:t,protectedOrgs:n,redirectURI:c})})]})]})})})})})}function p({portalContainerName:e,protectedOrgs:t,redirectURI:n}){let a=(0,d.zy)();return(0,r.jsxs)(l.W,{children:[(0,r.jsx)(l.W.Button,{size:"small",children:"Select an organization"}),(0,r.jsx)(l.W.Overlay,{portalContainerName:e,children:(0,r.jsx)(c.l,{children:t.map(e=>(0,r.jsx)(c.l.Item,{onSelect:()=>{window.location.href=`/orgs/${encodeURIComponent(e)}/sso?return_to=${g({location:a,redirectURI:n})}`},children:e},`org-${e}`))})})]})}function g({location:e,redirectURI:t}){return encodeURIComponent(t?t(e):e.pathname+e.search+e.hash)}try{h.displayName||(h.displayName="SingleSignOnBanner")}catch{}try{p.displayName||(p.displayName="SingleSignOnButton")}catch{}},42218:(e,t,n)=>{n.d(t,{V:()=>m});var r=n(74848),a=n(96540),i=n(99543),o=n(38621),s=n(65556),l=n(16255);let c={info:"",success:"Toast--success",error:"Toast--error"},d={info:(0,r.jsx)(o.InfoIcon,{}),success:(0,r.jsx)(o.CheckIcon,{}),error:(0,r.jsx)(o.StopIcon,{})},u=({message:e,timeToLive:t,icon:n,type:i="info",role:o="log"})=>{let[u,m]=a.useState(!0),{safeSetTimeout:h}=(0,s.A)();return(0,a.useEffect)(()=>{t&&h(()=>m(!1),t-300)},[h,t]),(0,r.jsx)(l.Z,{children:(0,r.jsx)("div",{className:"p-1 position-fixed bottom-0 left-0 mb-3 ml-3",children:(0,r.jsxs)("div",{className:`Toast ${c[i]} ${u?"Toast--animateIn":"Toast--animateOut"}`,id:"ui-app-toast","data-testid":`ui-app-toast-${i}`,role:o,children:[(0,r.jsx)("span",{className:"Toast-icon",children:n||d[i]}),(0,r.jsx)("span",{className:"Toast-content",children:e})]})})})};try{u.displayName||(u.displayName="Toast")}catch{}function m(){let{toasts:e,persistedToast:t}=(0,a.useContext)(i.T8);return(0,r.jsxs)(r.Fragment,{children:[e.map((e,t)=>(0,r.jsx)(u,{message:e.message,icon:e.icon,timeToLive:i.Qn,type:e.type,role:e.role},t)),t&&(0,r.jsx)(u,{message:t.message,icon:t.icon,type:t.type,role:t.role})]})}try{m.displayName||(m.displayName="Toasts")}catch{}},13455:(e,t,n)=>{n.d(t,{NE:()=>f,Mm:()=>x,YS:()=>y,mN:()=>_,XF:()=>v,Cf:()=>b});var r=n(74848),a=n(96540),i=n(73451),o=n(19647),s=n(34614),l=n(58868),c=n(55847),d=n(9852),u=n(38621);let m={bodyContainer:"UserFeedback-module__bodyContainer--O4i85",ratingContainer:"UserFeedback-module__ratingContainer--i0uZJ",ratingOption:"UserFeedback-module__ratingOption--hic5K",ratingButton:"UserFeedback-module__ratingButton--HsIWu",ratingCaption:"UserFeedback-module__ratingCaption--qUJIU",footerContainer:"UserFeedback-module__footerContainer--u06YH",footerActionButtonGroup:"UserFeedback-module__footerActionButtonGroup--t8_wz",copyLogsSuccessIcon:"UserFeedback-module__copyLogsSuccessIcon--zNnJA",messageContainer:"UserFeedback-module__messageContainer--cT4Rk",validationError:"UserFeedback-module__validationError--zjQhN",privacyText:"UserFeedback-module__privacyText--qSsVA",Dialog:"UserFeedback-module__Dialog--d4Z0e"},h={verySatisfied:"UserFeedbackColors-module__verySatisfied--Ypo1v",good:"UserFeedbackColors-module__good--iI67T",satisfied:"UserFeedbackColors-module__satisfied--MpwOG",dissatisfied:"UserFeedbackColors-module__dissatisfied--Kuqhh",veryDissatisfied:"UserFeedbackColors-module__veryDissatisfied--m5jfW",bad:"UserFeedbackColors-module__bad--TcLP4"};var p=n(34164);function g({title:e="Give feedback",requestID:t,options:n,returnFocusRef:g,onSubmit:f,onClose:y},x){let[v,b]=(0,a.useState)(null),[_,C]=(0,a.useState)(""),[S,w]=(0,a.useState)([]),[j,N]=(0,a.useState)(0),[I,T]=(0,a.useState)(!1),[k,A]=(0,a.useState)(!1);(0,a.useEffect)(()=>{S.length>0&&N(e=>e+1)},[S]),(0,a.useImperativeHandle)(x,()=>({openDialog:e=>{if(null!=e){if(!n.some(t=>t.value===e))throw Error("invalid initial option value");b(e)}T(!0)}}));let R=async e=>{e.preventDefault();let t=[];try{t=await f(v,_)}catch{t=["An error occurred while submitting your feedback."]}w(t),0===t.length&&E()},M=()=>{b(null),C(""),w([])},E=()=>{M(),T(!1),y?.()},L=e=>{b(e),w([])},P=e=>{C(e.target.value),w([])},F=async()=>{if(t){try{await navigator.clipboard.writeText(`Request ID: ${t}`)}catch{w(e=>[...e,"Failed to copy logs."]);return}A(!0),setTimeout(()=>{A(!1)},1e3)}};return(0,r.jsx)(r.Fragment,{children:I&&(0,r.jsx)(d.l,{onClose:E,title:e,renderBody:()=>(0,r.jsxs)("div",{className:m.bodyContainer,children:[(0,r.jsxs)(i.A,{required:!0,children:[(0,r.jsx)(i.A.Label,{visuallyHidden:!0,children:"Rating"}),(0,r.jsx)("div",{className:m.ratingContainer,children:n.map(e=>(0,r.jsxs)("div",{className:m.ratingOption,children:[(0,r.jsx)("button",{type:"button",role:"radio","aria-label":e.name,"aria-checked":v===e.value,onClick:()=>L(e.value),className:(0,p.$)(m.ratingButton,h[e.color]),children:e.icon}),(0,r.jsx)("span",{className:m.ratingCaption,children:e.name})]},e.name))})]}),(0,r.jsxs)("div",{className:m.messageContainer,children:[(0,r.jsxs)(i.A,{children:[(0,r.jsx)(i.A.Label,{children:"Message"}),(0,r.jsx)(o.Ay,{placeholder:"Tell us what you liked or what could be better",value:_,onChange:P,resize:"vertical",block:!0,rows:5})]}),(0,r.jsxs)("span",{className:m.privacyText,children:["Please don\u2019t include sensitive, confidential, or personal data. Your feedback helps us improve our services in line with our"," ",(0,r.jsx)(s.A,{href:"https://docs.github.com/en/site-policy/privacy-policies/github-general-privacy-statement",inline:!0,muted:!0,children:"Privacy Policy"}),"."]}),(0,r.jsx)("div",{className:m.validationError,role:"alert",children:S.map(e=>(0,r.jsx)("div",{children:e},e))},j)]})]}),renderFooter:()=>(0,r.jsxs)("div",{className:m.footerContainer,children:[(0,r.jsx)("div",{children:t&&(0,r.jsx)(l.m,{text:"Copy logs to add in feedback",direction:"n",children:(0,r.jsx)(c.Q,{leadingVisual:k?(0,r.jsx)(u.CheckIcon,{className:m.copyLogsSuccessIcon,size:16}):(0,r.jsx)(u.CopyIcon,{size:16}),onClick:F,variant:"default",children:k?"Copied!":"Copy logs"})})}),(0,r.jsxs)("div",{className:m.footerActionButtonGroup,children:[(0,r.jsx)(c.Q,{onClick:E,children:"Cancel"}),(0,r.jsx)(c.Q,{variant:"primary",type:"submit",onClick:R,children:"Send"})]})]}),className:m.Dialog,returnFocusRef:g})})}let f=(0,a.forwardRef)(g),y=(0,r.jsxs)("svg",{width:"16",height:"16","aria-hidden":"true",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 14.5C11.5899 14.5 14.5 11.5899 14.5 8C14.5 4.41015 11.5899 1.5 8 1.5C4.41015 1.5 1.5 4.41015 1.5 8C1.5 11.5899 4.41015 14.5 8 14.5ZM8 16C12.4183 16 16 12.4183 16 8C16 3.58172 12.4183 0 8 0C3.58172 0 0 3.58172 0 8C0 12.4183 3.58172 16 8 16Z"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.65646 10.7C6.15313 9.85483 7.09616 9.3 8 9.3C8.47794 9.3 9.0345 9.50535 9.54632 9.9146C9.83116 10.1424 10.0753 10.4124 10.2645 10.7H5.65646ZM11.8447 11.016C11.3379 9.39273 9.66897 8 8 8C6.30092 8 4.60185 9.23723 4.12902 11.011C3.98676 11.5446 4.44771 12 5 12H11C11.5523 12 12.0093 11.5432 11.8447 11.016Z"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.89649 4.7586C4.02981 4.42529 4.40809 4.26317 4.7414 4.39649L7.00928 5.30364C7.63789 5.55509 7.6379 6.44491 7.00928 6.69636L4.7414 7.60351C4.40809 7.73683 4.02981 7.57471 3.89649 7.2414C3.76317 6.90809 3.92529 6.52981 4.2586 6.39649L5.24982 6L4.2586 5.60351C3.92529 5.47019 3.76317 5.09191 3.89649 4.7586Z"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.1035 4.7586C11.9702 4.42529 11.5919 4.26317 11.2586 4.39649L8.99072 5.30364C8.36211 5.55509 8.3621 6.44491 8.99072 6.69636L11.2586 7.60351C11.5919 7.73683 11.9702 7.57471 12.1035 7.2414C12.2368 6.90809 12.0747 6.52981 11.7414 6.39649L10.7502 6L11.7414 5.60351C12.0747 5.47019 12.2368 5.09191 12.1035 4.7586Z"})]}),x=(0,r.jsxs)("svg",{width:"16",height:"16","aria-hidden":"true",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 14.5C11.5899 14.5 14.5 11.5899 14.5 8C14.5 4.41015 11.5899 1.5 8 1.5C4.41015 1.5 1.5 4.41015 1.5 8C1.5 11.5899 4.41015 14.5 8 14.5ZM8 16C12.4183 16 16 12.4183 16 8C16 3.58172 12.4183 0 8 0C3.58172 0 0 3.58172 0 8C0 12.4183 3.58172 16 8 16Z"}),(0,r.jsx)("path",{d:"M6.5 6.5C6.5 7.05228 6.05228 7.5 5.5 7.5C4.94772 7.5 4.5 7.05228 4.5 6.5C4.5 5.94772 4.94772 5.5 5.5 5.5C6.05228 5.5 6.5 5.94772 6.5 6.5Z"}),(0,r.jsx)("path",{d:"M11.5 6.5C11.5 7.05228 11.0523 7.5 10.5 7.5C9.94772 7.5 9.5 7.05228 9.5 6.5C9.5 5.94772 9.94772 5.5 10.5 5.5C11.0523 5.5 11.5 5.94772 11.5 6.5Z"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.3416 11.8591C9.33064 10.0058 6.66936 10.0058 5.65842 11.8591C5.46007 12.2228 5.0045 12.3568 4.64086 12.1584C4.27722 11.9601 4.14323 11.5045 4.34158 11.1409C5.92104 8.24518 10.079 8.24518 11.6584 11.1409C11.8568 11.5045 11.7228 11.9601 11.3591 12.1584C10.9955 12.3568 10.5399 12.2228 10.3416 11.8591Z"})]}),v=(0,r.jsxs)("svg",{width:"16","aria-hidden":"true",height:"16",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 14.5C11.5899 14.5 14.5 11.5899 14.5 8C14.5 4.41015 11.5899 1.5 8 1.5C4.41015 1.5 1.5 4.41015 1.5 8C1.5 11.5899 4.41015 14.5 8 14.5ZM8 16C12.4183 16 16 12.4183 16 8C16 3.58172 12.4183 0 8 0C3.58172 0 0 3.58172 0 8C0 12.4183 3.58172 16 8 16Z"}),(0,r.jsx)("path",{d:"M6.5 6.5C6.5 7.05228 6.05228 7.5 5.5 7.5C4.94772 7.5 4.5 7.05228 4.5 6.5C4.5 5.94772 4.94772 5.5 5.5 5.5C6.05228 5.5 6.5 5.94772 6.5 6.5Z"}),(0,r.jsx)("path",{d:"M11.5 6.5C11.5 7.05228 11.0523 7.5 10.5 7.5C9.94772 7.5 9.5 7.05228 9.5 6.5C9.5 5.94772 9.94772 5.5 10.5 5.5C11.0523 5.5 11.5 5.94772 11.5 6.5Z"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5 11C5 10.5858 5.33579 10.25 5.75 10.25H10.25C10.6642 10.25 11 10.5858 11 11C11 11.4142 10.6642 11.75 10.25 11.75H5.75C5.33579 11.75 5 11.4142 5 11Z"})]}),b=(0,r.jsxs)("svg",{width:"16","aria-hidden":"true",height:"16",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 14.5C11.5899 14.5 14.5 11.5899 14.5 8C14.5 4.41015 11.5899 1.5 8 1.5C4.41015 1.5 1.5 4.41015 1.5 8C1.5 11.5899 4.41015 14.5 8 14.5ZM8 16C12.4183 16 16 12.4183 16 8C16 3.58172 12.4183 0 8 0C3.58172 0 0 3.58172 0 8C0 12.4183 3.58172 16 8 16Z"}),(0,r.jsx)("path",{d:"M6.5 6.5C6.5 7.05228 6.05228 7.5 5.5 7.5C4.94772 7.5 4.5 7.05228 4.5 6.5C4.5 5.94772 4.94772 5.5 5.5 5.5C6.05228 5.5 6.5 5.94772 6.5 6.5Z"}),(0,r.jsx)("path",{d:"M11.5 6.5C11.5 7.05228 11.0523 7.5 10.5 7.5C9.94772 7.5 9.5 7.05228 9.5 6.5C9.5 5.94772 9.94772 5.5 10.5 5.5C11.0523 5.5 11.5 5.94772 11.5 6.5Z"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.3569 9.61413C9.28933 11.3934 6.71067 11.3934 5.64312 9.61413C5.43001 9.25894 4.96931 9.14377 4.61413 9.35688C4.25894 9.56999 4.14377 10.0307 4.35688 10.3859C6.00704 13.1361 9.99296 13.1361 11.6431 10.3859C11.8562 10.0307 11.7411 9.56999 11.3859 9.35688C11.0307 9.14377 10.57 9.25894 10.3569 9.61413Z"})]}),_=(0,r.jsxs)("svg",{width:"16","aria-hidden":"true",height:"16",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.65646 10.3C6.15313 11.1452 7.09616 11.7 8 11.7C8.47794 11.7 9.0345 11.4947 9.54632 11.0854C9.83116 10.8576 10.0753 10.5876 10.2645 10.3H5.65646ZM11.8447 9.98403C11.3379 11.6073 9.66897 13 8 13C6.30092 13 4.60185 11.7628 4.12902 9.98904C3.98676 9.45539 4.44771 9 5 9H11C11.5523 9 12.0093 9.45684 11.8447 9.98403Z"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 14.5C11.5899 14.5 14.5 11.5899 14.5 8C14.5 4.41015 11.5899 1.5 8 1.5C4.41015 1.5 1.5 4.41015 1.5 8C1.5 11.5899 4.41015 14.5 8 14.5ZM8 16C12.4183 16 16 12.4183 16 8C16 3.58172 12.4183 0 8 0C3.58172 0 0 3.58172 0 8C0 12.4183 3.58172 16 8 16Z"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.3292 6.83541C10.9875 6.15213 10.0125 6.15213 9.67082 6.83541C9.48558 7.20589 9.03507 7.35606 8.66459 7.17082C8.29411 6.98558 8.14394 6.53507 8.32918 6.16459C9.22361 4.37574 11.7764 4.37574 12.6708 6.16459C12.8561 6.53507 12.7059 6.98558 12.3354 7.17082C11.9649 7.35606 11.5144 7.20589 11.3292 6.83541Z"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.32918 6.83541C5.98754 6.15213 5.01246 6.15213 4.67082 6.83541C4.48558 7.20589 4.03507 7.35606 3.66459 7.17082C3.29411 6.98558 3.14394 6.53507 3.32918 6.16459C4.22361 4.37574 6.77639 4.37574 7.67082 6.16459C7.85606 6.53507 7.70589 6.98558 7.33541 7.17082C6.96493 7.35606 6.51442 7.20589 6.32918 6.83541Z"})]});try{g.displayName||(g.displayName="UserFeedbackInner")}catch{}try{f.displayName||(f.displayName="UserFeedback")}catch{}}}]);
//# sourceMappingURL=ui_packages_copilot-chat_hooks_use-chat-message-behavior_ts-ui_packages_copilot-chat_hooks_us-edd0af-b5404a0b46b9.js.map